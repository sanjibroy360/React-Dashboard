{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { DependencyObject } from \"igniteui-react-core\";\nimport { IOverviewPlusDetailControl_$type } from \"igniteui-react-core\";\nimport { INotifyPropertyChanged_$type, PropertyChangedEventArgs, runOn, delegateCombine, typeCast, delegateRemove, enumGetBox, markType, markDep } from \"igniteui-react-core\";\nimport { Canvas } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { InteractionState_$type } from \"igniteui-react-core\";\nimport { ArgumentNullException } from \"igniteui-react-core\";\nimport { RenderSurface } from \"./RenderSurface\";\nimport { RectUtil } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { XamDataChart } from \"./XamDataChart\";\n/**\n * @hidden\n */\n\nvar SeriesViewerSurfaceViewer =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(SeriesViewerSurfaceViewer, _super);\n\n  function SeriesViewerSurfaceViewer(a, b) {\n    var _this = _super.call(this) || this;\n\n    _this.m = null;\n    _this.o = false;\n    _this.k = null;\n    _this.x = null;\n    _this.n = true;\n    _this.q = null;\n    _this.j = 0;\n    _this.propertyChanged = null;\n\n    if (a == null || b == null) {\n      throw new ArgumentNullException(0, \"model\");\n    }\n\n    _this.l = a;\n    var c = _this.l;\n    c.windowRectChanged = delegateCombine(c.windowRectChanged, runOn(_this, _this.u));\n    _this.m = b;\n    _this.x = new Canvas();\n\n    _this.w();\n\n    return _this;\n  }\n\n  SeriesViewerSurfaceViewer.prototype.u = function (a, b) {\n    var c = this.o;\n    this.o = true;\n    this.zoomLevel = 1 - Math.min(b.newRect.height, b.newRect.width);\n    this.o = c;\n  };\n\n  Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"l\", {\n    get: function () {\n      return this.k;\n    },\n    set: function (a) {\n      if (this.k != null) {\n        var b = typeCast(INotifyPropertyChanged_$type, this.k);\n\n        if (b != null) {\n          b.propertyChanged = delegateRemove(b.propertyChanged, runOn(this, this.t));\n        }\n      }\n\n      this.k = a;\n\n      if (this.k != null) {\n        var c = typeCast(INotifyPropertyChanged_$type, this.k);\n\n        if (c != null) {\n          c.propertyChanged = delegateCombine(c.propertyChanged, runOn(this, this.t));\n        }\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  SeriesViewerSurfaceViewer.prototype.t = function (a, b) {\n    if (b.propertyName == \"DefaultInteraction\") {\n      this.j = this.l.bc;\n      this.v(b.propertyName, enumGetBox(InteractionState_$type, this.defaultInteraction), enumGetBox(InteractionState_$type, this.defaultInteraction));\n    }\n  };\n\n  SeriesViewerSurfaceViewer.prototype.zoomTo100 = function () {\n    this.l.m6 = XamDataChart.m2;\n  };\n\n  SeriesViewerSurfaceViewer.prototype.scaleToFit = function () {\n    this.l.m6 = XamDataChart.m2;\n  };\n\n  SeriesViewerSurfaceViewer.prototype.renderPreview = function () {\n    if (!this.isDirty) {\n      return;\n    }\n\n    var a = new RenderSurface();\n    a.a = this.m.l.viewThumbnailContext;\n\n    if (a.a != null && a.a.d) {\n      var b = this.m.l.viewThumbnailSize;\n      this.m.b5(b.width, b.height, a);\n    }\n\n    this.isDirty = false;\n  };\n\n  Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"worldRect\", {\n    get: function () {\n      return XamDataChart.m2;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"viewportRect\", {\n    get: function () {\n      return this.l.m5;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"minimumZoomLevel\", {\n    get: function () {\n      return 0;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"maximumZoomLevel\", {\n    get: function () {\n      if (this.l.ex == 0.0001) {\n        return 0.9;\n      } else {\n        return 1 - this.l.ex;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"isDirty\", {\n    get: function () {\n      return this.n;\n    },\n    set: function (a) {\n      this.n = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"isIsoScaled\", {\n    get: function () {\n      if (this.k == null) {\n        return false;\n      }\n\n      return this.k.cw;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  SeriesViewerSurfaceViewer.prototype.v = function (a, b, c) {\n    if (this.propertyChanged != null) {\n      this.propertyChanged(this, new PropertyChangedEventArgs(a));\n    }\n\n    switch (a) {\n      case SeriesViewerSurfaceViewer.$$p[0]:\n        if (c - this.minimumZoomLevel < -1E-05) {\n          this.zoomLevel = this.minimumZoomLevel;\n          return;\n        }\n\n        if (c - this.maximumZoomLevel > 0.0001) {\n          this.zoomLevel = this.maximumZoomLevel;\n          return;\n        }\n\n        var d = this.l != null && this.l.bi != null && this.l.bi.updatingSliderRanges;\n\n        if (!this.o && !d) {\n          var e = 1 - this.zoomLevel;\n          var f = RectUtil.l(this.l.mr);\n          var g = new Rect(0, f.x - e / 2, f.y - e / 2, e, e);\n          this.l.m6 = SeriesViewerSurfaceViewer.z(this.l.m6, g, this.l.c3(), this.l.c4(), this.worldRect);\n        }\n\n        this.w();\n\n        if (this.l.bi != null) {\n          this.l.bi.pushZoomLevel(this.zoomLevel);\n        }\n\n        break;\n    }\n  };\n\n  SeriesViewerSurfaceViewer.prototype.w = function () {\n    var a = Math.round(100 * (1 / (1 - this.zoomLevel)));\n\n    if (a <= 1000) {\n      this.zoomLevelDisplayText = a.toString();\n    } else {\n      this.zoomLevelDisplayText = \"> 1000\";\n    }\n  };\n\n  Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"zoomLevelDisplayText\", {\n    get: function () {\n      return this.q;\n    },\n    set: function (a) {\n      var b = this.zoomLevelDisplayText != a;\n\n      if (b) {\n        var c = this.zoomLevelDisplayText;\n        this.q = a;\n        this.v(\"ZoomLevelDisplayText\", c, a);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"defaultInteraction\", {\n    get: function () {\n      return this.j;\n    },\n    set: function (a) {\n      this.j = a;\n      this.l.bc = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  SeriesViewerSurfaceViewer.z = function (a, b, c, d, e) {\n    var f, g, h, i;\n\n    if (c) {\n      f = b.left;\n      h = b.width;\n    } else {\n      f = a.left;\n      h = a.width;\n    }\n\n    if (d) {\n      g = b.top;\n      i = b.height;\n    } else {\n      g = a.top;\n      i = a.height;\n    }\n\n    var j = f + h;\n    var k = g + i;\n    var l = Math.max(0, e.left - f);\n    var m = Math.max(0, j - e.right);\n    var n = Math.max(0, e.top - g);\n    var o = Math.max(0, k - e.bottom);\n    f += l - m;\n    g += n - o;\n    var p = new Rect(0, f, g, h, i);\n    p.intersect(e);\n    return p;\n  };\n\n  SeriesViewerSurfaceViewer.$t = markType(SeriesViewerSurfaceViewer, 'SeriesViewerSurfaceViewer', DependencyObject.$, [IOverviewPlusDetailControl_$type, INotifyPropertyChanged_$type]);\n  SeriesViewerSurfaceViewer.$$p = markDep(DependencyProperty, PropertyMetadata, SeriesViewerSurfaceViewer, 'v', ['ZoomLevel::y', [1, 0]]);\n  return SeriesViewerSurfaceViewer;\n}(DependencyObject);\n\nexport { SeriesViewerSurfaceViewer };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/SeriesViewerSurfaceViewer.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { DependencyObject } from \"igniteui-react-core\";\nimport { IOverviewPlusDetailControl_$type } from \"igniteui-react-core\";\nimport { INotifyPropertyChanged_$type, PropertyChangedEventArgs, runOn, delegateCombine, typeCast, delegateRemove, enumGetBox, markType, markDep } from \"igniteui-react-core\";\nimport { Canvas } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { InteractionState_$type } from \"igniteui-react-core\";\nimport { ArgumentNullException } from \"igniteui-react-core\";\nimport { RenderSurface } from \"./RenderSurface\";\nimport { RectUtil } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { XamDataChart } from \"./XamDataChart\";\n/**\n * @hidden\n */\nvar SeriesViewerSurfaceViewer = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SeriesViewerSurfaceViewer, _super);\n    function SeriesViewerSurfaceViewer(a, b) {\n        var _this = _super.call(this) || this;\n        _this.m = null;\n        _this.o = false;\n        _this.k = null;\n        _this.x = null;\n        _this.n = true;\n        _this.q = null;\n        _this.j = 0;\n        _this.propertyChanged = null;\n        if (a == null || b == null) {\n            throw new ArgumentNullException(0, \"model\");\n        }\n        _this.l = a;\n        var c = _this.l;\n        c.windowRectChanged = delegateCombine(c.windowRectChanged, runOn(_this, _this.u));\n        _this.m = b;\n        _this.x = new Canvas();\n        _this.w();\n        return _this;\n    }\n    SeriesViewerSurfaceViewer.prototype.u = function (a, b) {\n        var c = this.o;\n        this.o = true;\n        this.zoomLevel = 1 - Math.min(b.newRect.height, b.newRect.width);\n        this.o = c;\n    };\n    Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"l\", {\n        get: function () {\n            return this.k;\n        },\n        set: function (a) {\n            if (this.k != null) {\n                var b = typeCast(INotifyPropertyChanged_$type, this.k);\n                if (b != null) {\n                    b.propertyChanged = delegateRemove(b.propertyChanged, runOn(this, this.t));\n                }\n            }\n            this.k = a;\n            if (this.k != null) {\n                var c = typeCast(INotifyPropertyChanged_$type, this.k);\n                if (c != null) {\n                    c.propertyChanged = delegateCombine(c.propertyChanged, runOn(this, this.t));\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SeriesViewerSurfaceViewer.prototype.t = function (a, b) {\n        if (b.propertyName == \"DefaultInteraction\") {\n            this.j = this.l.bc;\n            this.v(b.propertyName, enumGetBox(InteractionState_$type, this.defaultInteraction), enumGetBox(InteractionState_$type, this.defaultInteraction));\n        }\n    };\n    SeriesViewerSurfaceViewer.prototype.zoomTo100 = function () {\n        this.l.m6 = XamDataChart.m2;\n    };\n    SeriesViewerSurfaceViewer.prototype.scaleToFit = function () {\n        this.l.m6 = XamDataChart.m2;\n    };\n    SeriesViewerSurfaceViewer.prototype.renderPreview = function () {\n        if (!this.isDirty) {\n            return;\n        }\n        var a = new RenderSurface();\n        a.a = this.m.l.viewThumbnailContext;\n        if (a.a != null && a.a.d) {\n            var b = this.m.l.viewThumbnailSize;\n            this.m.b5(b.width, b.height, a);\n        }\n        this.isDirty = false;\n    };\n    Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"worldRect\", {\n        get: function () {\n            return XamDataChart.m2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"viewportRect\", {\n        get: function () {\n            return this.l.m5;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"minimumZoomLevel\", {\n        get: function () {\n            return 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"maximumZoomLevel\", {\n        get: function () {\n            if (this.l.ex == 0.0001) {\n                return 0.9;\n            }\n            else {\n                return 1 - this.l.ex;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"isDirty\", {\n        get: function () {\n            return this.n;\n        },\n        set: function (a) {\n            this.n = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"isIsoScaled\", {\n        get: function () {\n            if (this.k == null) {\n                return false;\n            }\n            return this.k.cw;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SeriesViewerSurfaceViewer.prototype.v = function (a, b, c) {\n        if (this.propertyChanged != null) {\n            this.propertyChanged(this, new PropertyChangedEventArgs(a));\n        }\n        switch (a) {\n            case SeriesViewerSurfaceViewer.$$p[0]:\n                if (c - this.minimumZoomLevel < -1E-05) {\n                    this.zoomLevel = this.minimumZoomLevel;\n                    return;\n                }\n                if (c - this.maximumZoomLevel > 0.0001) {\n                    this.zoomLevel = this.maximumZoomLevel;\n                    return;\n                }\n                var d = this.l != null && this.l.bi != null && this.l.bi.updatingSliderRanges;\n                if (!this.o && !d) {\n                    var e = 1 - this.zoomLevel;\n                    var f = RectUtil.l(this.l.mr);\n                    var g = new Rect(0, f.x - e / 2, f.y - e / 2, e, e);\n                    this.l.m6 = SeriesViewerSurfaceViewer.z(this.l.m6, g, this.l.c3(), this.l.c4(), this.worldRect);\n                }\n                this.w();\n                if (this.l.bi != null) {\n                    this.l.bi.pushZoomLevel(this.zoomLevel);\n                }\n                break;\n        }\n    };\n    SeriesViewerSurfaceViewer.prototype.w = function () {\n        var a = Math.round(100 * (1 / (1 - this.zoomLevel)));\n        if (a <= 1000) {\n            this.zoomLevelDisplayText = a.toString();\n        }\n        else {\n            this.zoomLevelDisplayText = \"> 1000\";\n        }\n    };\n    Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"zoomLevelDisplayText\", {\n        get: function () {\n            return this.q;\n        },\n        set: function (a) {\n            var b = this.zoomLevelDisplayText != a;\n            if (b) {\n                var c = this.zoomLevelDisplayText;\n                this.q = a;\n                this.v(\"ZoomLevelDisplayText\", c, a);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SeriesViewerSurfaceViewer.prototype, \"defaultInteraction\", {\n        get: function () {\n            return this.j;\n        },\n        set: function (a) {\n            this.j = a;\n            this.l.bc = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SeriesViewerSurfaceViewer.z = function (a, b, c, d, e) {\n        var f, g, h, i;\n        if (c) {\n            f = b.left;\n            h = b.width;\n        }\n        else {\n            f = a.left;\n            h = a.width;\n        }\n        if (d) {\n            g = b.top;\n            i = b.height;\n        }\n        else {\n            g = a.top;\n            i = a.height;\n        }\n        var j = f + h;\n        var k = g + i;\n        var l = Math.max(0, e.left - f);\n        var m = Math.max(0, j - e.right);\n        var n = Math.max(0, e.top - g);\n        var o = Math.max(0, k - e.bottom);\n        f += l - m;\n        g += n - o;\n        var p = new Rect(0, f, g, h, i);\n        p.intersect(e);\n        return p;\n    };\n    SeriesViewerSurfaceViewer.$t = markType(SeriesViewerSurfaceViewer, 'SeriesViewerSurfaceViewer', DependencyObject.$, [IOverviewPlusDetailControl_$type, INotifyPropertyChanged_$type]);\n    SeriesViewerSurfaceViewer.$$p = markDep(DependencyProperty, PropertyMetadata, SeriesViewerSurfaceViewer, 'v', ['ZoomLevel::y', [1, 0]]);\n    return SeriesViewerSurfaceViewer;\n}(DependencyObject));\nexport { SeriesViewerSurfaceViewer };\n//# sourceMappingURL=SeriesViewerSurfaceViewer.js.map\n"]},"metadata":{},"sourceType":"module"}