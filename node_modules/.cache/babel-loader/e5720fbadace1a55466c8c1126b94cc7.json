{"ast":null,"code":"import { IgCollection } from './IgCollection';\nimport { TypeRegistrar } from './type';\nimport { IgrComponentRendererContainer } from './igr-component-renderer-container';\n\nvar ComponentRendererAdapter =\n/** @class */\n\n/*@__PURE__*/\nfunction () {\n  function ComponentRendererAdapter() {\n    this._platform = \"Igr\";\n  }\n\n  ComponentRendererAdapter.prototype.createObject = function (type, container, context) {\n    var typeName = \"Igr\" + type + \"\";\n\n    if (TypeRegistrar.isRegistered(typeName)) {\n      return TypeRegistrar.create(typeName);\n    }\n\n    var shortTypeName = \"Igr\" + type;\n\n    if (TypeRegistrar.isRegistered(shortTypeName)) {\n      return TypeRegistrar.create(shortTypeName);\n    }\n\n    if (TypeRegistrar.isRegistered(type)) {\n      return TypeRegistrar.create(type);\n    }\n  }; //createRootObject(type: string, container: any, context: TypeDescriptionContext, continueActions: (resumeRequired: boolean) => void) {\n  //    let typeName = \"Igr\" + type;\n  //    if (TypeRegistrar.isRegistered(typeName)) {\n  //        let t = TypeRegistrar.get(typeName);\n  //        let crc = container as IgrComponentRendererContainer;\n  //        crc.createRootObject(t, continueActions);\n  //    }\n  //}\n\n\n  ComponentRendererAdapter.prototype.createColorCollection = function (colors) {\n    return colors;\n  };\n\n  ComponentRendererAdapter.prototype.createBrushCollection = function (brushes) {\n    return brushes;\n  };\n\n  ComponentRendererAdapter.prototype.coerceToEnum = function (type, context, value) {\n    return value;\n  };\n\n  ComponentRendererAdapter.prototype.onUIThread = function (container, action) {\n    action();\n  };\n\n  ComponentRendererAdapter.prototype.setOrUpdateCollectionOnTarget = function (container, propertyName, propertyMetadata, context, target, value) {\n    var coll = this.getPropertyValue(target, propertyName);\n\n    if (coll instanceof IgCollection) {\n      for (var i = 0; i < coll.count; i++) {\n        if (coll.item(i) && coll.item(i)._implementation) {\n          coll.item(i).___parent = null;\n        }\n      }\n\n      coll.clear();\n      var newArr = value;\n\n      for (var i = 0; i < newArr.length; i++) {\n        if (newArr[i] && newArr[i]._implementation) {\n          newArr[i].___parent = target;\n        }\n      }\n\n      for (var i = 0; i < newArr.length; i++) {\n        coll.add(newArr[i]);\n      }\n    } else if (Array.isArray(coll) || coll == null || coll == undefined) {\n      if (coll) {\n        for (var i = 0; i < coll.length; i++) {\n          if (coll[i] && coll[i]._implementation) {\n            coll[i].___parent = null;\n          }\n        }\n      }\n\n      var newArr = value;\n\n      for (var i = 0; i < newArr.length; i++) {\n        if (newArr[i] && newArr[i]._implementation) {\n          newArr[i].___parent = target;\n        }\n      }\n\n      this.setPropertyValue(target, propertyName, value, coll);\n    } else {\n      if (coll.clear !== undefined) {\n        if (coll.count && coll.item) {\n          for (var i = 0; i < coll.count; i++) {\n            if (coll.item(i) && coll.item(i)._implementation) {\n              coll.item(i).___parent = null;\n            }\n          }\n        }\n\n        coll.clear();\n      }\n\n      if (coll.add !== undefined) {\n        var newArr = value;\n\n        for (var i = 0; i < newArr.length; i++) {\n          if (newArr[i] && newArr[i]._implementation) {\n            newArr[i].___parent = target;\n          }\n        }\n\n        for (var i = 0; i < newArr.length; i++) {\n          coll.add(newArr[i]);\n        }\n      }\n    }\n  };\n\n  ComponentRendererAdapter.prototype.setPropertyValue = function (target, propertyName, value, oldValue) {\n    if (this._platform == \"Igx\" && IgrComponentRendererContainer.isEvent && IgrComponentRendererContainer.isEvent(target[propertyName])) {\n      if (target[\"_\" + propertyName + \"Subscription\"]) {\n        target[\"_\" + propertyName + \"Subscription\"]();\n        target[\"_\" + propertyName + \"Subscription\"] = null;\n      }\n\n      var fun = function (ev) {\n        value(ev.sender, ev.args);\n      };\n\n      var sub = target[propertyName].subscribe(fun);\n      target[\"_\" + propertyName + \"Subscription\"] = sub;\n      return;\n    }\n\n    if (oldValue && oldValue._implementation) {\n      value.___parent = null;\n    }\n\n    if (value && value._implementation) {\n      value.___parent = target;\n    }\n\n    target[propertyName] = value;\n  };\n\n  ComponentRendererAdapter.prototype.getPropertyValue = function (target, propertyName) {\n    return target[propertyName];\n  };\n\n  ComponentRendererAdapter.prototype.clearContainer = function (container, context, continueActions) {\n    if (this._platform === \"Igc\") {\n      var crc_1 = IgrComponentRendererContainer.fromElement(container);\n      crc_1.clearContainer(continueActions);\n      return;\n    }\n\n    var crc = container;\n    crc.clearContainer(continueActions);\n  };\n\n  ComponentRendererAdapter.prototype.getRootObject = function (container) {\n    if (this._platform === \"Igc\") {\n      var crc_2 = IgrComponentRendererContainer.fromElement(container);\n      return crc_2.getRootObject();\n    }\n\n    var crc = container;\n    return crc.getRootObject();\n  };\n\n  ComponentRendererAdapter.prototype.clearCollection = function (target, propertyName, metadata) {\n    var coll = this.getPropertyValue(target, propertyName);\n\n    if (coll instanceof IgCollection) {\n      for (var i = 0; i < coll.count; i++) {\n        if (coll.item(i) && coll.item(i)._implementation) {\n          coll.item(i).___parent = null;\n        }\n      }\n\n      coll.clear();\n    } else if (Array.isArray(coll)) {\n      for (var i = 0; i < coll.length; i++) {\n        if (coll[i] && coll[i]._implementation) {\n          coll[i].___parent = null;\n        }\n      }\n\n      this.setPropertyValue(target, propertyName, [], coll);\n    } else {\n      if (coll.clear !== undefined) {\n        for (var i = 0; i < coll.count; i++) {\n          if (coll.item(i) && coll.item(i)._implementation) {\n            coll.item(i).___parent = null;\n          }\n        }\n\n        coll.clear();\n      }\n    }\n  };\n\n  ComponentRendererAdapter.prototype.addItemToCollection = function (propertyName, propertyMetadata, target, newIndex, item) {\n    var coll = this.getPropertyValue(target, propertyName);\n\n    if (item && item._implementation) {\n      item.___parent = target;\n    }\n\n    if (coll instanceof IgCollection) {\n      coll.insert(newIndex, item);\n    } else if (Array.isArray(coll)) {\n      var newArr = [];\n\n      for (var i = 0; i < coll.length; i++) {\n        newArr[i] = coll[i];\n      }\n\n      newArr.splice(newIndex, 0, item);\n      this.setPropertyValue(target, propertyName, newArr, coll);\n    } else {\n      if (coll.insert !== undefined) {\n        coll.insert(newIndex, item);\n      }\n    }\n  };\n\n  ComponentRendererAdapter.prototype.resetPropertyOnTarget = function (container, propertyName, propertyMetadata, target) {//TODO: anything we can do here? store default?\n  };\n\n  ComponentRendererAdapter.prototype.replaceItemInCollection = function (propertyName, propertyMetadata, target, newIndex, item) {\n    var coll = this.getPropertyValue(target, propertyName);\n\n    if (item && item._implementation) {\n      item.___parent = target;\n    }\n\n    if (coll instanceof IgCollection) {\n      var oldValue = coll.item(newIndex);\n\n      if (oldValue && oldValue._implementation) {\n        oldValue.___parent = null;\n      }\n\n      coll.item(newIndex, item);\n    } else if (Array.isArray(coll)) {\n      var newArr = [];\n\n      for (var i = 0; i < coll.length; i++) {\n        newArr[i] = coll[i];\n      }\n\n      var oldValue = newArr[newIndex];\n\n      if (oldValue && oldValue._implementation) {\n        oldValue.___parent = null;\n      }\n\n      newArr[newIndex] = item;\n      this.setPropertyValue(target, propertyName, newArr, coll);\n    } else {\n      if (coll.item !== undefined) {\n        var oldValue = coll.item(newIndex);\n\n        if (oldValue && oldValue._implementation) {\n          oldValue.___parent = null;\n        }\n\n        coll.item(newIndex, item);\n      }\n    }\n  };\n\n  ComponentRendererAdapter.prototype.removeItemFromCollection = function (propertyName, propertyMetadata, target, oldIndex) {\n    var coll = this.getPropertyValue(target, propertyName);\n\n    if (coll instanceof IgCollection) {\n      var oldValue = coll.item(oldIndex);\n\n      if (oldValue && oldValue._implementation) {\n        oldValue.___parent = null;\n      }\n\n      coll.removeAt(oldIndex);\n    } else if (Array.isArray(coll)) {\n      var newArr = [];\n\n      for (var i = 0; i < coll.length; i++) {\n        newArr[i] = coll[i];\n      }\n\n      var oldValue = newArr[oldIndex];\n\n      if (oldValue && oldValue._implementation) {\n        oldValue.___parent = null;\n      }\n\n      newArr.splice(oldIndex, 1);\n      this.setPropertyValue(target, propertyName, newArr, coll);\n    } else {\n      if (coll.removeAt !== undefined) {\n        var oldValue = coll.item(oldIndex);\n\n        if (oldValue && oldValue._implementation) {\n          oldValue.___parent = null;\n        }\n\n        coll.removeAt(oldIndex);\n      }\n    }\n  };\n\n  ComponentRendererAdapter.prototype.replaceRootItem = function (container, type, context, continueActions) {\n    var typeName = \"Igr\" + type + \"\";\n\n    if (TypeRegistrar.isRegistered(typeName)) {\n      var t = TypeRegistrar.get(typeName);\n\n      if (this._platform === \"Igc\") {\n        var crc_3 = IgrComponentRendererContainer.fromElement(container);\n        crc_3.replaceRootItem(t, continueActions);\n        return;\n      }\n\n      var crc = container;\n      crc.replaceRootItem(t, continueActions);\n    } else {\n      if (this._platform === \"Igc\") {\n        var crc_4 = IgrComponentRendererContainer.fromElement(container);\n        crc_4.clearContainer(continueActions);\n        return;\n      }\n\n      var crc = container;\n      crc.clearContainer(continueActions);\n    }\n  };\n\n  ComponentRendererAdapter.prototype.removeRootItem = function (container, context, continueActions) {\n    this.clearContainer(container, context, continueActions);\n  };\n\n  ComponentRendererAdapter.prototype.flushChanges = function (container) {};\n\n  return ComponentRendererAdapter;\n}();\n\nexport { ComponentRendererAdapter };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/ComponentRendererAdapter.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { IgCollection } from './IgCollection';\nimport { TypeRegistrar } from './type';\nimport { IgrComponentRendererContainer } from './igr-component-renderer-container';\nvar ComponentRendererAdapter = /** @class */ /*@__PURE__*/ (function () {\n    function ComponentRendererAdapter() {\n        this._platform = \"Igr\";\n    }\n    ComponentRendererAdapter.prototype.createObject = function (type, container, context) {\n        var typeName = \"Igr\" + type + \"\";\n        if (TypeRegistrar.isRegistered(typeName)) {\n            return TypeRegistrar.create(typeName);\n        }\n        var shortTypeName = \"Igr\" + type;\n        if (TypeRegistrar.isRegistered(shortTypeName)) {\n            return TypeRegistrar.create(shortTypeName);\n        }\n        if (TypeRegistrar.isRegistered(type)) {\n            return TypeRegistrar.create(type);\n        }\n    };\n    //createRootObject(type: string, container: any, context: TypeDescriptionContext, continueActions: (resumeRequired: boolean) => void) {\n    //    let typeName = \"Igr\" + type;\n    //    if (TypeRegistrar.isRegistered(typeName)) {\n    //        let t = TypeRegistrar.get(typeName);\n    //        let crc = container as IgrComponentRendererContainer;\n    //        crc.createRootObject(t, continueActions);\n    //    }\n    //}\n    ComponentRendererAdapter.prototype.createColorCollection = function (colors) {\n        return colors;\n    };\n    ComponentRendererAdapter.prototype.createBrushCollection = function (brushes) {\n        return brushes;\n    };\n    ComponentRendererAdapter.prototype.coerceToEnum = function (type, context, value) {\n        return value;\n    };\n    ComponentRendererAdapter.prototype.onUIThread = function (container, action) {\n        action();\n    };\n    ComponentRendererAdapter.prototype.setOrUpdateCollectionOnTarget = function (container, propertyName, propertyMetadata, context, target, value) {\n        var coll = this.getPropertyValue(target, propertyName);\n        if (coll instanceof IgCollection) {\n            for (var i = 0; i < coll.count; i++) {\n                if (coll.item(i) && coll.item(i)._implementation) {\n                    coll.item(i).___parent = null;\n                }\n            }\n            coll.clear();\n            var newArr = value;\n            for (var i = 0; i < newArr.length; i++) {\n                if (newArr[i] && newArr[i]._implementation) {\n                    newArr[i].___parent = target;\n                }\n            }\n            for (var i = 0; i < newArr.length; i++) {\n                coll.add(newArr[i]);\n            }\n        }\n        else if (Array.isArray(coll) || coll == null || coll == undefined) {\n            if (coll) {\n                for (var i = 0; i < coll.length; i++) {\n                    if (coll[i] && coll[i]._implementation) {\n                        coll[i].___parent = null;\n                    }\n                }\n            }\n            var newArr = value;\n            for (var i = 0; i < newArr.length; i++) {\n                if (newArr[i] && newArr[i]._implementation) {\n                    newArr[i].___parent = target;\n                }\n            }\n            this.setPropertyValue(target, propertyName, value, coll);\n        }\n        else {\n            if (coll.clear !== undefined) {\n                if (coll.count && coll.item) {\n                    for (var i = 0; i < coll.count; i++) {\n                        if (coll.item(i) && coll.item(i)._implementation) {\n                            coll.item(i).___parent = null;\n                        }\n                    }\n                }\n                coll.clear();\n            }\n            if (coll.add !== undefined) {\n                var newArr = value;\n                for (var i = 0; i < newArr.length; i++) {\n                    if (newArr[i] && newArr[i]._implementation) {\n                        newArr[i].___parent = target;\n                    }\n                }\n                for (var i = 0; i < newArr.length; i++) {\n                    coll.add(newArr[i]);\n                }\n            }\n        }\n    };\n    ComponentRendererAdapter.prototype.setPropertyValue = function (target, propertyName, value, oldValue) {\n        if (this._platform == \"Igx\" &&\n            IgrComponentRendererContainer.isEvent &&\n            IgrComponentRendererContainer.isEvent(target[propertyName])) {\n            if (target[\"_\" + propertyName + \"Subscription\"]) {\n                target[\"_\" + propertyName + \"Subscription\"]();\n                target[\"_\" + propertyName + \"Subscription\"] = null;\n            }\n            var fun = function (ev) {\n                value(ev.sender, ev.args);\n            };\n            var sub = target[propertyName].subscribe(fun);\n            target[\"_\" + propertyName + \"Subscription\"] = sub;\n            return;\n        }\n        if (oldValue && oldValue._implementation) {\n            value.___parent = null;\n        }\n        if (value && value._implementation) {\n            value.___parent = target;\n        }\n        target[propertyName] = value;\n    };\n    ComponentRendererAdapter.prototype.getPropertyValue = function (target, propertyName) {\n        return target[propertyName];\n    };\n    ComponentRendererAdapter.prototype.clearContainer = function (container, context, continueActions) {\n        if (this._platform === \"Igc\") {\n            var crc_1 = IgrComponentRendererContainer.fromElement(container);\n            crc_1.clearContainer(continueActions);\n            return;\n        }\n        var crc = container;\n        crc.clearContainer(continueActions);\n    };\n    ComponentRendererAdapter.prototype.getRootObject = function (container) {\n        if (this._platform === \"Igc\") {\n            var crc_2 = IgrComponentRendererContainer.fromElement(container);\n            return crc_2.getRootObject();\n        }\n        var crc = container;\n        return crc.getRootObject();\n    };\n    ComponentRendererAdapter.prototype.clearCollection = function (target, propertyName, metadata) {\n        var coll = this.getPropertyValue(target, propertyName);\n        if (coll instanceof IgCollection) {\n            for (var i = 0; i < coll.count; i++) {\n                if (coll.item(i) && coll.item(i)._implementation) {\n                    coll.item(i).___parent = null;\n                }\n            }\n            coll.clear();\n        }\n        else if (Array.isArray(coll)) {\n            for (var i = 0; i < coll.length; i++) {\n                if (coll[i] && coll[i]._implementation) {\n                    coll[i].___parent = null;\n                }\n            }\n            this.setPropertyValue(target, propertyName, [], coll);\n        }\n        else {\n            if (coll.clear !== undefined) {\n                for (var i = 0; i < coll.count; i++) {\n                    if (coll.item(i) && coll.item(i)._implementation) {\n                        coll.item(i).___parent = null;\n                    }\n                }\n                coll.clear();\n            }\n        }\n    };\n    ComponentRendererAdapter.prototype.addItemToCollection = function (propertyName, propertyMetadata, target, newIndex, item) {\n        var coll = this.getPropertyValue(target, propertyName);\n        if (item && item._implementation) {\n            item.___parent = target;\n        }\n        if (coll instanceof IgCollection) {\n            coll.insert(newIndex, item);\n        }\n        else if (Array.isArray(coll)) {\n            var newArr = [];\n            for (var i = 0; i < coll.length; i++) {\n                newArr[i] = coll[i];\n            }\n            newArr.splice(newIndex, 0, item);\n            this.setPropertyValue(target, propertyName, newArr, coll);\n        }\n        else {\n            if (coll.insert !== undefined) {\n                coll.insert(newIndex, item);\n            }\n        }\n    };\n    ComponentRendererAdapter.prototype.resetPropertyOnTarget = function (container, propertyName, propertyMetadata, target) {\n        //TODO: anything we can do here? store default?\n    };\n    ComponentRendererAdapter.prototype.replaceItemInCollection = function (propertyName, propertyMetadata, target, newIndex, item) {\n        var coll = this.getPropertyValue(target, propertyName);\n        if (item && item._implementation) {\n            item.___parent = target;\n        }\n        if (coll instanceof IgCollection) {\n            var oldValue = coll.item(newIndex);\n            if (oldValue && oldValue._implementation) {\n                oldValue.___parent = null;\n            }\n            coll.item(newIndex, item);\n        }\n        else if (Array.isArray(coll)) {\n            var newArr = [];\n            for (var i = 0; i < coll.length; i++) {\n                newArr[i] = coll[i];\n            }\n            var oldValue = newArr[newIndex];\n            if (oldValue && oldValue._implementation) {\n                oldValue.___parent = null;\n            }\n            newArr[newIndex] = item;\n            this.setPropertyValue(target, propertyName, newArr, coll);\n        }\n        else {\n            if (coll.item !== undefined) {\n                var oldValue = coll.item(newIndex);\n                if (oldValue && oldValue._implementation) {\n                    oldValue.___parent = null;\n                }\n                coll.item(newIndex, item);\n            }\n        }\n    };\n    ComponentRendererAdapter.prototype.removeItemFromCollection = function (propertyName, propertyMetadata, target, oldIndex) {\n        var coll = this.getPropertyValue(target, propertyName);\n        if (coll instanceof IgCollection) {\n            var oldValue = coll.item(oldIndex);\n            if (oldValue && oldValue._implementation) {\n                oldValue.___parent = null;\n            }\n            coll.removeAt(oldIndex);\n        }\n        else if (Array.isArray(coll)) {\n            var newArr = [];\n            for (var i = 0; i < coll.length; i++) {\n                newArr[i] = coll[i];\n            }\n            var oldValue = newArr[oldIndex];\n            if (oldValue && oldValue._implementation) {\n                oldValue.___parent = null;\n            }\n            newArr.splice(oldIndex, 1);\n            this.setPropertyValue(target, propertyName, newArr, coll);\n        }\n        else {\n            if (coll.removeAt !== undefined) {\n                var oldValue = coll.item(oldIndex);\n                if (oldValue && oldValue._implementation) {\n                    oldValue.___parent = null;\n                }\n                coll.removeAt(oldIndex);\n            }\n        }\n    };\n    ComponentRendererAdapter.prototype.replaceRootItem = function (container, type, context, continueActions) {\n        var typeName = \"Igr\" + type + \"\";\n        if (TypeRegistrar.isRegistered(typeName)) {\n            var t = TypeRegistrar.get(typeName);\n            if (this._platform === \"Igc\") {\n                var crc_3 = IgrComponentRendererContainer.fromElement(container);\n                crc_3.replaceRootItem(t, continueActions);\n                return;\n            }\n            var crc = container;\n            crc.replaceRootItem(t, continueActions);\n        }\n        else {\n            if (this._platform === \"Igc\") {\n                var crc_4 = IgrComponentRendererContainer.fromElement(container);\n                crc_4.clearContainer(continueActions);\n                return;\n            }\n            var crc = container;\n            crc.clearContainer(continueActions);\n        }\n    };\n    ComponentRendererAdapter.prototype.removeRootItem = function (container, context, continueActions) {\n        this.clearContainer(container, context, continueActions);\n    };\n    ComponentRendererAdapter.prototype.flushChanges = function (container) {\n    };\n    return ComponentRendererAdapter;\n}());\nexport { ComponentRendererAdapter };\n//# sourceMappingURL=ComponentRendererAdapter.js.map\n"]},"metadata":{},"sourceType":"module"}