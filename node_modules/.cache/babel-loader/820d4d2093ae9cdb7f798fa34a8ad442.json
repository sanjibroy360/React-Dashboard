{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, Number_$type, markType } from \"./type\";\nimport { List$1 } from \"./List$1\";\nimport { MathUtil } from \"./MathUtil\";\nimport { isNaN_ } from \"./number\";\n/**\n * @hidden\n */\n\nvar Flattener =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(Flattener, _super);\n\n  function Flattener() {\n    return _super.call(this) || this;\n  }\n\n  Flattener.d = function (a, b, c, d) {\n    var e = new List$1(Number_$type, 0);\n    Flattener.c(e, b, c, 0, a - 1, d);\n    return e;\n  };\n\n  Flattener.c = function (a, b, c, d, e, f) {\n    return Flattener.b(a, function (g) {\n      return g;\n    }, b, c, d, e, f);\n  };\n\n  Flattener.a = function (a, b, c, d, e, f, g) {\n    return Flattener.b(a, function (h) {\n      return b.item(h);\n    }, c, d, e, f, g);\n  };\n\n  Flattener.b = function (a, b, c, d, e, f, g) {\n    if (e > f) {\n      return a;\n    }\n\n    var h = c(b(e));\n    var i = d(b(e));\n\n    while ((isNaN_(h) || isNaN_(i)) && e < f) {\n      ++e;\n      h = c(b(e));\n      i = d(b(e));\n    }\n\n    var j = c(b(f));\n    var k = d(b(f));\n\n    while ((isNaN_(j) || isNaN_(k)) && e < f) {\n      --f;\n      j = c(b(f));\n      k = d(b(f));\n    }\n\n    if (e == f) {\n      a.add(b(e));\n      return a;\n    }\n\n    a.add(b(e));\n    Flattener.e(a, b, c, d, e, f, g);\n    a.add(b(f));\n    return a;\n  };\n\n  Flattener.e = function (a, b, c, d, e, f, g) {\n    var h = c(b(e));\n    var i = d(b(e));\n\n    while ((isNaN_(h) || isNaN_(i)) && e < f) {\n      ++e;\n      h = c(b(e));\n      i = d(b(e));\n    }\n\n    var j = c(b(f));\n    var k = d(b(f));\n\n    while ((isNaN_(j) || isNaN_(k)) && e < f) {\n      --f;\n      j = c(b(f));\n      k = d(b(f));\n    }\n\n    if (e + 1 >= f) {\n      return;\n    }\n\n    var l = -1;\n    var m = g;\n    var n = MathUtil.e(j - h, k - i);\n\n    if (n == 0) {\n      for (var o = e + 1; o < f; ++o) {\n        var p = c(b(o));\n        var q = d(b(o));\n\n        if (isNaN_(p) || isNaN_(q)) {\n          continue;\n        }\n\n        var r = MathUtil.e(j - p, k - q);\n\n        if (r >= m) {\n          m = r;\n          l = o;\n        }\n      }\n    } else {\n      var s = j - h;\n      var t = k - i;\n\n      for (var u = e + 1; u < f; ++u) {\n        var v = c(b(u));\n        var w = d(b(u));\n\n        if (isNaN_(v) || isNaN_(w)) {\n          continue;\n        }\n\n        var x = NaN;\n        var y = c(b(u)) - h;\n        var z = d(b(u)) - i;\n        var aa = s * y + t * z;\n\n        if (aa <= 0) {\n          x = MathUtil.e(h - v, i - w);\n        } else {\n          var ab = s * s + t * t;\n\n          if (ab <= aa) {\n            x = MathUtil.e(j - v, k - w);\n          } else {\n            var ac = aa / ab;\n            x = MathUtil.e(h + ac * s - v, i + ac * t - w);\n          }\n        }\n\n        if (x >= m) {\n          m = x;\n          l = u;\n        }\n      }\n    }\n\n    if (l != -1) {\n      Flattener.e(a, b, c, d, e, l, g);\n      a.add(b(l));\n      Flattener.e(a, b, c, d, l, f, g);\n    }\n\n    return;\n  };\n\n  Flattener.$t = markType(Flattener, 'Flattener');\n  return Flattener;\n}(Base);\n\nexport { Flattener };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/Flattener.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, Number_$type, markType } from \"./type\";\nimport { List$1 } from \"./List$1\";\nimport { MathUtil } from \"./MathUtil\";\nimport { isNaN_ } from \"./number\";\n/**\n * @hidden\n */\nvar Flattener = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Flattener, _super);\n    function Flattener() {\n        return _super.call(this) || this;\n    }\n    Flattener.d = function (a, b, c, d) {\n        var e = new List$1(Number_$type, 0);\n        Flattener.c(e, b, c, 0, a - 1, d);\n        return e;\n    };\n    Flattener.c = function (a, b, c, d, e, f) {\n        return Flattener.b(a, function (g) { return g; }, b, c, d, e, f);\n    };\n    Flattener.a = function (a, b, c, d, e, f, g) {\n        return Flattener.b(a, function (h) { return b.item(h); }, c, d, e, f, g);\n    };\n    Flattener.b = function (a, b, c, d, e, f, g) {\n        if (e > f) {\n            return a;\n        }\n        var h = c(b(e));\n        var i = d(b(e));\n        while ((isNaN_(h) || isNaN_(i)) && e < f) {\n            ++e;\n            h = c(b(e));\n            i = d(b(e));\n        }\n        var j = c(b(f));\n        var k = d(b(f));\n        while ((isNaN_(j) || isNaN_(k)) && e < f) {\n            --f;\n            j = c(b(f));\n            k = d(b(f));\n        }\n        if (e == f) {\n            a.add(b(e));\n            return a;\n        }\n        a.add(b(e));\n        Flattener.e(a, b, c, d, e, f, g);\n        a.add(b(f));\n        return a;\n    };\n    Flattener.e = function (a, b, c, d, e, f, g) {\n        var h = c(b(e));\n        var i = d(b(e));\n        while ((isNaN_(h) || isNaN_(i)) && e < f) {\n            ++e;\n            h = c(b(e));\n            i = d(b(e));\n        }\n        var j = c(b(f));\n        var k = d(b(f));\n        while ((isNaN_(j) || isNaN_(k)) && e < f) {\n            --f;\n            j = c(b(f));\n            k = d(b(f));\n        }\n        if (e + 1 >= f) {\n            return;\n        }\n        var l = -1;\n        var m = g;\n        var n = MathUtil.e(j - h, k - i);\n        if (n == 0) {\n            for (var o = e + 1; o < f; ++o) {\n                var p = c(b(o));\n                var q = d(b(o));\n                if (isNaN_(p) || isNaN_(q)) {\n                    continue;\n                }\n                var r = MathUtil.e(j - p, k - q);\n                if (r >= m) {\n                    m = r;\n                    l = o;\n                }\n            }\n        }\n        else {\n            var s = j - h;\n            var t = k - i;\n            for (var u = e + 1; u < f; ++u) {\n                var v = c(b(u));\n                var w = d(b(u));\n                if (isNaN_(v) || isNaN_(w)) {\n                    continue;\n                }\n                var x = NaN;\n                var y = c(b(u)) - h;\n                var z = d(b(u)) - i;\n                var aa = s * y + t * z;\n                if (aa <= 0) {\n                    x = MathUtil.e(h - v, i - w);\n                }\n                else {\n                    var ab = s * s + t * t;\n                    if (ab <= aa) {\n                        x = MathUtil.e(j - v, k - w);\n                    }\n                    else {\n                        var ac = aa / ab;\n                        x = MathUtil.e(h + ac * s - v, i + ac * t - w);\n                    }\n                }\n                if (x >= m) {\n                    m = x;\n                    l = u;\n                }\n            }\n        }\n        if (l != -1) {\n            Flattener.e(a, b, c, d, e, l, g);\n            a.add(b(l));\n            Flattener.e(a, b, c, d, l, f, g);\n        }\n        return;\n    };\n    Flattener.$t = markType(Flattener, 'Flattener');\n    return Flattener;\n}(Base));\nexport { Flattener };\n//# sourceMappingURL=Flattener.js.map\n"]},"metadata":{},"sourceType":"module"}