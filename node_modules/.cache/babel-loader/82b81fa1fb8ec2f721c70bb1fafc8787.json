{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, String_$type, Number_$type, Delegate_$type, markType } from \"./type\";\nimport { ITileGenerator_$type } from \"./ITileGenerator\";\nimport { Color } from \"./Color\";\nimport { HeatTileScaler } from \"./HeatTileScaler\";\nimport { Rect } from \"./Rect\";\nimport { HeatTileGeneratorWorkerManager } from \"./HeatTileGeneratorWorkerManager\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { Tuple$2 } from \"./Tuple$2\";\nimport { List$1 } from \"./List$1\";\nimport { TileImageZoomChangingEventArgs } from \"./TileImageZoomChangingEventArgs\";\nimport { TileWorkSettings } from \"./TileWorkSettings\";\nimport { truncate, isNaN_ } from \"./number\";\n/**\n * @hidden\n */\n\nvar HeatTileGenerator =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(HeatTileGenerator, _super);\n\n  function HeatTileGenerator() {\n    var _this = _super.call(this) || this;\n\n    _this.m = new HeatTileScaler();\n    _this.bz = new Rect(0, 0, 0, 256, 256);\n    _this.l = new HeatTileGeneratorWorkerManager();\n    _this.e = null;\n    _this.d = null;\n    _this.c = null;\n    _this.bw = new Color();\n    _this.bv = new Color();\n    _this.b = null;\n    _this.a = null;\n    _this.ac = 0;\n    _this.am = NaN;\n    _this.p = false;\n    _this.q = false;\n    _this.r = false;\n    _this.ao = NaN;\n    _this.an = NaN;\n    _this.al = 10;\n    _this.s = false;\n    _this.t = true;\n    _this.a0 = null;\n    _this.ax = null;\n    _this.ad = NaN;\n    _this.ag = NaN;\n    _this.aw = {};\n    _this.au = -1;\n    _this.ay = {};\n    _this.ak = 0;\n    _this.aj = 0;\n    _this.z = new Dictionary$2(String_$type, Tuple$2.$.specialize(Number_$type, Number_$type), 0);\n    _this.aa = new Dictionary$2(String_$type, List$1.$.specialize(Delegate_$type), 0);\n    _this.ah = 0;\n    _this.ai = 0;\n    _this.ae = 0;\n    _this.af = 0;\n    _this.n = false;\n    _this.ab = new List$1(Delegate_$type, 0);\n    _this.o = false;\n    _this.m = new HeatTileScaler();\n    return _this;\n  }\n\n  Object.defineProperty(HeatTileGenerator.prototype, \"k\", {\n    get: function () {\n      return this.e;\n    },\n    set: function (a) {\n      var b = this.e;\n      this.e = a;\n\n      if (this.e != b) {\n        this.br(\"YValues\", b, this.e);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"j\", {\n    get: function () {\n      return this.d;\n    },\n    set: function (a) {\n      var b = this.d;\n      this.d = a;\n\n      if (this.d != b) {\n        this.br(\"XValues\", b, this.d);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"i\", {\n    get: function () {\n      return this.c;\n    },\n    set: function (a) {\n      var b = this.c;\n      this.c = a;\n\n      if (this.c != b) {\n        this.br(\"Values\", b, this.c);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"by\", {\n    get: function () {\n      return this.bw;\n    },\n    set: function (a) {\n      var b = this.bw;\n      this.bw = a;\n\n      if (Color.d(this.bw, b)) {\n        this.br(\"MinimumColor\", b, this.bw);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"bx\", {\n    get: function () {\n      return this.bv;\n    },\n    set: function (a) {\n      var b = this.bv;\n      this.bv = a;\n\n      if (Color.d(this.bv, b)) {\n        this.br(\"MaximumColor\", b, this.bv);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"scaleColors\", {\n    get: function () {\n      return this.b;\n    },\n    set: function (a) {\n      var b = this.b;\n      this.b = a;\n\n      if (this.b != b) {\n        this.br(\"ScaleColors\", b, this.b);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"g\", {\n    get: function () {\n      return this.a;\n    },\n    set: function (a) {\n      var b = this.a;\n      this.a = a;\n\n      if (this.a != b) {\n        this.br(\"ScaleColorOffsets\", b, this.a);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"ap\", {\n    get: function () {\n      return this.ac;\n    },\n    set: function (a) {\n      var b = this.ac;\n      this.ac = a;\n\n      if (this.ac != b) {\n        this.br(\"BlurRadius\", b, this.ac);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"ar\", {\n    get: function () {\n      return this.am;\n    },\n    set: function (a) {\n      var b = this.am;\n      this.am = a;\n\n      if (this.am != b) {\n        this.br(\"MaxBlurRadius\", b, this.am);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"u\", {\n    get: function () {\n      return this.p;\n    },\n    set: function (a) {\n      var b = this.p;\n      this.p = a;\n\n      if (this.p != b) {\n        this.br(\"UseBlurRadiusAdjustedForZoom\", b, this.p);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"v\", {\n    get: function () {\n      return this.q;\n    },\n    set: function (a) {\n      var b = this.q;\n      this.q = a;\n\n      if (this.q != b) {\n        this.br(\"UseGlobalMinMax\", b, this.q);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"w\", {\n    get: function () {\n      return this.r;\n    },\n    set: function (a) {\n      var b = this.r;\n      this.r = a;\n\n      if (this.r != b) {\n        this.br(\"UseGlobalMinMaxAdjustedForZoom\", b, this.r);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"at\", {\n    get: function () {\n      return this.ao;\n    },\n    set: function (a) {\n      var b = this.ao;\n      this.ao = a;\n\n      if (this.ao != b) {\n        this.br(\"MinimumValue\", b, this.ao);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"as\", {\n    get: function () {\n      return this.an;\n    },\n    set: function (a) {\n      var b = this.an;\n      this.an = a;\n\n      if (this.an != b) {\n        this.br(\"MaximumValue\", b, this.an);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"aq\", {\n    get: function () {\n      return this.al;\n    },\n    set: function (a) {\n      var b = this.al;\n      this.al = a;\n\n      if (this.al != b) {\n        this.br(\"LogarithmBase\", b, this.al);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"x\", {\n    get: function () {\n      return this.s;\n    },\n    set: function (a) {\n      var b = this.s;\n      this.s = a;\n\n      if (this.s != b) {\n        this.br(\"UseLogarithmicScale\", b, this.s);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"y\", {\n    get: function () {\n      return this.t;\n    },\n    set: function (a) {\n      var b = this.t;\n      this.t = a;\n\n      if (this.t != b) {\n        this.br(\"UseWebWorkers\", b, this.t);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"bi\", {\n    get: function () {\n      return this.a0;\n    },\n    set: function (a) {\n      var b = this.a0;\n      this.a0 = a;\n\n      if (this.a0 != b) {\n        this.br(\"WebWorkerScriptPath\", b, this.a0);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"az\", {\n    get: function () {\n      return this.ax;\n    },\n    set: function (a) {\n      var b = this.ax;\n      this.ax = a;\n\n      if (this.ax != b) {\n        this.br(\"WebWorkerInstance\", b, this.ax);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  HeatTileGenerator.prototype.bo = function () {\n    this.e = null;\n    this.d = null;\n    this.c = null;\n    this.l.w();\n  };\n\n  HeatTileGenerator.prototype.br = function (a, b, c) {\n    this.bs(a, b, c);\n  };\n\n  HeatTileGenerator.prototype.bs = function (a, b, c) {\n    switch (a) {\n      case \"XValues\":\n      case \"YValues\":\n      case \"Values\":\n        this.bq();\n        break;\n\n      case \"UseWebWorkers\":\n        this.l.e = this.y;\n        break;\n\n      case \"WebWorkerScriptPath\":\n        this.l.p = this.bi;\n        break;\n\n      case \"WebWorkerInstance\":\n        this.l.n = this.az;\n        break;\n    }\n  };\n\n  HeatTileGenerator.prototype.getTile = function (a, b, c, d, e, f, g) {\n    this.getTile1(a, b, c, d, e, f, g, false);\n  };\n\n  HeatTileGenerator.prototype.getTile1 = function (a, b, c, d, e, f, g, h) {\n    var _this = this;\n\n    var i = NaN;\n    var j = NaN;\n\n    if (!h && this.v && (isNaN_(this.ag) || isNaN_(this.ad))) {\n      var k = false;\n\n      if ((isNaN_(this.ag) || isNaN_(this.ad)) && !this.n) {\n        k = true;\n        this.n = true;\n      } else {\n        this.ab.add(function () {\n          return _this.bm(a, b, c, h, j, i, d, e, f, g);\n        });\n        return;\n      }\n\n      if (k) {\n        var l_1 = 1.7976931348623157E+308;\n        var m_1 = -1.7976931348623157E+308;\n        var n_1 = 0;\n        var o_1 = 0;\n        var p_1 = 0;\n        var q_1 = 0;\n        this.getTile1(0, 0, 0, function (r, s) {\n          var t = s;\n          l_1 = t.globalMinimumValue;\n          m_1 = t.globalMaximumValue;\n          n_1 = t.globalMinimumValueLongitude;\n          o_1 = t.globalMinimumValueLatitude;\n          p_1 = t.globalMaximumValueLongitude;\n          q_1 = t.globalMaximumValueLatitude;\n          var u = new Rect(0, 0, 0, 1, 1);\n          var v = _this.bz;\n          i = l_1;\n          j = m_1;\n          var w = new List$1(Delegate_$type, 0);\n          _this.ag = i;\n          _this.ad = j;\n          _this.ah = o_1;\n          _this.ai = n_1;\n          _this.ae = q_1;\n          _this.af = p_1;\n\n          for (var x = 0; x < _this.ab.count; x++) {\n            w.add(_this.ab._inner[x]);\n          }\n\n          _this.ab.clear();\n\n          _this.bm(a, b, c, h, j, i, d, e, f, g);\n\n          for (var y = 0; y < w.count; y++) {\n            w._inner[y]();\n          }\n        }, function (r, s) {}, function (r, s) {}, g, true);\n        return;\n      } else {\n        i = this.ag;\n        j = this.ad;\n      }\n    } else {\n      i = this.ag;\n      j = this.ad;\n    }\n\n    this.bm(a, b, c, h, j, i, d, e, f, g);\n  };\n\n  HeatTileGenerator.prototype.cancelTile = function (a, b, c) {\n    this.l.s(a, b, c);\n  };\n\n  HeatTileGenerator.prototype.bm = function (a, b, c, d, e, f, g, h, i, j) {\n    var _this = this;\n\n    this.bn(a, b, c, d, i, function () {\n      if (_this.w && !d) {\n        if (a > 0 && _this.z.containsKey(a.toString())) {\n          var k = _this.z.item(a.toString());\n\n          e = k.c;\n          f = k.d;\n        }\n      }\n\n      var l = _this.b0(a, b, c);\n\n      var m = new TileWorkSettings();\n      m.window = l;\n      m.z = a;\n      m.x = b;\n      m.y = c;\n      m.globalMinimum = f;\n      m.globalMaximum = e;\n      m.useGlobalMinMax = _this.v;\n      m.minimumValue = _this.at;\n      m.maximumValue = _this.as;\n      m.useLogarithmicScale = _this.x;\n      m.logarithmBase = _this.aq;\n\n      if (m.logarithmBase <= 0) {\n        m.logarithmBase = 10;\n      }\n\n      m.tileViewport = _this.bz;\n      m.maximumColor = _this.bx;\n      m.minimumColor = _this.by;\n      m.scaler = _this.m;\n      m.values = _this.c;\n      m.blurRadius = _this.ap;\n\n      if (m.blurRadius <= 0) {\n        m.blurRadius = 1;\n      }\n\n      m.useBlurRadiusAdjustedForZoom = _this.u;\n      m.maxBlurRadius = _this.ar;\n\n      if (m.maxBlurRadius <= 0) {\n        m.maxBlurRadius = 1;\n      }\n\n      m.values = _this.i;\n      m.scaleColors = _this.scaleColors;\n      m.scaleColorOffsets = _this.g;\n      m.minimumVisibleLatitude = _this.m.i(l, _this.bz);\n      m.maximumVisibleLatitude = _this.m.g(l, _this.bz);\n      m.minimumVisibleLongitude = _this.m.j(l, _this.bz);\n      m.maximumVisibleLongitude = _this.m.h(l, _this.bz);\n      m.yValues = _this.e;\n      m.xValues = _this.d;\n\n      if (_this.c == null && _this.e != null) {\n        _this.c = new Array(_this.e.length);\n\n        for (var n = 0; n < _this.e.length; n++) {\n          _this.c[n] = 1;\n        }\n\n        m.values = _this.c;\n      }\n\n      if (!_this.o) {\n        _this.o = true;\n        m.isNewData = true;\n      }\n\n      m.image = j;\n      m.testRun = d;\n\n      _this.l.y(m, function (o, p) {\n        p.url = _this.a2(p.imageData);\n        p.imageData = _this.f(p.imageData);\n        g(_this, p);\n      }, h);\n    });\n  };\n\n  HeatTileGenerator.prototype.bn = function (a, b, c, d, e, f) {\n    var g = false;\n    g = this.au != a;\n\n    if (!g || d) {\n      f();\n      return;\n    }\n\n    var h = false;\n    var i = false;\n\n    if (a != this.au) {\n      if (this.z.containsKey(a.toString()) && !isNaN_(this.z.item(a.toString()).c) && !isNaN_(this.z.item(a.toString()).d)) {\n        this.au = a;\n        e(this, function () {\n          var $ret = new TileImageZoomChangingEventArgs();\n          $ret.z = a;\n          $ret.x = b;\n          $ret.y = c;\n          return $ret;\n        }());\n        h = true;\n      } else if (this.z.containsKey(a.toString())) {\n        if (a > 0 && this.w) {\n          var j = void 0;\n\n          if (this.aa.containsKey(a.toString())) {\n            j = this.aa.item(a.toString());\n          } else {\n            j = new List$1(Delegate_$type, 0);\n            this.aa.addItem(a.toString(), j);\n          }\n\n          j.add(f);\n        }\n      } else {\n        if (a > 0 && this.w) {\n          this.z.addItem(a.toString(), new Tuple$2(Number_$type, Number_$type, NaN, NaN));\n          i = true;\n        }\n      }\n    }\n\n    if (i) {\n      if (a > 0 && this.w) {\n        this.bt(a, f);\n      }\n    }\n\n    if (h) {\n      f();\n    }\n  };\n\n  HeatTileGenerator.prototype.a2 = function (a) {\n    if (a == null) {\n      return null;\n    }\n\n    var b = document.createElement(\"canvas\");\n    b.setAttribute(\"width\", \"256\");\n    b.setAttribute(\"height\", \"256\");\n    var c = b.getContext(\"2d\");\n    var d = c.getImageData(0, 0, 256, 256);\n    var e = d.data;\n    var f = e.length / 4;\n\n    for (var g = 0; g < f; g++) {\n      var h = a[g * 4];\n      var i = a[g * 4 + 1];\n      var j = a[g * 4 + 2];\n      var k = a[g * 4 + 3];\n      e[g * 4] = i;\n      e[g * 4 + 1] = j;\n      e[g * 4 + 2] = k;\n      e[g * 4 + 3] = h;\n    }\n\n    c.putImageData(d, 0, 0);\n    var ele_ = b;\n    return ele_.toDataURL();\n  };\n\n  HeatTileGenerator.prototype.f = function (a) {\n    if (a == null) {\n      return null;\n    }\n\n    return a;\n  };\n\n  HeatTileGenerator.prototype.bt = function (a, b) {\n    var _this = this;\n\n    var c = 0;\n    var d = 0;\n    var e = 0;\n    var f = 0;\n    var g = new Rect(0, 0, 0, 256 * Math.pow(2, a), 256 * Math.pow(2, a));\n    var h = new Rect(0, 0, 0, 1, 1);\n    var i = this.m.s(this.af, h, g);\n    var j = this.m.r(this.ae, h, g);\n    var k = this.m.s(this.ai, h, g);\n    var l = this.m.r(this.ah, h, g);\n    c = truncate(Math.floor(k / 256));\n    d = truncate(Math.floor(l / 256));\n    e = truncate(Math.floor(i / 256));\n    f = truncate(Math.floor(j / 256));\n    var m = 0;\n    var n = 0;\n    this.getTile1(a, c, d, function (o, p) {\n      var q = p;\n      m = q.globalMinimumValue;\n      n = q.globalMaximumValue;\n\n      if (e != c && f != d) {\n        _this.getTile1(a, e, f, function (r, s) {\n          var t = s;\n          n = t.globalMaximumValue;\n\n          _this.bu(a, n, m, b);\n        }, function (r, s) {}, function (r, s) {}, null, true);\n      } else {\n        _this.bu(a, n, m, b);\n      }\n    }, function (o, p) {}, function (o, p) {}, null, true);\n  };\n\n  HeatTileGenerator.prototype.bu = function (a, b, c, d) {\n    if (b < this.aj) {\n      b = this.aj;\n    }\n\n    if (isNaN_(c) || c > this.ak) {\n      c = this.ak;\n    }\n\n    var e = new List$1(Delegate_$type, 0);\n    this.z.item(a.toString(), new Tuple$2(Number_$type, Number_$type, b, c));\n\n    if (this.aa.containsKey(a.toString())) {\n      var f = this.aa.item(a.toString());\n\n      for (var g = 0; g < f.count; g++) {\n        e.add(f._inner[g]);\n      }\n    }\n\n    this.aa.removeItem(a.toString());\n    this.au = a;\n    d();\n\n    for (var h = 0; h < e.count; h++) {\n      e._inner[h]();\n    }\n  };\n\n  HeatTileGenerator.prototype.b0 = function (a, b, c) {\n    var d = truncate(Math.pow(2, a)) * 256;\n    var e = b * 256 / d;\n    var f = c * 256 / d;\n    var g = 256 / d;\n    var h = 256 / d;\n    return new Rect(0, e, f, g, h);\n  };\n\n  HeatTileGenerator.prototype.bq = function () {\n    var a = -1.7976931348623157E+308;\n    var b = 1.7976931348623157E+308;\n\n    if (this.c != null) {\n      for (var c = 0; c < this.c.length; c++) {\n        var d = this.c[c];\n        a = d > a ? d : a;\n        b = d < b ? d : b;\n      }\n    }\n\n    var e = this.ak = b * 0.01;\n    this.aj = a;\n    this.o = false;\n  };\n\n  HeatTileGenerator.$t = markType(HeatTileGenerator, 'HeatTileGenerator', Base.$, [ITileGenerator_$type]);\n  return HeatTileGenerator;\n}(Base);\n\nexport { HeatTileGenerator };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/HeatTileGenerator.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, String_$type, Number_$type, Delegate_$type, markType } from \"./type\";\nimport { ITileGenerator_$type } from \"./ITileGenerator\";\nimport { Color } from \"./Color\";\nimport { HeatTileScaler } from \"./HeatTileScaler\";\nimport { Rect } from \"./Rect\";\nimport { HeatTileGeneratorWorkerManager } from \"./HeatTileGeneratorWorkerManager\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { Tuple$2 } from \"./Tuple$2\";\nimport { List$1 } from \"./List$1\";\nimport { TileImageZoomChangingEventArgs } from \"./TileImageZoomChangingEventArgs\";\nimport { TileWorkSettings } from \"./TileWorkSettings\";\nimport { truncate, isNaN_ } from \"./number\";\n/**\n * @hidden\n */\nvar HeatTileGenerator = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(HeatTileGenerator, _super);\n    function HeatTileGenerator() {\n        var _this = _super.call(this) || this;\n        _this.m = new HeatTileScaler();\n        _this.bz = new Rect(0, 0, 0, 256, 256);\n        _this.l = new HeatTileGeneratorWorkerManager();\n        _this.e = null;\n        _this.d = null;\n        _this.c = null;\n        _this.bw = new Color();\n        _this.bv = new Color();\n        _this.b = null;\n        _this.a = null;\n        _this.ac = 0;\n        _this.am = NaN;\n        _this.p = false;\n        _this.q = false;\n        _this.r = false;\n        _this.ao = NaN;\n        _this.an = NaN;\n        _this.al = 10;\n        _this.s = false;\n        _this.t = true;\n        _this.a0 = null;\n        _this.ax = null;\n        _this.ad = NaN;\n        _this.ag = NaN;\n        _this.aw = {};\n        _this.au = -1;\n        _this.ay = {};\n        _this.ak = 0;\n        _this.aj = 0;\n        _this.z = new Dictionary$2(String_$type, Tuple$2.$.specialize(Number_$type, Number_$type), 0);\n        _this.aa = new Dictionary$2(String_$type, List$1.$.specialize(Delegate_$type), 0);\n        _this.ah = 0;\n        _this.ai = 0;\n        _this.ae = 0;\n        _this.af = 0;\n        _this.n = false;\n        _this.ab = new List$1(Delegate_$type, 0);\n        _this.o = false;\n        _this.m = new HeatTileScaler();\n        return _this;\n    }\n    Object.defineProperty(HeatTileGenerator.prototype, \"k\", {\n        get: function () {\n            return this.e;\n        },\n        set: function (a) {\n            var b = this.e;\n            this.e = a;\n            if (this.e != b) {\n                this.br(\"YValues\", b, this.e);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"j\", {\n        get: function () {\n            return this.d;\n        },\n        set: function (a) {\n            var b = this.d;\n            this.d = a;\n            if (this.d != b) {\n                this.br(\"XValues\", b, this.d);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"i\", {\n        get: function () {\n            return this.c;\n        },\n        set: function (a) {\n            var b = this.c;\n            this.c = a;\n            if (this.c != b) {\n                this.br(\"Values\", b, this.c);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"by\", {\n        get: function () {\n            return this.bw;\n        },\n        set: function (a) {\n            var b = this.bw;\n            this.bw = a;\n            if (Color.d(this.bw, b)) {\n                this.br(\"MinimumColor\", b, this.bw);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"bx\", {\n        get: function () {\n            return this.bv;\n        },\n        set: function (a) {\n            var b = this.bv;\n            this.bv = a;\n            if (Color.d(this.bv, b)) {\n                this.br(\"MaximumColor\", b, this.bv);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"scaleColors\", {\n        get: function () {\n            return this.b;\n        },\n        set: function (a) {\n            var b = this.b;\n            this.b = a;\n            if (this.b != b) {\n                this.br(\"ScaleColors\", b, this.b);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"g\", {\n        get: function () {\n            return this.a;\n        },\n        set: function (a) {\n            var b = this.a;\n            this.a = a;\n            if (this.a != b) {\n                this.br(\"ScaleColorOffsets\", b, this.a);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"ap\", {\n        get: function () {\n            return this.ac;\n        },\n        set: function (a) {\n            var b = this.ac;\n            this.ac = a;\n            if (this.ac != b) {\n                this.br(\"BlurRadius\", b, this.ac);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"ar\", {\n        get: function () {\n            return this.am;\n        },\n        set: function (a) {\n            var b = this.am;\n            this.am = a;\n            if (this.am != b) {\n                this.br(\"MaxBlurRadius\", b, this.am);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"u\", {\n        get: function () {\n            return this.p;\n        },\n        set: function (a) {\n            var b = this.p;\n            this.p = a;\n            if (this.p != b) {\n                this.br(\"UseBlurRadiusAdjustedForZoom\", b, this.p);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"v\", {\n        get: function () {\n            return this.q;\n        },\n        set: function (a) {\n            var b = this.q;\n            this.q = a;\n            if (this.q != b) {\n                this.br(\"UseGlobalMinMax\", b, this.q);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"w\", {\n        get: function () {\n            return this.r;\n        },\n        set: function (a) {\n            var b = this.r;\n            this.r = a;\n            if (this.r != b) {\n                this.br(\"UseGlobalMinMaxAdjustedForZoom\", b, this.r);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"at\", {\n        get: function () {\n            return this.ao;\n        },\n        set: function (a) {\n            var b = this.ao;\n            this.ao = a;\n            if (this.ao != b) {\n                this.br(\"MinimumValue\", b, this.ao);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"as\", {\n        get: function () {\n            return this.an;\n        },\n        set: function (a) {\n            var b = this.an;\n            this.an = a;\n            if (this.an != b) {\n                this.br(\"MaximumValue\", b, this.an);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"aq\", {\n        get: function () {\n            return this.al;\n        },\n        set: function (a) {\n            var b = this.al;\n            this.al = a;\n            if (this.al != b) {\n                this.br(\"LogarithmBase\", b, this.al);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"x\", {\n        get: function () {\n            return this.s;\n        },\n        set: function (a) {\n            var b = this.s;\n            this.s = a;\n            if (this.s != b) {\n                this.br(\"UseLogarithmicScale\", b, this.s);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"y\", {\n        get: function () {\n            return this.t;\n        },\n        set: function (a) {\n            var b = this.t;\n            this.t = a;\n            if (this.t != b) {\n                this.br(\"UseWebWorkers\", b, this.t);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"bi\", {\n        get: function () {\n            return this.a0;\n        },\n        set: function (a) {\n            var b = this.a0;\n            this.a0 = a;\n            if (this.a0 != b) {\n                this.br(\"WebWorkerScriptPath\", b, this.a0);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"az\", {\n        get: function () {\n            return this.ax;\n        },\n        set: function (a) {\n            var b = this.ax;\n            this.ax = a;\n            if (this.ax != b) {\n                this.br(\"WebWorkerInstance\", b, this.ax);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HeatTileGenerator.prototype.bo = function () {\n        this.e = null;\n        this.d = null;\n        this.c = null;\n        this.l.w();\n    };\n    HeatTileGenerator.prototype.br = function (a, b, c) {\n        this.bs(a, b, c);\n    };\n    HeatTileGenerator.prototype.bs = function (a, b, c) {\n        switch (a) {\n            case \"XValues\":\n            case \"YValues\":\n            case \"Values\":\n                this.bq();\n                break;\n            case \"UseWebWorkers\":\n                this.l.e = this.y;\n                break;\n            case \"WebWorkerScriptPath\":\n                this.l.p = this.bi;\n                break;\n            case \"WebWorkerInstance\":\n                this.l.n = this.az;\n                break;\n        }\n    };\n    HeatTileGenerator.prototype.getTile = function (a, b, c, d, e, f, g) {\n        this.getTile1(a, b, c, d, e, f, g, false);\n    };\n    HeatTileGenerator.prototype.getTile1 = function (a, b, c, d, e, f, g, h) {\n        var _this = this;\n        var i = NaN;\n        var j = NaN;\n        if (!h && this.v && (isNaN_(this.ag) || isNaN_(this.ad))) {\n            var k = false;\n            if ((isNaN_(this.ag) || isNaN_(this.ad)) && !this.n) {\n                k = true;\n                this.n = true;\n            }\n            else {\n                this.ab.add(function () { return _this.bm(a, b, c, h, j, i, d, e, f, g); });\n                return;\n            }\n            if (k) {\n                var l_1 = 1.7976931348623157E+308;\n                var m_1 = -1.7976931348623157E+308;\n                var n_1 = 0;\n                var o_1 = 0;\n                var p_1 = 0;\n                var q_1 = 0;\n                this.getTile1(0, 0, 0, function (r, s) {\n                    var t = s;\n                    l_1 = t.globalMinimumValue;\n                    m_1 = t.globalMaximumValue;\n                    n_1 = t.globalMinimumValueLongitude;\n                    o_1 = t.globalMinimumValueLatitude;\n                    p_1 = t.globalMaximumValueLongitude;\n                    q_1 = t.globalMaximumValueLatitude;\n                    var u = new Rect(0, 0, 0, 1, 1);\n                    var v = _this.bz;\n                    i = l_1;\n                    j = m_1;\n                    var w = new List$1(Delegate_$type, 0);\n                    _this.ag = i;\n                    _this.ad = j;\n                    _this.ah = o_1;\n                    _this.ai = n_1;\n                    _this.ae = q_1;\n                    _this.af = p_1;\n                    for (var x = 0; x < _this.ab.count; x++) {\n                        w.add(_this.ab._inner[x]);\n                    }\n                    _this.ab.clear();\n                    _this.bm(a, b, c, h, j, i, d, e, f, g);\n                    for (var y = 0; y < w.count; y++) {\n                        w._inner[y]();\n                    }\n                }, function (r, s) {\n                }, function (r, s) {\n                }, g, true);\n                return;\n            }\n            else {\n                i = this.ag;\n                j = this.ad;\n            }\n        }\n        else {\n            i = this.ag;\n            j = this.ad;\n        }\n        this.bm(a, b, c, h, j, i, d, e, f, g);\n    };\n    HeatTileGenerator.prototype.cancelTile = function (a, b, c) {\n        this.l.s(a, b, c);\n    };\n    HeatTileGenerator.prototype.bm = function (a, b, c, d, e, f, g, h, i, j) {\n        var _this = this;\n        this.bn(a, b, c, d, i, function () {\n            if (_this.w && !d) {\n                if (a > 0 && _this.z.containsKey(a.toString())) {\n                    var k = _this.z.item(a.toString());\n                    e = k.c;\n                    f = k.d;\n                }\n            }\n            var l = _this.b0(a, b, c);\n            var m = new TileWorkSettings();\n            m.window = l;\n            m.z = a;\n            m.x = b;\n            m.y = c;\n            m.globalMinimum = f;\n            m.globalMaximum = e;\n            m.useGlobalMinMax = _this.v;\n            m.minimumValue = _this.at;\n            m.maximumValue = _this.as;\n            m.useLogarithmicScale = _this.x;\n            m.logarithmBase = _this.aq;\n            if (m.logarithmBase <= 0) {\n                m.logarithmBase = 10;\n            }\n            m.tileViewport = _this.bz;\n            m.maximumColor = _this.bx;\n            m.minimumColor = _this.by;\n            m.scaler = _this.m;\n            m.values = _this.c;\n            m.blurRadius = _this.ap;\n            if (m.blurRadius <= 0) {\n                m.blurRadius = 1;\n            }\n            m.useBlurRadiusAdjustedForZoom = _this.u;\n            m.maxBlurRadius = _this.ar;\n            if (m.maxBlurRadius <= 0) {\n                m.maxBlurRadius = 1;\n            }\n            m.values = _this.i;\n            m.scaleColors = _this.scaleColors;\n            m.scaleColorOffsets = _this.g;\n            m.minimumVisibleLatitude = _this.m.i(l, _this.bz);\n            m.maximumVisibleLatitude = _this.m.g(l, _this.bz);\n            m.minimumVisibleLongitude = _this.m.j(l, _this.bz);\n            m.maximumVisibleLongitude = _this.m.h(l, _this.bz);\n            m.yValues = _this.e;\n            m.xValues = _this.d;\n            if (_this.c == null && _this.e != null) {\n                _this.c = new Array(_this.e.length);\n                for (var n = 0; n < _this.e.length; n++) {\n                    _this.c[n] = 1;\n                }\n                m.values = _this.c;\n            }\n            if (!_this.o) {\n                _this.o = true;\n                m.isNewData = true;\n            }\n            m.image = j;\n            m.testRun = d;\n            _this.l.y(m, function (o, p) {\n                p.url = _this.a2(p.imageData);\n                p.imageData = _this.f(p.imageData);\n                g(_this, p);\n            }, h);\n        });\n    };\n    HeatTileGenerator.prototype.bn = function (a, b, c, d, e, f) {\n        var g = false;\n        g = this.au != a;\n        if (!g || d) {\n            f();\n            return;\n        }\n        var h = false;\n        var i = false;\n        if (a != this.au) {\n            if (this.z.containsKey(a.toString()) && !isNaN_(this.z.item(a.toString()).c) && !isNaN_(this.z.item(a.toString()).d)) {\n                this.au = a;\n                e(this, ((function () {\n                    var $ret = new TileImageZoomChangingEventArgs();\n                    $ret.z = a;\n                    $ret.x = b;\n                    $ret.y = c;\n                    return $ret;\n                })()));\n                h = true;\n            }\n            else if (this.z.containsKey(a.toString())) {\n                if (a > 0 && this.w) {\n                    var j = void 0;\n                    if (this.aa.containsKey(a.toString())) {\n                        j = this.aa.item(a.toString());\n                    }\n                    else {\n                        j = new List$1(Delegate_$type, 0);\n                        this.aa.addItem(a.toString(), j);\n                    }\n                    j.add(f);\n                }\n            }\n            else {\n                if (a > 0 && this.w) {\n                    this.z.addItem(a.toString(), new Tuple$2(Number_$type, Number_$type, NaN, NaN));\n                    i = true;\n                }\n            }\n        }\n        if (i) {\n            if (a > 0 && this.w) {\n                this.bt(a, f);\n            }\n        }\n        if (h) {\n            f();\n        }\n    };\n    HeatTileGenerator.prototype.a2 = function (a) {\n        if (a == null) {\n            return null;\n        }\n        var b = document.createElement(\"canvas\");\n        b.setAttribute(\"width\", \"256\");\n        b.setAttribute(\"height\", \"256\");\n        var c = b.getContext(\"2d\");\n        var d = c.getImageData(0, 0, 256, 256);\n        var e = d.data;\n        var f = e.length / 4;\n        for (var g = 0; g < f; g++) {\n            var h = a[g * 4];\n            var i = a[g * 4 + 1];\n            var j = a[g * 4 + 2];\n            var k = a[g * 4 + 3];\n            e[g * 4] = i;\n            e[g * 4 + 1] = j;\n            e[g * 4 + 2] = k;\n            e[g * 4 + 3] = h;\n        }\n        c.putImageData(d, 0, 0);\n        var ele_ = b;\n        return (ele_.toDataURL());\n    };\n    HeatTileGenerator.prototype.f = function (a) {\n        if (a == null) {\n            return null;\n        }\n        return a;\n    };\n    HeatTileGenerator.prototype.bt = function (a, b) {\n        var _this = this;\n        var c = 0;\n        var d = 0;\n        var e = 0;\n        var f = 0;\n        var g = new Rect(0, 0, 0, 256 * Math.pow(2, a), 256 * Math.pow(2, a));\n        var h = new Rect(0, 0, 0, 1, 1);\n        var i = this.m.s(this.af, h, g);\n        var j = this.m.r(this.ae, h, g);\n        var k = this.m.s(this.ai, h, g);\n        var l = this.m.r(this.ah, h, g);\n        c = truncate(Math.floor(k / 256));\n        d = truncate(Math.floor(l / 256));\n        e = truncate(Math.floor(i / 256));\n        f = truncate(Math.floor(j / 256));\n        var m = 0;\n        var n = 0;\n        this.getTile1(a, c, d, function (o, p) {\n            var q = p;\n            m = q.globalMinimumValue;\n            n = q.globalMaximumValue;\n            if (e != c && f != d) {\n                _this.getTile1(a, e, f, function (r, s) {\n                    var t = s;\n                    n = t.globalMaximumValue;\n                    _this.bu(a, n, m, b);\n                }, function (r, s) {\n                }, function (r, s) {\n                }, null, true);\n            }\n            else {\n                _this.bu(a, n, m, b);\n            }\n        }, function (o, p) {\n        }, function (o, p) {\n        }, null, true);\n    };\n    HeatTileGenerator.prototype.bu = function (a, b, c, d) {\n        if (b < this.aj) {\n            b = this.aj;\n        }\n        if (isNaN_(c) || c > this.ak) {\n            c = this.ak;\n        }\n        var e = new List$1(Delegate_$type, 0);\n        this.z.item(a.toString(), new Tuple$2(Number_$type, Number_$type, b, c));\n        if (this.aa.containsKey(a.toString())) {\n            var f = this.aa.item(a.toString());\n            for (var g = 0; g < f.count; g++) {\n                e.add(f._inner[g]);\n            }\n        }\n        this.aa.removeItem(a.toString());\n        this.au = a;\n        d();\n        for (var h = 0; h < e.count; h++) {\n            e._inner[h]();\n        }\n    };\n    HeatTileGenerator.prototype.b0 = function (a, b, c) {\n        var d = truncate(Math.pow(2, a)) * 256;\n        var e = (b * 256) / d;\n        var f = (c * 256) / d;\n        var g = 256 / d;\n        var h = 256 / d;\n        return new Rect(0, e, f, g, h);\n    };\n    HeatTileGenerator.prototype.bq = function () {\n        var a = -1.7976931348623157E+308;\n        var b = 1.7976931348623157E+308;\n        if (this.c != null) {\n            for (var c = 0; c < this.c.length; c++) {\n                var d = this.c[c];\n                a = d > a ? d : a;\n                b = d < b ? d : b;\n            }\n        }\n        var e = this.ak = b * 0.01;\n        this.aj = a;\n        this.o = false;\n    };\n    HeatTileGenerator.$t = markType(HeatTileGenerator, 'HeatTileGenerator', Base.$, [ITileGenerator_$type]);\n    return HeatTileGenerator;\n}(Base));\nexport { HeatTileGenerator };\n//# sourceMappingURL=HeatTileGenerator.js.map\n"]},"metadata":{},"sourceType":"module"}