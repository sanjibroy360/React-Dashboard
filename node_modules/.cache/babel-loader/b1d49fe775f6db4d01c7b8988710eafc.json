{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { FinancialSeries } from \"./FinancialSeries\";\nimport { ITrendLineSeries_$type } from \"./ITrendLineSeries\";\nimport { TrendLineType_$type } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Brush } from \"igniteui-react-core\";\nimport { PenLineCap_$type } from \"igniteui-react-core\";\nimport { DoubleCollection } from \"igniteui-react-core\";\nimport { PriceDisplayType_$type } from \"./PriceDisplayType\";\nimport { enumGetBox, EnumUtil, typeCast, fromEnum, runOn, Point_$type, markType, markDep } from \"igniteui-react-core\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { FinancialSeriesView } from \"./FinancialSeriesView\";\nimport { Series } from \"./Series\";\nimport { Rect } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { RectUtil } from \"igniteui-react-core\";\nimport { CategoryTrendLineManagerFactory } from \"./CategoryTrendLineManagerFactory\";\nimport { AxisRange } from \"./AxisRange\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { TrendResolutionParams } from \"./TrendResolutionParams\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { Path } from \"igniteui-react-core\";\nimport { PathGeometry } from \"igniteui-react-core\";\nimport { PathFigure } from \"igniteui-react-core\";\nimport { LineSegment } from \"igniteui-react-core\";\nimport { GeometryGroup } from \"igniteui-react-core\";\nimport { LineGeometry } from \"igniteui-react-core\";\nimport { RectangleGeometry } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { truncate, isNaN_ } from \"igniteui-react-core\";\nimport { boxArray$1 } from \"igniteui-react-core\";\nimport { FinancialPriceBucketCalculator } from \"./FinancialPriceBucketCalculator\";\nimport { Extensions } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar FinancialPriceSeries =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(FinancialPriceSeries, _super);\n\n  function FinancialPriceSeries() {\n    var _this = _super.call(this) || this;\n\n    _this.ab = FinancialPriceSeries.$;\n    _this.mc = new CategoryFrame(5);\n    _this.me = new CategoryFrame(5);\n    _this.mb = new CategoryFrame(5);\n    return _this;\n  }\n\n  FinancialPriceSeries.prototype.bf = function () {\n    return new FinancialPriceSeriesView(this);\n  };\n\n  FinancialPriceSeries.prototype.iv = function (a) {\n    _super.prototype.iv.call(this, a);\n\n    this.pk = a;\n  };\n\n  Object.defineProperty(FinancialPriceSeries.prototype, \"p4\", {\n    get: function () {\n      return this.c(FinancialPriceSeries.pu);\n    },\n    set: function (a) {\n      this.h(FinancialPriceSeries.pu, a);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  FinancialPriceSeries.prototype.hz = function (a, b, c, d) {\n    _super.prototype.hz.call(this, a, b, c, d);\n\n    if (this.l9 != null && typeCast(ISortingAxis_$type, this.l9) !== null) {\n      this.l9.i$i();\n    }\n\n    this.pk.bu.e(this.eu);\n\n    if (this.pk.b4) {\n      this.pk.b2.g$e(a, b, c, d);\n    }\n\n    if (this.mu != null) {\n      this.mu.cn();\n    }\n\n    this.je(true);\n  };\n\n  FinancialPriceSeries.prototype.bd = function () {\n    if (this.be == 0) {\n      return 1;\n    } else {\n      return _super.prototype.bd.call(this);\n    }\n  };\n\n  FinancialPriceSeries.prototype.lv = function (a) {\n    if (this.mb == null || this.mb.f.count == 0) {\n      return Rect.empty;\n    }\n\n    var b = this.lh(a);\n    var c = this.bi.bs;\n    var d = this.bi.br;\n    var e = this.getEffectiveViewport1(this.bi);\n    var f = this.aj(this.l9, this.mb.f, this.n6(this.bi), this.n8(this.bi), a, true);\n    var g = f[0];\n    var h = f[1];\n    var i = Math.abs(b.x - g[0]);\n    var j = Math.abs(b.x - h[0]);\n    var k = this.pm(this.mp, e);\n    k = Math.max(k, 3);\n    var l = (k - 1) / 2;\n\n    if (i < j) {\n      var m = g[0] - l;\n      var n = g[0];\n      var o = g[0] + l;\n      var p = g[1];\n      var q = g[2];\n      var r = g[3];\n      var s = g[4];\n      var t = Math.min(Math.min(Math.min(p, q), r), s);\n      var u = Math.max(Math.max(Math.max(p, q), r), s);\n      return new Rect(0, m, t, Math.abs(o - m), u - t);\n    } else {\n      var v = h[0] - l;\n      var w = h[0];\n      var x = h[0] + l;\n      var y = h[1];\n      var z = h[2];\n      var aa = h[3];\n      var ab = h[4];\n      var ac = Math.min(Math.min(Math.min(y, z), aa), ab);\n      var ad = Math.max(Math.max(Math.max(y, z), aa), ab);\n      return new Rect(0, v, ac, Math.abs(x - v), ad - ac);\n    }\n  };\n\n  FinancialPriceSeries.prototype.pj = function (a, b) {\n    var c = a[0] - b;\n    var d = a[0];\n    var e = a[0] + b;\n    var f = a[1];\n    var g = a[2];\n    var h = a[3];\n    var i = a[4];\n    var j = Math.min(Math.min(Math.min(f, g), h), i);\n    var k = Math.max(Math.max(Math.max(f, g), h), i);\n    var l = Math.min(g, h);\n    var m = Math.max(g, h);\n    var n = Math.min(f, i);\n    var o = Math.max(f, i);\n\n    if (this.pl == 1) {\n      var p = new Array(3);\n      var q = new Rect(0, c, f, b, 0);\n      var r = new Rect(0, d, i, b, 0);\n      var s = new Rect(0, d, l, 0, m - l);\n      p[0] = q;\n      p[1] = r;\n      p[2] = s;\n      return p;\n    } else {\n      var t = new Array(2);\n      var u = new Rect(0, d, l, 0, m - l);\n      var v = new Rect(0, c, n, b * 2, o - n);\n      t[0] = u;\n      t[1] = v;\n      return t;\n    }\n  };\n\n  FinancialPriceSeries.prototype.ak = function (a) {\n    var b = new List$1(Rect.$, 0);\n    var c = this.lh(a);\n    var d = this.bi.bs;\n    var e = this.bi.br;\n    var f = this.getEffectiveViewport1(this.bi);\n    var g = this.aj(this.l9, this.mb.f, this.n6(this.bi), this.n8(this.bi), a, true);\n    var h = g[0];\n    var i = g[1];\n    var j = Math.abs(c.x - h[0]);\n    var k = Math.abs(c.x - i[0]);\n    var l = this.pm(this.mp, f);\n    l = Math.max(l, 3);\n    var m = (l - 1) / 2;\n\n    if (j < k) {\n      return this.pj(h, m);\n    } else {\n      return this.pj(i, m);\n    }\n  };\n\n  FinancialPriceSeries.prototype.dh = function (a, b) {\n    if (this.dk(a, b)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  FinancialPriceSeries.prototype.dk = function (a, b) {\n    var c = this.lw(a);\n\n    if (c.isEmpty) {\n      return false;\n    }\n\n    var d = RectUtil.r(c, this.ey / 2 + this.ee(b));\n\n    if (d.containsPoint(a)) {\n      var e = this.al(a);\n\n      if (e != null) {\n        for (var f = 0; f < e.length; f++) {\n          var g = e[f];\n          var h = RectUtil.r(g, this.ey / 2 + this.ee(b));\n\n          if (h.containsPoint(a)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    return false;\n  };\n\n  FinancialPriceSeries.prototype.i0 = function (a, b, c, d) {\n    switch (b) {\n      case FinancialSeries.$$p[9]:\n        this.pk.ca();\n        break;\n\n      case \"TrendLineType\":\n        var e = EnumUtil.getEnumValue(TrendLineType_$type, d);\n\n        if (e != 0) {\n          this.pk.b2 = CategoryTrendLineManagerFactory.a(this.pk.b2, this.l9, this.jy, this, this.b2);\n        }\n\n        break;\n    }\n\n    _super.prototype.i0.call(this, a, b, c, d);\n\n    if (this.pk.b4 && this.pk.b2 != null && this.pk.b2.g$b(a, b, c, d)) {\n      this.je(false);\n      this.il();\n    }\n\n    switch (b) {\n      case FinancialPriceSeries.$$p[0]:\n        if (this.jy != null) {\n          this.pt();\n          this.mb.w();\n          this.o2(this.mb, this.pk);\n        }\n\n        this.il();\n        break;\n\n      case \"TrendLineBrush\":\n        this.jp();\n        break;\n\n      case \"TrendLineType\":\n        this.il();\n        break;\n\n      case FinancialSeries.$$p[5]:\n      case FinancialPriceSeries.$$p[1]:\n        this.ix();\n        break;\n    }\n  };\n\n  FinancialPriceSeries.prototype.pt = function () {\n    this.pk.ce();\n\n    if (this.bh != null) {\n      this.bh.ce();\n    }\n  };\n\n  FinancialPriceSeries.prototype.an = function (a) {\n    if (a != null && a == this.mu && this.m1 != null && !isNaN_(this.m1.minimum) && this.mz != null && !isNaN_(this.mz.maximum)) {\n      return new AxisRange(this.m1.minimum, this.mz.maximum);\n    }\n\n    return null;\n  };\n\n  FinancialPriceSeries.prototype.ao = function () {\n    if (this.m1 == null || this.mz == null) {\n      return null;\n    }\n\n    var a = new ScalerParams(0, this.bs.mr, this.bs.m5, this.l9.ca, this.getEffectiveViewport());\n    var b = this.l9.d1(this.bs.m5.left, a);\n    var c = this.l9.d1(this.bs.m5.right, a);\n    var d = null;\n\n    if (this.l9.cf) {\n      d = this.l9;\n      b = d.i$f(b);\n      c = d.i$f(c);\n    } else {\n      b = Math.floor(b);\n      c = Math.ceil(c);\n    }\n\n    b = Math.max(0, Math.min(this.m1.count - 1, b));\n    c = Math.max(0, Math.min(this.m1.count - 1, c));\n    var e = 1.7976931348623157E+308;\n    var f = -1.7976931348623157E+308;\n\n    for (var g = truncate(b); g <= truncate(c); g++) {\n      var h = g;\n\n      if (d != null) {\n        h = d.i$b._inner[g];\n      }\n\n      e = Math.min(e, this.m1.item(h));\n      f = Math.max(f, this.mz.item(h));\n    }\n\n    return new AxisRange(e, f);\n  };\n\n  FinancialPriceSeries.prototype.eh = function () {\n    return Series.ei(this.m3, typeCast(ISortingAxis_$type, this.l9));\n  };\n\n  FinancialPriceSeries.prototype.c9 = function (a) {\n    var b = this.bz != null ? this.bz.indexOf(a) : -1;\n    var c = this.bi.bs;\n    c = c.copy();\n    var d = this.bi.br;\n    var e = new Rect(0, 0, 0, 1, 1);\n    var f = this.lt(this.bi);\n\n    if (b >= 0 && Rect.l_op_Inequality(c, null) && Rect.l_op_Inequality(d, null)) {\n      if (this.l9 != null) {\n        var g = new ScalerParams(0, e, e, this.l9.ca, f);\n        var h = this.l9.dy(b, g);\n\n        if (h < c.left + 0.1 * c.width) {\n          h = h + 0.4 * c.width;\n        }\n\n        if (h > c.right - 0.1 * c.width) {\n          h = h - 0.4 * c.width;\n        }\n\n        c.x = h - 0.5 * c.width;\n      }\n\n      if (this.mu != null && this.m1 != null && this.mz != null && b < this.m1.count && b < this.mz.count) {\n        var i = new ScalerParams(0, e, e, this.mu.ca, f);\n        i.b = this.eh();\n        var j = this.mu.dy(this.m1.item(b), i);\n        var k = this.mu.dy(this.mz.item(b), i);\n\n        if (!isNaN_(j) && !isNaN_(k)) {\n          var l = Math.abs(j - k);\n\n          if (c.height < l) {\n            c.height = l;\n            c.y = Math.min(j, k);\n          } else {\n            if (j < c.top + 0.1 * c.height) {\n              j = j + 0.4 * c.height;\n            }\n\n            if (j > c.bottom - 0.1 * c.height) {\n              j = j - 0.4 * c.height;\n            }\n\n            c.y = j - 0.5 * c.height;\n          }\n        }\n      }\n\n      this.bn.ap(this.bs, c, true);\n    }\n\n    return b >= 0;\n  };\n\n  FinancialPriceSeries.prototype.dw = function (a, b, c) {\n    var d = _super.prototype.dw.call(this, a, b, c);\n\n    if (this.m3 == null || this.mx == null || this.mz == null || this.m1 == null) {\n      d = false;\n    }\n\n    return d;\n  };\n\n  FinancialPriceSeries.prototype.o0 = function (a, b) {\n    var e_1, _a;\n\n    var _this = this;\n\n    _super.prototype.o0.call(this, a, b);\n\n    var c = b.bs;\n    var d = b.br;\n    var e = this.getEffectiveViewport1(b);\n    var f = this.l9;\n    var g = this.mu;\n    var h = new ScalerParams(0, c, d, f.ca, e);\n\n    var i = function () {\n      var $ret = new ScalerParams(0, c, d, g.ca, e);\n      $ret.b = _this.eh();\n      return $ret;\n    }();\n\n    a.f.clear();\n    a.m.clear();\n    a.p.clear();\n    var j = 0;\n    var k = typeCast(ISortingAxis_$type, this.l9);\n\n    if (k != null && (k.i$b == null || k.i$b.count != this.bz.count)) {\n      return;\n    }\n\n    j = this.n0(c, d, e);\n    var l = typeCast(FinancialPriceSeriesView.$, b);\n    var m = this.eu;\n\n    if (this.trendLineType != 0) {\n      var n = new Array(this.bz.count);\n      var o = 0;\n\n      try {\n        for (var _b = tslib_1.__values(fromEnum(this.nr)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var p = _c.value;\n          n[o] = p;\n          o++;\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n\n      if (this.pk.b4) {\n        this.pk.b2.prepareLineCore(a.p, this.trendLineType, boxArray$1(n), this.trendLinePeriod, function (q) {\n          return _this.l9.dy(q, h);\n        }, function (q) {\n          return _this.mu.dy(q, i);\n        }, function () {\n          var $ret = new TrendResolutionParams();\n          $ret.c = b.bu.b;\n          $ret.d = b.bu.c;\n          $ret.e = b.bu.d;\n          $ret.a = j;\n          $ret.b = m;\n          $ret.f = d;\n          return $ret;\n        }());\n      }\n    }\n\n    var q = this.l9.d1(2, h) - this.l9.d1(1, h);\n\n    for (var r = b.bu.c; r <= b.bu.d; ++r) {\n      var s = void 0;\n\n      if (k == null) {\n        s = b.bu.getBucket(r);\n      } else {\n        var t = k.i$b._inner[r];\n        var u = k.i$d(t);\n        var v = this.m3.item(t);\n        var w = this.mz.item(t);\n        var x = this.m1.item(t);\n        var y = this.mx.item(t);\n        var z = v;\n        var aa = w;\n        var ab = x;\n        var ac = y;\n        var ad = u;\n\n        while (r < b.bu.d) {\n          t = k.i$b._inner[r + 1];\n          ad = k.i$d(t);\n\n          if (ad - u > q * m) {\n            break;\n          }\n\n          r++;\n          aa = Math.max(aa, this.mz.item(t));\n          ab = Math.min(ab, this.m1.item(t));\n          ac = this.mx.item(t);\n        }\n\n        var ae = NaN;\n\n        if (!isNaN_(u)) {\n          ae = this.l9.dy(u, h);\n        }\n\n        s = [ae, z, aa, ab, ac];\n      }\n\n      if (!isNaN_(s[0])) {\n        if (k != null) {\n          s[0] = s[0] + j;\n        } else {\n          s[0] = f.dy(s[0], h) + j;\n        }\n\n        s[1] = g.dy(s[1], i);\n        s[2] = g.dy(s[2], i);\n        s[3] = g.dy(s[3], i);\n        s[4] = g.dy(s[4], i);\n        a.f.add(s);\n      }\n    }\n\n    return;\n  };\n\n  FinancialPriceSeries.prototype.hw = function (a, b) {\n    _super.prototype.hw.call(this, a, b);\n\n    var c = typeCast(FinancialPriceSeriesView.$, b);\n    c.b8();\n\n    if (a) {\n      c.b3.count = 0;\n    }\n\n    if (c.b4 && c.b2 != null) {\n      c.b2.g$d();\n    }\n  };\n\n  FinancialPriceSeries.prototype.get_nd = function () {\n    return true;\n  };\n\n  FinancialPriceSeries.prototype.o2 = function (a, b) {\n    _super.prototype.o2.call(this, a, b);\n\n    if (this.l9 == null || this.mu == null) {\n      return;\n    }\n\n    var c = false;\n\n    if (b.bx(a)) {\n      c = true;\n      b.bz(a);\n    }\n\n    this.mh.x(this, this.nh(), this.l9, runOn(this, this.l1), this.n6(b), this.n8(b));\n    var d = false;\n    var e = this.mh.c;\n\n    if (e != null) {\n      d = true;\n    }\n\n    var f = typeCast(FinancialPriceSeriesView.$, b);\n    f.b7();\n    f.b5 = false;\n\n    if (f.b4) {\n      f.b2.g$d();\n    }\n\n    if (this.trendLineType != 0) {\n      f.b2.g$g(a.p);\n    }\n\n    if (d) {\n      this.ps(a, b, c);\n    } else {\n      f.b3.count = 0;\n      this.pr(a, b);\n    }\n  };\n\n  FinancialPriceSeries.prototype.eg = function () {\n    var a = this.getEffectiveViewport1(this.bi);\n    return this.pm(this.mp, a);\n  };\n\n  FinancialPriceSeries.prototype.ps = function (a, b, c) {\n    var d = this.pl;\n    var e = this.getEffectiveViewport1(b);\n    var f = this.pm(b, e);\n    var g = (f - 1) / 2;\n    var h = typeCast(FinancialPriceSeriesView.$, b);\n    h.b5 = true;\n    var i = a.f;\n    var j = 0;\n    var k = this.bz.count;\n    var l = this.l9;\n    var m = new ScalerParams(0, b.bs, b.br, l.ca, e);\n    var n = this.k4;\n    var o = this.pf;\n\n    if (o == null) {\n      o = n;\n    }\n\n    var p = this.k5;\n    var q = this.p5;\n\n    if (q == null) {\n      q = p;\n    }\n\n    var _loop_1 = function (r) {\n      var s = i._inner[r][0] - g;\n      var t = i._inner[r][0];\n      var u = i._inner[r][0] + g;\n      var v = i._inner[r][1];\n      var w = i._inner[r][2];\n      var x = i._inner[r][3];\n      var y = i._inner[r][4];\n\n      if (isNaN_(v) || isNaN_(w) || isNaN_(x) || isNaN_(y)) {\n        return \"continue\";\n      }\n\n      var z = h.b3.item(j);\n      j++;\n      var aa = v < y;\n      var ab = new PathGeometry();\n\n      if (c) {\n        switch (d) {\n          case 0:\n            if (aa) {\n              var ac = v;\n              v = y;\n              y = ac;\n            }\n\n            var ad = new PathFigure();\n            ad._startPoint = {\n              $type: Point_$type,\n              x: t,\n              y: x\n            };\n\n            ad._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: t,\n                y: v\n              };\n              return $ret;\n            }());\n\n            var ae = new PathFigure();\n            ae._startPoint = {\n              $type: Point_$type,\n              x: s,\n              y: y\n            };\n\n            ae._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: u,\n                y: y\n              };\n              return $ret;\n            }());\n\n            ae._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: u,\n                y: v\n              };\n              return $ret;\n            }());\n\n            ae._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: s,\n                y: v\n              };\n              return $ret;\n            }());\n\n            ae._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: s,\n                y: y\n              };\n              return $ret;\n            }());\n\n            var af = new PathFigure();\n            af._startPoint = {\n              $type: Point_$type,\n              x: t,\n              y: y\n            };\n\n            af._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: t,\n                y: w\n              };\n              return $ret;\n            }());\n\n            ab.c.add(ad);\n            ab.c.add(ae);\n            ab.c.add(af);\n            break;\n\n          case 1:\n            var ag = new PathFigure();\n            ag._startPoint = {\n              $type: Point_$type,\n              x: s,\n              y: v\n            };\n\n            ag._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: t,\n                y: v\n              };\n              return $ret;\n            }());\n\n            var ah = new PathFigure();\n            ah._startPoint = {\n              $type: Point_$type,\n              x: t,\n              y: x\n            };\n\n            ah._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: t,\n                y: w\n              };\n              return $ret;\n            }());\n\n            var ai = new PathFigure();\n            ai._startPoint = {\n              $type: Point_$type,\n              x: t,\n              y: y\n            };\n\n            ai._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: u,\n                y: y\n              };\n              return $ret;\n            }());\n\n            ab.c.add(ag);\n            ab.c.add(ah);\n            ab.c.add(ai);\n            break;\n        }\n      }\n\n      if (aa) {\n        this_1.mh.al = o;\n        this_1.mh.ah = o;\n        this_1.mh.am = this_1.mh.ai = q;\n        this_1.mh.f = true;\n      } else {\n        this_1.mh.al = n;\n        this_1.mh.ah = n;\n        this_1.mh.am = this_1.mh.ai = p;\n        this_1.mh.f = false;\n      }\n\n      this_1.oz(i, r, k, l, m, b.n);\n\n      if (d == 1) {\n        this_1.mh.ae(z, true, false, false, false);\n      } else {\n        this_1.mh.ae(z, false, false, false, false);\n      }\n\n      if (c) {\n        z.ak = ab;\n      }\n    };\n\n    var this_1 = this;\n\n    for (var r = 0; r < i.count; ++r) {\n      _loop_1(r);\n    }\n\n    h.b3.count = j;\n    h.b9();\n  };\n\n  FinancialPriceSeries.prototype.pm = function (a, b) {\n    var c = this.l9.jy(a.bs, a.br, b);\n    c = Math.max(c, this.eu * 0.9);\n    c = Math.max(c, 3);\n    return c;\n  };\n\n  FinancialPriceSeries.prototype.pr = function (a, b) {\n    var c = this.pl;\n    var d = this.getEffectiveViewport1(b);\n    var e = this.pm(b, d);\n    var f = (e - 1) / 2;\n    var g = typeCast(FinancialPriceSeriesView.$, b);\n    var h = g.ch();\n    var i = g.cg();\n    var j = a.f;\n\n    var _loop_2 = function (k) {\n      var l = j._inner[k][0] - f;\n      var m = j._inner[k][0];\n      var n = j._inner[k][0] + f;\n      var o = j._inner[k][1];\n      var p = j._inner[k][2];\n      var q = j._inner[k][3];\n      var r = j._inner[k][4];\n\n      if (isNaN_(o) || isNaN_(p) || isNaN_(q) || isNaN_(r)) {\n        return \"continue\";\n      }\n\n      var s = o < r;\n      var t = s ? i : h;\n\n      switch (c) {\n        case 0:\n          if (s) {\n            var u = o;\n            o = r;\n            r = u;\n          }\n\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: m,\n              y: q\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: m,\n              y: o\n            };\n            return $ret;\n          }());\n          t.d.add(function () {\n            var $ret = new RectangleGeometry();\n            $ret.e = new Rect(0, l, r, n - l, o - r);\n            return $ret;\n          }());\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: m,\n              y: r\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: m,\n              y: p\n            };\n            return $ret;\n          }());\n          break;\n\n        case 1:\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: l,\n              y: o\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: m,\n              y: o\n            };\n            return $ret;\n          }());\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: m,\n              y: q\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: m,\n              y: p\n            };\n            return $ret;\n          }());\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: m,\n              y: r\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: n,\n              y: r\n            };\n            return $ret;\n          }());\n          break;\n      }\n    };\n\n    for (var k = 0; k < j.count; ++k) {\n      _loop_2(k);\n    }\n  };\n\n  FinancialPriceSeries.prototype.fv = function (a, b) {\n    if (this.pk.b4 && a == this.pk.b2.g$j) {\n      return null;\n    }\n\n    return _super.prototype.fv.call(this, a, b);\n  };\n\n  FinancialPriceSeries.prototype.jp = function () {\n    _super.prototype.jp.call(this);\n\n    if (this.fh < 0) {\n      return;\n    }\n\n    this.pk.cf();\n  };\n\n  FinancialPriceSeries.prototype.h5 = function (a) {\n    _super.prototype.h5.call(this, a);\n\n    if (this.pk.b4) {\n      this.a2.exportTrendlineData(this, a, this.pk.b2.g$j);\n    }\n  };\n\n  FinancialPriceSeries.prototype.jj = function (a, b) {\n    _super.prototype.jj.call(this, a, b);\n\n    this.p5 = b;\n  };\n\n  FinancialPriceSeries.$t = markType(FinancialPriceSeries, 'FinancialPriceSeries', FinancialSeries.$, [ITrendLineSeries_$type]);\n  FinancialPriceSeries.pu = DependencyProperty.i(\"ActualTrendLineBrush\", Brush.$, FinancialPriceSeries.$, new PropertyMetadata(2, null, function (a, b) {\n    return a.raisePropertyChanged(\"ActualTrendLineBrush\", b.oldValue, b.newValue);\n  }));\n  FinancialPriceSeries.$$p = markDep(DependencyProperty, PropertyMetadata, FinancialPriceSeries, 'raisePropertyChanged', ['DisplayType:pl:pv', [PriceDisplayType_$type, enumGetBox(PriceDisplayType_$type, 0)], 'NegativeOutline:p5:pw', [Brush.$, null], 'TrendLineType::p2', [TrendLineType_$type, enumGetBox(TrendLineType_$type, 0)], 'TrendLineThickness::p1', [1, 1.5], 'TrendLinePeriod::p0', [1, 7], 'TrendLineBrush::px', [Brush.$, null], 'TrendLineZIndex:po:p3', [1, 1001], 'TrendLineDashArray:p6:py', [DoubleCollection.$], 'TrendLineDashCap:p7:pz', [PenLineCap_$type, enumGetBox(PenLineCap_$type, 0)]]);\n  return FinancialPriceSeries;\n}(FinancialSeries);\n\nexport { FinancialPriceSeries };\n/**\n * @hidden\n */\n\nvar FinancialPriceSeriesView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(FinancialPriceSeriesView, _super);\n\n  function FinancialPriceSeriesView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.b0 = null;\n    _this.b3 = null;\n    _this.b6 = null;\n\n    _this.ck = function () {\n      var $ret = new Path();\n      $ret.ak = new GeometryGroup();\n      return $ret;\n    }();\n\n    _this.cj = function () {\n      var $ret = new Path();\n      $ret.ak = new GeometryGroup();\n      return $ret;\n    }();\n\n    _this.b1 = null;\n    _this.ci = new Path();\n    _this.b5 = false;\n    _this.b0 = a;\n    _this.b6 = new List$1(Path.$, 0);\n\n    _this.b3 = function () {\n      var $ret = new Pool$1(Path.$);\n      $ret.create = runOn(_this, _this.cl);\n      $ret.activate = runOn(_this, _this.cb);\n      $ret.disactivate = runOn(_this, _this.cd);\n      $ret.destroy = runOn(_this, _this.cc);\n      return $ret;\n    }();\n\n    return _this;\n  }\n\n  FinancialPriceSeriesView.prototype.cl = function () {\n    var a = new Path();\n    this.b6.add(a);\n    a._visibility = 1;\n    return a;\n  };\n\n  FinancialPriceSeriesView.prototype.cb = function (a) {\n    a._visibility = 0;\n  };\n\n  FinancialPriceSeriesView.prototype.cd = function (a) {\n    a._visibility = 1;\n  };\n\n  FinancialPriceSeriesView.prototype.cc = function (a) {\n    this.b6.remove(a);\n  };\n\n  FinancialPriceSeriesView.prototype.bv = function () {\n    return new FinancialPriceBucketCalculator(this);\n  };\n\n  FinancialPriceSeriesView.prototype.ap = function () {\n    _super.prototype.ap.call(this);\n\n    if (!this.n) {\n      this.bw.pf = function () {\n        var $ret = new Brush();\n        $ret.fill = \"#C62828\";\n        return $ret;\n      }();\n\n      this.b0.p5 = this.bw.pf;\n      this.bw.eu = 5;\n      this.bw.ey = 1;\n    }\n  };\n\n  Object.defineProperty(FinancialPriceSeriesView.prototype, \"b2\", {\n    get: function () {\n      if (this.b1 == null) {\n        this.b1 = CategoryTrendLineManagerFactory.a(this.b1, this.e.ap(), this.e.jy, this.e, this.e.b2);\n      }\n\n      return this.b1;\n    },\n    set: function (a) {\n      this.b1 = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FinancialPriceSeriesView.prototype, \"b4\", {\n    get: function () {\n      return this.b1 != null;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  FinancialPriceSeriesView.prototype.ce = function () {\n    if (this.b0.pl == 1) {\n      this.ck._stroke = this.e.k4;\n    } else {\n      this.ck._stroke = this.e.k5;\n    }\n\n    if (this.b0.pl == 1) {\n      this.cj._stroke = this.bw.pf;\n    } else {\n      this.cj._stroke = this.b0.p5;\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.b8 = function () {\n    this.an();\n    this.b3.count = 0;\n    this.b7();\n  };\n\n  FinancialPriceSeriesView.prototype.b7 = function () {\n    var a = typeCast(GeometryGroup.$, this.ck.ak);\n    var b = typeCast(GeometryGroup.$, this.cj.ak);\n    Extensions.d(a);\n    Extensions.d(b);\n  };\n\n  FinancialPriceSeriesView.prototype.ch = function () {\n    this.an();\n    return typeCast(GeometryGroup.$, this.ck.ak);\n  };\n\n  FinancialPriceSeriesView.prototype.cg = function () {\n    this.an();\n    return typeCast(GeometryGroup.$, this.cj.ak);\n  };\n\n  FinancialPriceSeriesView.prototype.cf = function () {\n    this.b0.p4 = null;\n\n    if (this.b0.trendLineBrush != null) {\n      this.b0.p4 = this.b0.trendLineBrush;\n    } else {\n      this.b0.p4 = this.b0.k4;\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.a8 = function () {\n    _super.prototype.a8.call(this);\n\n    this.ck.ac = this.e.ey;\n    this.ck.ai = this.e.lc;\n    this.ck.ad = this.e.ld;\n\n    if (this.b0.pl == 1) {\n      this.ck._stroke = this.e.k4;\n    } else {\n      this.ck._stroke = this.e.k5;\n      this.ck._fill = this.e.k4;\n    }\n\n    this.cj.ac = this.e.ey;\n    this.cj.ai = this.e.lc;\n    this.cj.ad = this.e.ld;\n\n    if (this.b0.pl == 1) {\n      this.cj._stroke = this.bw.pf;\n    } else {\n      this.cj._stroke = this.b0.p5;\n      this.cj._fill = this.bw.pf;\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.a9 = function () {\n    _super.prototype.a9.call(this);\n\n    var a = this.bl();\n    this.ck.ac = this.e.ey + 3;\n\n    if (this.b0.pl == 1) {\n      this.ck._stroke = a;\n    } else {\n      this.ck._stroke = a;\n      this.ck._fill = a;\n    }\n\n    this.cj.ac = this.e.ey + 3;\n\n    if (this.b0.pl == 1) {\n      this.cj._stroke = a;\n    } else {\n      this.cj._stroke = a;\n      this.cj._fill = a;\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.z = function (a) {\n    return this.b6._inner[a];\n  };\n\n  FinancialPriceSeriesView.prototype.y = function (a) {\n    var b = this.b6._inner[a];\n    this.ci._visibility = b._visibility;\n    this.ci.ak = b.ak;\n    var c = this.bm(a);\n    this.ci._fill = c;\n    this.ci._stroke = c;\n    this.ci.ac = this.e.ey + 3;\n    return this.ci;\n  };\n\n  FinancialPriceSeriesView.prototype.a3 = function (a, b) {\n    _super.prototype.a3.call(this, a, b);\n\n    if (a.d) {\n      if (this.b5) {\n        for (var c = 0; c < this.b6.count; c++) {\n          var d = this.x(c, b);\n\n          if (d._visibility == 0) {\n            a.s(d);\n          }\n        }\n      } else {\n        a.s(this.ck);\n        a.s(this.cj);\n      }\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.a2 = function (a, b) {\n    if (a.d) {\n      if (this.b0.trendLineType != 0 && !b) {\n        var c = this.b2.g$j;\n        c.ac = this.b0.trendLineThickness;\n        c._stroke = this.b0.p4;\n        c.ai = this.b0.p6;\n        c.ad = this.b0.p7;\n        a.u(c);\n      }\n    }\n\n    _super.prototype.a2.call(this, a, b);\n  };\n\n  FinancialPriceSeriesView.prototype.ai = function (a) {\n    _super.prototype.ai.call(this, a);\n\n    this.e.a2.exportPathData(a, this.ck, \"positivePathShape\", [\"Positive\", \"Main\"]);\n    this.e.a2.exportPathData(a, this.cj, \"negativePathShape\", [\"Negative\"]);\n  };\n\n  FinancialPriceSeriesView.prototype.b9 = function () {\n    this.an();\n  };\n\n  FinancialPriceSeriesView.prototype.ca = function () {\n    if (this.b4) {\n      this.b1 = CategoryTrendLineManagerFactory.a(this.b1, this.e.ap(), this.e.jy, this.e, this.e.b2);\n    }\n  };\n\n  FinancialPriceSeriesView.$t = markType(FinancialPriceSeriesView, 'FinancialPriceSeriesView', FinancialSeriesView.$);\n  return FinancialPriceSeriesView;\n}(FinancialSeriesView);\n\nexport { FinancialPriceSeriesView };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/FinancialPriceSeries_combined.ts"],"names":[],"mappings":"AAAA;;;;;;;AAOA,SAAS,eAAT,QAAgC,mBAAhC;AACA,SAA2B,sBAA3B,QAAyD,oBAAzD;AACA,SAAwB,mBAAxB,QAAmD,qBAAnD;AACA,SAAS,kBAAT,QAAmC,qBAAnC;AAEA,SAAS,KAAT,QAAsB,qBAAtB;AACA,SAAqB,gBAArB,QAA6C,qBAA7C;AACA,SAAS,gBAAT,QAAiC,qBAAjC;AACA,SAA2B,sBAA3B,QAAyD,oBAAzD;AAEA,SAAgO,UAAhO,EAA4O,QAA5O,EAAkR,QAAlR,EAA4R,QAA5R,EAAsS,KAAtS,EAA6S,WAA7S,EAA0T,QAA1T,EAAoU,OAApU,QAA8V,qBAA9V;AAEA,SAAS,aAAT,QAA8B,iBAA9B;AAEA,SAAuB,kBAAvB,QAAiD,gBAAjD;AACA,SAAS,mBAAT,QAAoC,uBAApC;AACA,SAAS,MAAT,QAAuB,UAAvB;AAKA,SAAS,IAAT,QAAqB,qBAArB;AACA,SAAS,MAAT,QAAuB,qBAAvB;AACA,SAAS,QAAT,QAAyB,qBAAzB;AACA,SAAS,+BAAT,QAAgD,mCAAhD;AACA,SAAS,SAAT,QAA0B,aAA1B;AAEA,SAAS,YAAT,QAA6B,gBAA7B;AAMA,SAAS,qBAAT,QAAsC,yBAAtC;AAEA,SAAS,MAAT,QAAuB,qBAAvB;AACA,SAAS,IAAT,QAAqB,qBAArB;AAGA,SAAS,YAAT,QAA6B,qBAA7B;AACA,SAAS,UAAT,QAA2B,qBAA3B;AACA,SAAS,WAAT,QAA4B,qBAA5B;AAEA,SAAS,aAAT,QAA8B,qBAA9B;AACA,SAAS,YAAT,QAA6B,qBAA7B;AACA,SAAS,iBAAT,QAAkC,qBAAlC;AAIA,SAAS,gBAAT,QAAiC,qBAAjC;AACA,SAAS,QAAT,EAAmB,MAAnB,QAAiC,qBAAjC;AACA,SAAS,UAAT,QAA2B,qBAA3B;AAEA,SAAS,8BAAT,QAA+C,kCAA/C;AAEA,SAAS,UAAT,QAA2B,qBAA3B;AAKA;;;;AAGA,IAAA,oBAAA;AAAA;;AAAA;AAAA,UAAA,MAAA,EAAA;AAA0C,EAAA,OAAA,CAAA,SAAA,CAAA,oBAAA,EAAA,MAAA;;AAUzC,WAAA,oBAAA,GAAA;AAAA,QAAA,KAAA,GACC,MAAA,CAAA,IAAA,CAAA,IAAA,KAAO,IADR;;AAEC,IAAA,KAAI,CAAC,EAAL,GAAgB,oBAAqB,CAAC,CAAtC;AACA,IAAA,KAAI,CAAC,EAAL,GAAU,IAAI,aAAJ,CAAkB,CAAlB,CAAV;AACA,IAAA,KAAI,CAAC,EAAL,GAAU,IAAI,aAAJ,CAAkB,CAAlB,CAAV;AACA,IAAA,KAAI,CAAC,EAAL,GAAU,IAAI,aAAJ,CAAkB,CAAlB,CAAV;;AACA;;AAdS,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAV,YAAA;AACC,WAAO,IAAI,wBAAJ,CAA6B,IAA7B,CAAP;AACA,GAFS;;AAGV,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,UAAG,CAAH,EAAgB;AACf,IAAA,MAAA,CAAA,SAAA,CAAM,EAAN,CAAQ,IAAR,CAAQ,IAAR,EAAS,CAAT;;AACA,SAAK,EAAL,GAAoC,CAApC;AACA,GAHD;;AAcA,EAAA,MAAA,CAAA,cAAA,CAAI,oBAAA,CAAA,SAAJ,EAAI,IAAJ,EAAM;SAAN,YAAA;AACC,aAAc,KAAK,CAAL,CAAO,oBAAoB,CAAC,EAA5B,CAAd;AACA,KAFK;SAGN,UAAO,CAAP,EAAe;AACd,WAAK,CAAL,CAAO,oBAAoB,CAAC,EAA5B,EAAgC,CAAhC;AACA,KALK;oBAAA;;AAAA,GAAN;;AAYU,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAV,UAAa,CAAb,EAA4C,CAA5C,EAAuD,CAAvD,EAAkE,CAAlE,EAA2E;AAC1E,IAAA,MAAA,CAAA,SAAA,CAAM,EAAN,CAAQ,IAAR,CAAQ,IAAR,EAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB;;AACA,QAAI,KAAK,EAAL,IAAW,IAAX,IAAmB,QAAQ,CAAe,kBAAf,EAAmC,KAAK,EAAxC,CAAR,KAAwD,IAA/E,EAAqF;AAChE,WAAK,EAAL,CAAS,GAAT;AACpB;;AACD,SAAK,EAAL,CAAQ,EAAR,CAAW,CAAX,CAAa,KAAK,EAAlB;;AACA,QAAI,KAAK,EAAL,CAAQ,EAAZ,EAAgB;AACf,WAAK,EAAL,CAAQ,EAAR,CAAW,GAAX,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB;AACA;;AACD,QAAI,KAAK,EAAL,IAAW,IAAf,EAAqB;AACpB,WAAK,EAAL,CAAQ,EAAR;AACA;;AACD,SAAK,EAAL,CAAQ,IAAR;AACA,GAbS;;AAeA,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAV,YAAA;AACC,QAAI,KAAK,EAAL,IAAW,CAAf,EAAkB;AACjB,aAAO,CAAP;AACA,KAFD,MAEO;AACN,aAAO,MAAA,CAAA,SAAA,CAAM,EAAN,CAAQ,IAAR,CAAQ,IAAR,CAAP;AACA;AACD,GANS;;AAOV,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,UAAG,CAAH,EAAW;AACV,QAAI,KAAK,EAAL,IAAW,IAAX,IAAmB,KAAK,EAAL,CAAQ,CAAR,CAAU,KAAV,IAAmB,CAA1C,EAA6C;AAC5C,aAAO,IAAI,CAAC,KAAZ;AACA;;AACD,QAAI,CAAC,GAAG,KAAK,EAAL,CAAQ,CAAR,CAAR;AACA,QAAI,CAAC,GAAS,KAAK,EAAL,CAAQ,EAAtB;AACA,QAAI,CAAC,GAAS,KAAK,EAAL,CAAQ,EAAtB;AACA,QAAI,CAAC,GAAS,KAAK,qBAAL,CAA2B,KAAK,EAAhC,CAAd;AACA,QAAI,CAAC,GAAG,KAAK,EAAL,CAAQ,KAAK,EAAb,EAAiB,KAAK,EAAL,CAAQ,CAAzB,EAA4B,KAAK,EAAL,CAAQ,KAAK,EAAb,CAA5B,EAA8C,KAAK,EAAL,CAAQ,KAAK,EAAb,CAA9C,EAAgE,CAAhE,EAAmE,IAAnE,CAAR;AACA,QAAI,CAAC,GAAG,CAAC,CAAC,CAAD,CAAT;AACA,QAAI,CAAC,GAAG,CAAC,CAAC,CAAD,CAAT;AACA,QAAI,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAD,CAAhB,CAAR;AACA,QAAI,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAD,CAAhB,CAAR;AACA,QAAI,CAAC,GAAW,KAAK,EAAL,CAAQ,KAAK,EAAb,EAAiB,CAAjB,CAAhB;AACA,IAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAJ;AACA,QAAI,CAAC,GAAW,CAAC,CAAC,GAAG,CAAL,IAAU,CAA1B;;AACA,QAAI,CAAC,GAAG,CAAR,EAAW;AACV,UAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAD,GAAO,CAAvB;AACA,UAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAjB;AACA,UAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAD,GAAO,CAAvB;AACA,UAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAjB;AACA,UAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAjB;AACA,UAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAjB;AACA,UAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAjB;AACA,UAAI,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAT,EAAyB,CAAzB,CAAT,EAAsC,CAAtC,CAAR;AACA,UAAI,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAT,EAAyB,CAAzB,CAAT,EAAsC,CAAtC,CAAR;AACA,aAAO,IAAI,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,IAAI,CAAC,GAAL,CAAS,CAAC,GAAG,CAAb,CAAlB,EAAmC,CAAC,GAAG,CAAvC,CAAP;AACA,KAXD,MAWO;AACN,UAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAD,GAAO,CAAvB;AACA,UAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAjB;AACA,UAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAD,GAAO,CAAvB;AACA,UAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAjB;AACA,UAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAjB;AACA,UAAI,EAAE,GAAW,CAAC,CAAC,CAAD,CAAlB;AACA,UAAI,EAAE,GAAW,CAAC,CAAC,CAAD,CAAlB;AACA,UAAI,EAAE,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAT,EAAyB,EAAzB,CAAT,EAAuC,EAAvC,CAAT;AACA,UAAI,EAAE,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAT,EAAyB,EAAzB,CAAT,EAAuC,EAAvC,CAAT;AACA,aAAO,IAAI,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,EAAf,EAAmB,IAAI,CAAC,GAAL,CAAS,CAAC,GAAG,CAAb,CAAnB,EAAoC,EAAE,GAAG,EAAzC,CAAP;AACA;AACD,GAvCD;;AAwCQ,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAR,UAAW,CAAX,EAAwB,CAAxB,EAAiC;AAChC,QAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAD,GAAO,CAAvB;AACA,QAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAjB;AACA,QAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAD,GAAO,CAAvB;AACA,QAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAjB;AACA,QAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAjB;AACA,QAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAjB;AACA,QAAI,CAAC,GAAW,CAAC,CAAC,CAAD,CAAjB;AACA,QAAI,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAT,EAAyB,CAAzB,CAAT,EAAsC,CAAtC,CAAR;AACA,QAAI,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAT,EAAyB,CAAzB,CAAT,EAAsC,CAAtC,CAAR;AACA,QAAI,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAR;AACA,QAAI,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAR;AACA,QAAI,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAR;AACA,QAAI,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAR;;AACA,QAAI,KAAK,EAAL,IAAW,CAAf,EAAkB;AACjB,UAAI,CAAC,GAAW,IAAI,KAAJ,CAAU,CAAV,CAAhB;AACA,UAAI,CAAC,GAAG,IAAI,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CAAR;AACA,UAAI,CAAC,GAAG,IAAI,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CAAR;AACA,UAAI,CAAC,GAAG,IAAI,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAAC,GAAG,CAAzB,CAAR;AACA,MAAA,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP;AACA,MAAA,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP;AACA,MAAA,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP;AACA,aAAO,CAAP;AACA,KATD,MASO;AACN,UAAI,CAAC,GAAW,IAAI,KAAJ,CAAU,CAAV,CAAhB;AACA,UAAI,CAAC,GAAG,IAAI,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAAC,GAAG,CAAzB,CAAR;AACA,UAAI,CAAC,GAAG,IAAI,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAC,GAAG,CAAtB,EAAyB,CAAC,GAAG,CAA7B,CAAR;AACA,MAAA,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP;AACA,MAAA,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP;AACA,aAAO,CAAP;AACA;AACD,GA/BO;;AAgCR,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,UAAG,CAAH,EAAW;AACV,QAAI,CAAC,GAAG,IAAI,MAAJ,CAAuB,IAAK,CAAC,CAA7B,EAAgC,CAAhC,CAAR;AACA,QAAI,CAAC,GAAG,KAAK,EAAL,CAAQ,CAAR,CAAR;AACA,QAAI,CAAC,GAAS,KAAK,EAAL,CAAQ,EAAtB;AACA,QAAI,CAAC,GAAS,KAAK,EAAL,CAAQ,EAAtB;AACA,QAAI,CAAC,GAAS,KAAK,qBAAL,CAA2B,KAAK,EAAhC,CAAd;AACA,QAAI,CAAC,GAAG,KAAK,EAAL,CAAQ,KAAK,EAAb,EAAiB,KAAK,EAAL,CAAQ,CAAzB,EAA4B,KAAK,EAAL,CAAQ,KAAK,EAAb,CAA5B,EAA8C,KAAK,EAAL,CAAQ,KAAK,EAAb,CAA9C,EAAgE,CAAhE,EAAmE,IAAnE,CAAR;AACA,QAAI,CAAC,GAAG,CAAC,CAAC,CAAD,CAAT;AACA,QAAI,CAAC,GAAG,CAAC,CAAC,CAAD,CAAT;AACA,QAAI,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAD,CAAhB,CAAR;AACA,QAAI,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAD,CAAhB,CAAR;AACA,QAAI,CAAC,GAAW,KAAK,EAAL,CAAQ,KAAK,EAAb,EAAiB,CAAjB,CAAhB;AACA,IAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAJ;AACA,QAAI,CAAC,GAAW,CAAC,CAAC,GAAG,CAAL,IAAU,CAA1B;;AACA,QAAI,CAAC,GAAG,CAAR,EAAW;AACV,aAAO,KAAK,EAAL,CAAQ,CAAR,EAAW,CAAX,CAAP;AACA,KAFD,MAEO;AACN,aAAO,KAAK,EAAL,CAAQ,CAAR,EAAW,CAAX,CAAP;AACA;AACD,GAnBD;;AAoBA,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,UAAG,CAAH,EAAa,CAAb,EAAuB;AACtB,QAAI,KAAK,EAAL,CAAQ,CAAR,EAAW,CAAX,CAAJ,EAAmB;AAClB,aAAO,IAAP;AACA;;AACD,WAAO,KAAP;AACA,GALD;;AAMU,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAV,UAAa,CAAb,EAAuB,CAAvB,EAAiC;AAChC,QAAI,CAAC,GAAG,KAAK,EAAL,CAAQ,CAAR,CAAR;;AACA,QAAI,CAAC,CAAC,OAAN,EAAe;AACd,aAAO,KAAP;AACA;;AACD,QAAI,CAAC,GAAG,QAAQ,CAAC,CAAT,CAAW,CAAX,EAAe,KAAK,EAAL,GAAU,CAAX,GAAgB,KAAK,EAAL,CAAQ,CAAR,CAA9B,CAAR;;AACA,QAAI,CAAC,CAAC,aAAF,CAAgB,CAAhB,CAAJ,EAAwB;AACvB,UAAI,CAAC,GAAG,KAAK,EAAL,CAAQ,CAAR,CAAR;;AACA,UAAI,CAAC,IAAI,IAAT,EAAe;AACd,aAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,CAAC,CAAC,MAAtB,EAA8B,CAAC,EAA/B,EAAmC;AAClC,cAAI,CAAC,GAAG,CAAC,CAAC,CAAD,CAAT;AACA,cAAI,CAAC,GAAG,QAAQ,CAAC,CAAT,CAAW,CAAX,EAAe,KAAK,EAAL,GAAU,CAAX,GAAgB,KAAK,EAAL,CAAQ,CAAR,CAA9B,CAAR;;AACA,cAAI,CAAC,CAAC,aAAF,CAAgB,CAAhB,CAAJ,EAAwB;AACvB,mBAAO,IAAP;AACA;AACD;AACD;AACD;;AACD,WAAO,KAAP;AACA,GAnBS;;AAoBA,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAV,UAAa,CAAb,EAAqB,CAArB,EAAgC,CAAhC,EAAwC,CAAxC,EAA8C;AAC7C,YAAQ,CAAR;AACC,WAAK,eAAe,CAAC,GAAhB,CAAoB,CAApB,CAAL;AACA,aAAK,EAAL,CAAQ,EAAR;AACA;;AAEA,WAAK,eAAL;AACA,YAAI,CAAC,GAAG,QAAQ,CAAC,YAAT,CAAqC,mBAArC,EAA0D,CAA1D,CAAR;;AACA,YAAI,CAAC,IAAI,CAAT,EAAY;AACX,eAAK,EAAL,CAAQ,EAAR,GAAa,+BAA+B,CAAC,CAAhC,CAAkC,KAAK,EAAL,CAAQ,EAA1C,EAA8C,KAAK,EAAnD,EAAuD,KAAK,EAA5D,EAAgE,IAAhE,EAAsE,KAAK,EAA3E,CAAb;AACA;;AACD;AAVD;;AAcA,IAAA,MAAA,CAAA,SAAA,CAAM,EAAN,CAAQ,IAAR,CAAQ,IAAR,EAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB;;AACA,QAAI,KAAK,EAAL,CAAQ,EAAR,IAAc,KAAK,EAAL,CAAQ,EAAR,IAAc,IAA5B,IAAoC,KAAK,EAAL,CAAQ,EAAR,CAAW,GAAX,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAxC,EAAoE;AACnE,WAAK,EAAL,CAAQ,KAAR;AACA,WAAK,EAAL;AACA;;AACD,YAAQ,CAAR;AACC,WAAK,oBAAoB,CAAC,GAArB,CAAyB,CAAzB,CAAL;AACA,YAAI,KAAK,EAAL,IAAW,IAAf,EAAqB;AACpB,eAAK,EAAL;AACA,eAAK,EAAL,CAAQ,CAAR;AACA,eAAK,EAAL,CAAQ,KAAK,EAAb,EAAiB,KAAK,EAAtB;AACA;;AACD,aAAK,EAAL;AACA;;AAEA,WAAK,gBAAL;AACA,aAAK,EAAL;AACA;;AAEA,WAAK,eAAL;AACA,aAAK,EAAL;AACA;;AAEA,WAAK,eAAe,CAAC,GAAhB,CAAoB,CAApB,CAAL;AAEA,WAAK,oBAAoB,CAAC,GAArB,CAAyB,CAAzB,CAAL;AACA,aAAK,EAAL;AACA;AAtBD;AA0BA,GA9CS;;AA+CF,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAR,YAAA;AACC,SAAK,EAAL,CAAQ,EAAR;;AACA,QAAI,KAAK,EAAL,IAAW,IAAf,EAAqB;AACO,WAAK,EAAL,CAAS,EAAT;AAC3B;AACD,GALO;;AAMR,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,UAAG,CAAH,EAAU;AACT,QAAI,CAAC,IAAI,IAAL,IAAa,CAAC,IAAI,KAAK,EAAvB,IAA6B,KAAK,EAAL,IAAW,IAAxC,IAAgD,CAAC,MAAM,CAAC,KAAK,EAAL,CAAQ,OAAT,CAAvD,IAA4E,KAAK,EAAL,IAAW,IAAvF,IAA+F,CAAC,MAAM,CAAC,KAAK,EAAL,CAAQ,OAAT,CAA1G,EAA6H;AAC5H,aAAO,IAAI,SAAJ,CAAc,KAAK,EAAL,CAAQ,OAAtB,EAA+B,KAAK,EAAL,CAAQ,OAAvC,CAAP;AACA;;AACD,WAAO,IAAP;AACA,GALD;;AAMA,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,YAAA;AACC,QAAI,KAAK,EAAL,IAAW,IAAX,IAAmB,KAAK,EAAL,IAAW,IAAlC,EAAwC;AACvC,aAAO,IAAP;AACA;;AACD,QAAI,CAAC,GAAiB,IAAI,YAAJ,CAAiB,CAAjB,EAAoB,KAAK,EAAL,CAAQ,EAA5B,EAAgC,KAAK,EAAL,CAAQ,EAAxC,EAA4C,KAAK,EAAL,CAAQ,EAApD,EAAwD,KAAK,oBAAL,EAAxD,CAAtB;AACA,QAAI,CAAC,GAAY,KAAK,EAAL,CAAQ,EAAR,CAAW,KAAK,EAAL,CAAQ,EAAR,CAAW,IAAtB,EAA4B,CAA5B,CAAjB;AACA,QAAI,CAAC,GAAY,KAAK,EAAL,CAAQ,EAAR,CAAW,KAAK,EAAL,CAAQ,EAAR,CAAW,KAAtB,EAA6B,CAA7B,CAAjB;AACA,QAAI,CAAC,GAAiB,IAAtB;;AACA,QAAI,KAAK,EAAL,CAAQ,EAAZ,EAAgB;AACf,MAAA,CAAC,GAAsB,KAAK,EAA5B;AACA,MAAA,CAAC,GAAG,CAAC,CAAC,GAAF,CAAM,CAAN,CAAJ;AACA,MAAA,CAAC,GAAG,CAAC,CAAC,GAAF,CAAM,CAAN,CAAJ;AACA,KAJD,MAIO;AACN,MAAA,CAAC,GAAG,IAAI,CAAC,KAAL,CAAW,CAAX,CAAJ;AACA,MAAA,CAAC,GAAG,IAAI,CAAC,IAAL,CAAU,CAAV,CAAJ;AACA;;AACD,IAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,IAAI,CAAC,GAAL,CAAS,KAAK,EAAL,CAAQ,KAAR,GAAgB,CAAzB,EAA4B,CAA5B,CAAZ,CAAJ;AACA,IAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,IAAI,CAAC,GAAL,CAAS,KAAK,EAAL,CAAQ,KAAR,GAAgB,CAAzB,EAA4B,CAA5B,CAAZ,CAAJ;AACA,QAAI,CAAC,GAAW,uBAAhB;AACA,QAAI,CAAC,GAAW,CAAC,uBAAjB;;AACA,SAAK,IAAI,CAAC,GAAmB,QAAQ,CAAC,CAAD,CAArC,EAA0C,CAAC,IAAY,QAAQ,CAAC,CAAD,CAA/D,EAAoE,CAAC,EAArE,EAAyE;AACxE,UAAI,CAAC,GAAW,CAAhB;;AACA,UAAI,CAAC,IAAI,IAAT,EAAe;AACd,QAAA,CAAC,GAAG,CAAC,CAAC,GAAF,CAAM,MAAN,CAAa,CAAb,CAAJ;AACA;;AACD,MAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,KAAK,EAAL,CAAQ,IAAR,CAAa,CAAb,CAAZ,CAAJ;AACA,MAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,KAAK,EAAL,CAAQ,IAAR,CAAa,CAAb,CAAZ,CAAJ;AACA;;AACD,WAAO,IAAI,SAAJ,CAAc,CAAd,EAAiB,CAAjB,CAAP;AACA,GA7BD;;AA8BA,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,YAAA;AACC,WAAO,MAAM,CAAC,EAAP,CAAU,KAAK,EAAf,EAAmB,QAAQ,CAAe,kBAAf,EAAmC,KAAK,EAAxC,CAA3B,CAAP;AACA,GAFD;;AAGA,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,UAAG,CAAH,EAAS;AACR,QAAI,CAAC,GAAW,KAAK,EAAL,IAAW,IAAX,GAAkB,KAAK,EAAL,CAAQ,OAAR,CAAgB,CAAhB,CAAlB,GAAuC,CAAC,CAAxD;AACA,QAAI,CAAC,GAAS,KAAK,EAAL,CAAQ,EAAtB;AACA,IAAA,CAAC,GAAG,CAAC,CAAC,IAAF,EAAJ;AACA,QAAI,CAAC,GAAS,KAAK,EAAL,CAAQ,EAAtB;AACA,QAAI,CAAC,GAAS,IAAI,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CAAd;AACA,QAAI,CAAC,GAAG,KAAK,EAAL,CAAQ,KAAK,EAAb,CAAR;;AACA,QAAI,CAAC,IAAI,CAAL,IAAU,IAAI,CAAC,eAAL,CAAqB,CAArB,EAAwB,IAAxB,CAAV,IAA2C,IAAI,CAAC,eAAL,CAAqB,CAArB,EAAwB,IAAxB,CAA/C,EAA8E;AAC7E,UAAI,KAAK,EAAL,IAAW,IAAf,EAAqB;AACpB,YAAI,CAAC,GAAiB,IAAI,YAAJ,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,KAAK,EAAL,CAAQ,EAAlC,EAAsC,CAAtC,CAAtB;AACA,YAAI,CAAC,GAAW,KAAK,EAAL,CAAQ,EAAR,CAAW,CAAX,EAAc,CAAd,CAAhB;;AACA,YAAI,CAAC,GAAG,CAAC,CAAC,IAAF,GAAS,MAAM,CAAC,CAAC,KAAzB,EAAgC;AAC/B,UAAA,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,KAAhB;AACA;;AACD,YAAI,CAAC,GAAG,CAAC,CAAC,KAAF,GAAU,MAAM,CAAC,CAAC,KAA1B,EAAiC;AAChC,UAAA,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,KAAhB;AACA;;AACD,QAAA,CAAC,CAAC,CAAF,GAAM,CAAC,GAAG,MAAM,CAAC,CAAC,KAAlB;AACA;;AACD,UAAI,KAAK,EAAL,IAAW,IAAX,IAAmB,KAAK,EAAL,IAAW,IAA9B,IAAsC,KAAK,EAAL,IAAW,IAAjD,IAAyD,CAAC,GAAG,KAAK,EAAL,CAAQ,KAArE,IAA8E,CAAC,GAAG,KAAK,EAAL,CAAQ,KAA9F,EAAqG;AACpG,YAAI,CAAC,GAAiB,IAAI,YAAJ,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,KAAK,EAAL,CAAQ,EAAlC,EAAsC,CAAtC,CAAtB;AACA,QAAA,CAAC,CAAC,CAAF,GAAM,KAAK,EAAL,EAAN;AACA,YAAI,CAAC,GAAW,KAAK,EAAL,CAAQ,EAAR,CAAW,KAAK,EAAL,CAAQ,IAAR,CAAa,CAAb,CAAX,EAA4B,CAA5B,CAAhB;AACA,YAAI,CAAC,GAAW,KAAK,EAAL,CAAQ,EAAR,CAAW,KAAK,EAAL,CAAQ,IAAR,CAAa,CAAb,CAAX,EAA4B,CAA5B,CAAhB;;AACA,YAAI,CAAC,MAAM,CAAC,CAAD,CAAP,IAAc,CAAC,MAAM,CAAC,CAAD,CAAzB,EAA8B;AAC7B,cAAI,CAAC,GAAW,IAAI,CAAC,GAAL,CAAS,CAAC,GAAG,CAAb,CAAhB;;AACA,cAAI,CAAC,CAAC,MAAF,GAAW,CAAf,EAAkB;AACjB,YAAA,CAAC,CAAC,MAAF,GAAW,CAAX;AACA,YAAA,CAAC,CAAC,CAAF,GAAM,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAN;AACA,WAHD,MAGO;AACN,gBAAI,CAAC,GAAG,CAAC,CAAC,GAAF,GAAQ,MAAM,CAAC,CAAC,MAAxB,EAAgC;AAC/B,cAAA,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,MAAhB;AACA;;AACD,gBAAI,CAAC,GAAG,CAAC,CAAC,MAAF,GAAW,MAAM,CAAC,CAAC,MAA3B,EAAmC;AAClC,cAAA,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,MAAhB;AACA;;AACD,YAAA,CAAC,CAAC,CAAF,GAAM,CAAC,GAAG,MAAM,CAAC,CAAC,MAAlB;AACA;AACD;AACD;;AACD,WAAK,EAAL,CAAQ,EAAR,CAAW,KAAK,EAAhB,EAAoB,CAApB,EAAuB,IAAvB;AACA;;AACD,WAAO,CAAC,IAAI,CAAZ;AACA,GA3CD;;AA4CA,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,UAAG,CAAH,EAAY,CAAZ,EAAqB,CAArB,EAAkC;AACjC,QAAI,CAAC,GAAY,MAAA,CAAA,SAAA,CAAM,EAAN,CAAQ,IAAR,CAAQ,IAAR,EAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,CAAjB;;AACA,QAAI,KAAK,EAAL,IAAW,IAAX,IAAmB,KAAK,EAAL,IAAW,IAA9B,IAAsC,KAAK,EAAL,IAAW,IAAjD,IAAyD,KAAK,EAAL,IAAW,IAAxE,EAA8E;AAC7E,MAAA,CAAC,GAAG,KAAJ;AACA;;AACD,WAAO,CAAP;AACA,GAND;;AAOA,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,UAAG,CAAH,EAAqB,CAArB,EAA2C;;;AAA3C,QAAA,KAAA,GAAA,IAAA;;AACC,IAAA,MAAA,CAAA,SAAA,CAAM,EAAN,CAAQ,IAAR,CAAQ,IAAR,EAAS,CAAT,EAAY,CAAZ;;AACA,QAAI,CAAC,GAAS,CAAC,CAAC,EAAhB;AACA,QAAI,CAAC,GAAS,CAAC,CAAC,EAAhB;AACA,QAAI,CAAC,GAAS,KAAK,qBAAL,CAA2B,CAA3B,CAAd;AACA,QAAI,CAAC,GAAqB,KAAK,EAA/B;AACA,QAAI,CAAC,GAAiB,KAAK,EAA3B;AACA,QAAI,CAAC,GAAiB,IAAI,YAAJ,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAAC,CAAC,EAA5B,EAAgC,CAAhC,CAAtB;;AACA,QAAI,CAAC,GAAmB,YAAA;AACvB,UAAI,IAAI,GAAG,IAAI,YAAJ,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAAC,CAAC,EAA5B,EAAgC,CAAhC,CAAX;AACA,MAAA,IAAI,CAAC,CAAL,GAAS,KAAI,CAAC,EAAL,EAAT;AACA,aAAO,IAAP;AACA,KAJsB,EAAvB;;AAKA,IAAA,CAAC,CAAC,CAAF,CAAI,KAAJ;AACA,IAAA,CAAC,CAAC,CAAF,CAAI,KAAJ;AACA,IAAA,CAAC,CAAC,CAAF,CAAI,KAAJ;AACA,QAAI,CAAC,GAAW,CAAhB;AACA,QAAI,CAAC,GAAiB,QAAQ,CAAe,kBAAf,EAAmC,KAAK,EAAxC,CAA9B;;AACA,QAAI,CAAC,IAAI,IAAL,KAAc,CAAC,CAAC,GAAF,IAAS,IAAT,IAAiB,CAAC,CAAC,GAAF,CAAM,KAAN,IAAe,KAAK,EAAL,CAAQ,KAAtD,CAAJ,EAAkE;AACjE;AACA;;AACD,IAAA,CAAC,GAAG,KAAK,EAAL,CAAQ,CAAR,EAAW,CAAX,EAAc,CAAd,CAAJ;AACA,QAAI,CAAC,GAA6B,QAAQ,CAAiC,wBAAyB,CAAC,CAA3D,EAA8D,CAA9D,CAA1C;AACA,QAAI,CAAC,GAAW,KAAK,EAArB;;AACA,QAAI,KAAK,aAAL,IAAsB,CAA1B,EAA6B;AAC5B,UAAI,CAAC,GAAuB,IAAI,KAAJ,CAAU,KAAK,EAAL,CAAQ,KAAlB,CAA5B;AACA,UAAI,CAAC,GAAW,CAAhB;;;AACA,aAAc,IAAA,EAAA,GAAA,OAAA,CAAA,QAAA,CAAA,QAAQ,CAAS,KAAK,EAAd,CAAR,CAAA,EAAyB,EAAA,GAAA,EAAA,CAAA,IAAA,EAAvC,EAAuC,CAAA,EAAA,CAAA,IAAvC,EAAuC,EAAA,GAAA,EAAA,CAAA,IAAA,EAAvC,EAAyC;AAApC,cAAI,CAAC,GAAA,EAAA,CAAA,KAAL;AACJ,UAAA,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP;AACA,UAAA,CAAC;AACD;;;;;;;;AACG,S,SAC4C;AAC9C,cAAI,GAAJ,EACI,MAAM,GAAG,CAAC,KAAV;AACJ;AACA;;UACA,KAAA,EAAA,CAAI,E,EAAE;AACN,aAAA,EAAA,CAAI,EAAJ,CAAM,eAAN,CAAW,CAAA,CAAA,CAAX,EAAW,KAAA,aAAX,EAAW,UAAA,CAAA,CAAA,CAAX,EAAW,KAAA,eAAX,EAAW,UAAA,CAAA,EAAA;AAAA,iBAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,SAAX,EAAW,UAAA,CAAA,EAAA;AAAA,iBAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,SAAX,EAAW,YAAA;AACX,cAAI,IAAE,GAAK,IAAA,qBAAA,EAAX;AACA,UAAA,IAAA,CAAA,CAAA,GAAO,CAAA,CAAI,EAAJ,CAAK,CAAZ;AACG,UAAA,IAAG,CAAA,CAAH,GAAG,CAAA,CAAA,EAAA,CAAA,CAAH;AACJ,UAAA,IAAA,CAAA,CAAA,GAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACD,UAAA,IAAA,CAAA,CAAA,GAAA,CAAA;AACmB,UAAA,IAAI,CAAA,CAAJ,GAAQ,CAAR;AACV,UAAA,IAAa,CAAE,CAAf,GAAmB,CAAnB;AACJ,iBAAW,IAAX;AACA,SATQ,EAAX;AAUD;AACA;;YAAM,KAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,IAAA,KAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,C;;SACN,IAAA,CAAA,GAAK,CAAA,CAAA,EAAA,CAAa,C,EAAG,CAAC,IAAA,CAAA,CAAM,EAAN,CAAS,C,EAAC,EAAA,C,EAAA;UAChC,CAAA,GAAI,KAAa,C;;UACjB,CAAA,IAAK,I,EAAW;AAChB,QAAA,CAAA,GAAI,CAAC,CAAA,EAAD,CAAY,SAAZ,CAAoB,CAApB,CAAJ;AACA,O,MACA;AACA,YAAI,CAAC,GAAW,CAAC,CAAC,GAAF,CAAE,MAAF,CAAE,CAAF,CAAhB;AACA,YAAI,CAAA,GAAE,CAAW,CAAC,GAAZ,CAAa,CAAb,CAAN;AACA,YAAI,CAAA,GAAE,KAAa,EAAb,CAAa,IAAb,CAAa,CAAb,CAAN;AACA,YAAI,CAAA,GAAE,KAAa,EAAb,CAAa,IAAb,CAAa,CAAb,CAAN;AACA,YAAI,CAAA,GAAE,KAAa,EAAb,CAAa,IAAb,CAAa,CAAb,CAAN;AACA,YAAA,CAAA,GAAQ,KAAK,EAAL,CAAQ,IAAR,CAAW,CAAX,CAAR;YACC,CAAC,GAAG,C;YACJ,EAAE,GAAG,C;YACL,EAAA,GAAI,C;cACH,GAAA,C;YACA,EAAA,GAAA,C;;AACD,eAAG,CAAC,GAAA,CAAA,CAAA,EAAA,CAAA,CAAJ,EAAI;AACJ,UAAA,CAAA,GAAE,CAAG,CAAA,GAAH,CAAQ,MAAR,CAAc,CAAE,GAAA,CAAhB,CAAF;AACA,UAAA,EAAE,GAAG,CAAA,CAAA,GAAA,CAAK,CAAL,CAAL;;AACA,cAAE,EAAG,GAAI,CAAP,GAAW,CAAA,GAAI,CAAjB,EAAoB;AACpB;AACG;;AACA,UAAA,CAAC;AACJ,UAAA,EAAE,GAAG,IAAI,CAAC,GAAL,CAAQ,EAAR,EAAY,KAAK,EAAL,CAAK,IAAL,CAAK,CAAL,CAAZ,CAAL;AACA,UAAA,EAAA,GAAA,IAAA,CAAA,GAAA,CAAA,EAAA,EAAA,KAAA,EAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA;AACa,UAAA,EAAE,GAAI,KAAK,EAAL,CAAO,IAAP,CAAa,CAAb,CAAN;AACd;;AACG,YAAC,EAAA,GAAQ,GAAT;;AACH,YAAI,CAAC,MAAI,CAAA,CAAA,CAAT,EAAe;AACd,UAAA,EAAE,GAAE,KAAM,EAAN,CAAO,EAAP,CAAY,CAAZ,EAAY,CAAZ,CAAJ;AACA;;aAAM,E,EAAA,C,EAAA,E,EAAA,E,EAAA,E;AACN;;WACA,MAAA,CAAA,CAAA,CAAA,CAAA,CAAA,C,EAAA;AACD,YAAI,CAAA,IAAK,IAAT,EAAe;AACX,UAAA,CAAA,CAAA,CAAA,CAAA,GAAO,CAAC,CAAC,CAAD,CAAD,GAAO,CAAd;AACH,SAFD,MAGI;AACA,UAAA,CAAA,CAAA,CAAA,CAAA,GAAO,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,IAAA,CAAP;AACJ;;AACD,QAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACM,QAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACP,QAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACD,QAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACC,QAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAA,CAAA;AACK;AACJ;;AACD;AACC,GAlGF;;AAmGE,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACD,IAAA,MAAM,CAAA,SAAN,CAAgB,EAAhB,CAAoB,IAApB,CAAwB,IAAxB,EAA0B,CAA1B,EAA0B,CAA1B;;QACC,CAAC,GAAG,QAAO,CAAA,wBAAA,CAAA,CAAA,EAAA,CAAA,C;KACX,CAAA,E;;AACD,QAAA,CAAA,EAAA;AACS,MAAA,CAAA,CAAA,EAAA,CAAA,KAAA,GAAV,CAAU;AACT;;AACA,QAAA,CAAA,CAAA,EAAA,IAAA,CAAA,CAAA,EAAA,IAAA,IAAA,EAAA;AACD,MAAA,CAAA,CAAA,EAAA,CAAA,GAAA;AACC;AACA,GAVC;;AAWA,EAAA,oBAAO,CAAA,SAAP,CAAO,MAAP,GAAO,YAAA;AACP,WAAA,IAAA;AACD,GAFC;;AAGD,EAAA,oBAAa,CAAA,SAAb,CAAa,EAAb,GAAa,UAAA,CAAA,EAAA,CAAA,EAAA;AACZ,IAAA,MAAC,CAAA,SAAD,CAAS,EAAT,CAAS,IAAT,CAAS,IAAT,EAAS,CAAT,EAAS,CAAT;;QACA,KAAK,EAAL,IAAQ,IAAR,IAAQ,KAAA,EAAA,IAAA,I,EAAA;AACR;AACD;;AACA,QAAI,CAAC,GAAY,KAAjB;;AACA,QAAI,CAAC,CAAA,EAAD,CAAI,CAAJ,CAAJ,EAAa;AACT,MAAA,CAAC,GAAA,IAAD;AACH,MAAA,CAAC,CAAA,EAAD,CAAI,CAAJ;AACA;;AACD,SAAK,EAAL,CAAkC,CAAlC,CAAkC,IAAlC,EAA0C,KAAiC,EAAjC,EAA1C,EAA2E,KAAA,EAA3E,EAA2E,KAAyB,CAAC,IAAD,EAAO,KAAA,EAAP,CAApG,EAA2G,KAAA,EAAA,CAAA,CAAA,CAA3G,EAA2G,KAAA,EAAA,CAAA,CAAA,CAA3G;AACA,QAAI,CAAA,GAAG,KAAP;AACA,QAAI,CAAA,GAAG,KAAM,EAAN,CAAM,CAAb;;AACA,QAAI,CAAC,IAAG,IAAR,EAAU;AACT,MAAA,CAAC,GAAG,IAAJ;AACA;;AACD,QAAI,CAAA,GAAI,QAAC,CAAA,wBAAoB,CAAA,CAApB,EAAoB,CAApB,CAAT;MACC,E;KACA,CAAA,E,GAAA,K;;AACD,QAAI,CAAC,CAAA,EAAL,EAAO;AACN,MAAA,CAAA,CAAA,EAAA,CAAK,GAAL;AACA;;QAAM,KAAA,aAAA,IAAA,C,EAAA;AACN,MAAA,CAAC,CAAC,EAAF,CAAK,GAAL,CAAK,CAAK,CAAA,CAAV;AACA;;AACA,QAAA,CAAA,EAAA;AACD,WAAA,EAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA;AACD,KAFE,MAGI;AACL,MAAA,CAAA,CAAA,EAAA,CAAO,KAAP,GAAe,CAAf;AACA,WAAA,EAAA,CAAA,CAAA,EAAA,CAAA;AACD;AACC,GA/BA;;AAgCA,EAAA,oBAAmB,CAAA,SAAnB,CAAmB,EAAnB,GAAmB,YAAyB;AAC5C,QAAI,CAAC,GAAW,KAAK,qBAAL,CAAc,KAAA,EAAd,CAAhB;AACA,WAAK,KAAa,EAAb,CAAkB,KAAK,EAAvB,EAAuB,CAAvB,CAAL;AACA,GAHA;;AAIA,EAAA,oBAAY,CAAA,SAAZ,CAAY,EAAZ,GAAY,UAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA;AACZ,QAAI,CAAC,GAAG,KAAI,EAAZ;AACA,QAAI,CAAC,GAAW,KAAE,qBAAF,CAAE,CAAF,CAAhB;AACA,QAAI,CAAC,GAAW,KAAK,EAAL,CAAQ,CAAR,EAAQ,CAAR,CAAhB;AACA,QAAI,CAAC,GAAG,CAAA,CAAA,GAAK,CAAL,IAAQ,CAAhB;AACA,QAAI,CAAC,GAAG,QAAI,CAAA,wBAA6B,CAAC,CAA9B,EAAgC,CAAhC,CAAZ;AACA,IAAA,CAAA,CAAA,EAAA,GAAK,IAAL;AACA,QAAI,CAAC,GAAG,CAAA,CAAA,CAAR;AACA,QAAI,CAAC,GAAA,CAAL;QACC,CAAC,GAAG,KAAE,EAAF,CAAE,K;AACN,QAAA,CAAA,GAAA,KAAA,EAAA;AACD,QAAI,CAAC,GAAG,IAAI,YAAJ,CAAQ,CAAR,EAAQ,CAAA,CAAA,EAAR,EAAQ,CAAA,CAAA,EAAR,EAAQ,CAAA,CAAA,EAAR,EAAQ,CAAR,CAAR;AACA,QAAI,CAAC,GAAG,KAAK,EAAb;AACA,QAAI,CAAC,GAAA,KAAQ,EAAb;;QACC,CAAC,IAAI,I,EAAC;AACN,MAAA,CAAA,GAAA,CAAA;AACQ;;QACR,CAAA,GAAI,KAAa,E;QACjB,CAAA,GAAI,KAAa,E;;QACjB,CAAA,IAAK,I,EAAa;AAClB,MAAA,CAAA,GAAI,CAAJ;AACA;;QACA,OAAK,GAAa,UAAU,CAAV,EAAa;AAC/B,UAAI,CAAC,GAAW,CAAC,CAAC,MAAF,CAAS,CAAT,EAAY,CAAZ,IAAe,CAA/B;AACA,UAAI,CAAA,GAAA,CAAA,CAAM,MAAN,CAAa,CAAb,EAAa,CAAb,CAAJ;;AAEC,UAAA,CAAA,GAAA,CAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACD,UAAI,CAAC,GAAS,CAAC,CAAC,MAAF,CAAS,CAAT,EAAY,CAAZ,CAAd;AACA,UAAI,CAAA,GAAA,CAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAJ;AACA,UAAI,CAAA,GAAE,CAAY,CAAC,MAAb,CAAkB,CAAlB,EAAkB,CAAlB,CAAN;;AACA,UAAI,MAAmB,CAAA,CAAA,CAAnB,IAAuB,MAAA,CAAA,CAAA,CAAvB,IAAsC,MAAA,CAAA,CAAA,CAAtC,IAAsC,MAAA,CAAA,CAAA,CAA1C,EAA0C;AACtC,eAAG,UAAH;AACH;;cACC,CAAA,CAAA,EAAA,CAAK,IAAL,CAAM,CAAN,C;OACA;mBACC,C;mBACA,Y;;aACA;gBACA,C;AACD,eAAA,CAAA;AACA,gBAAG,EAAH,EAAG;AACA,kBAAA,EAAA,GAAU,CAAV;AACF,cAAA,CAAA,GAAI,CAAJ;AACA,cAAA,CAAA,GAAI,EAAJ;AACA;;AACD,gBAAI,EAAE,GAAC,IAAA,UAAA,EAAP;AACA,YAAA,EAAA,CAAA,WAAA,GAAyB;AAAA,cAAA,KAAU,EAAG,WAAb;AAAa,cAAA,CAAA,EAAA,CAAb;AAAa,cAAA,CAAA,EAAA;AAAb,aAAzB;;AACA,YAAA,EAAE,CAAC,SAAH,CAAG,GAAH,CAA0B,YAAO;AAC9B,kBAAA,IAAS,GAAC,IAAM,WAAN,CAAM,CAAN,CAAV;AACF,cAAA,IAAI,CAAA,CAAJ,GAAQ;AAAG,gBAAA,KAAI,EAAA,WAAP;AAAsB,gBAAA,CAAA,EAAA,CAAtB;AAAsB,gBAAA,CAAA,EAAA;AAAtB,eAAR;AACA,qBAAM,IAAN;AACA,aAJuB,EAAxB;;AAKA,gBAAI,EAAE,GAAC,IAAA,UAAA,EAAP;AACA,YAAA,EAAE,CAAC,WAAH,GAAiB;AAAE,cAAA,KAAA,EAAA,WAAF;AAAE,cAAA,CAAA,EAAA,CAAF;AAAE,cAAA,CAAA,EAAA;AAAF,aAAjB;;eACC,S,CAAQ,G,CAAO,YAAY;AAC3B,kBAAI,IAAE,GAAY,IAAA,WAAA,CAAO,CAAP,CAAlB;AACA,cAAA,IAAA,CAAA,CAAA,GAAO;AAAI,gBAAA,KAAC,EAAA,WAAL;AAAK,gBAAA,CAAA,EAAA,CAAL;AAAK,gBAAA,CAAA,EAAA;AAAL,eAAP;AACG,qBAAG,IAAH;AACJ,aAJY,E;;eAKX,S,CAAQ,G,CAAO,YAAY;AAC3B,kBAAI,IAAE,GAAY,IAAA,WAAA,CAAO,CAAP,CAAlB;AACA,cAAA,IAAA,CAAA,CAAA,GAAO;AAAI,gBAAA,KAAC,EAAA,WAAL;AAAK,gBAAA,CAAA,EAAA,CAAL;AAAK,gBAAA,CAAA,EAAA;AAAL,eAAP;AACG,qBAAG,IAAH;AACJ,aAJY,E;;eAKX,S,CAAQ,G,CAAO,YAAY;AAC3B,kBAAI,IAAE,GAAY,IAAA,WAAA,CAAO,CAAP,CAAlB;AACA,cAAA,IAAA,CAAA,CAAA,GAAO;AAAI,gBAAA,KAAC,EAAA,WAAL;AAAK,gBAAA,CAAA,EAAA,CAAL;AAAK,gBAAA,CAAA,EAAA;AAAL,eAAP;AACG,qBAAG,IAAH;AACJ,aAJY,E;;AAKZ,YAAA,EAAE,CAAC,SAAH,CAAG,GAAH,CAA0B,YAAO;AAC9B,kBAAA,IAAS,GAAC,IAAM,WAAN,CAAM,CAAN,CAAV;AACF,cAAA,IAAI,CAAA,CAAJ,GAAQ;AAAG,gBAAA,KAAI,EAAA,WAAP;AAAsB,gBAAA,CAAA,EAAA,CAAtB;AAAsB,gBAAA,CAAA,EAAA;AAAtB,eAAR;AACA,qBAAM,IAAN;AACA,aAJuB,EAAxB;;AAKA,gBAAI,EAAE,GAAC,IAAA,UAAA,EAAP;AACA,YAAA,EAAE,CAAC,WAAH,GAAa;AAAA,cAAA,KAAA,EAAA,WAAA;AAAA,cAAA,CAAA,EAAA,CAAA;AAAA,cAAA,CAAA,EAAA;AAAA,aAAb;;AACA,YAAA,EAAE,CAAC,SAAH,CAAa,GAAb,CAAa,YAAA;AACT,kBAAI,IAAI,GAAC,IAAA,WAAA,CAAA,CAAA,CAAT;AACJ,cAAA,IAAM,CAAA,CAAN,GAAM;AAAA,gBAAA,KAAA,EAAA,WAAA;AAAA,gBAAA,CAAA,EAAA,CAAA;AAAA,gBAAA,CAAA,EAAA;AAAA,eAAN;AAEM,qBAAA,IAAA;AACN,aALa,EAAb;;AAMA,YAAA,EAAE,CAAC,CAAH,CAAG,GAAH,CAAG,EAAH;AACA,YAAA,EAAE,CAAC,CAAH,CAAG,GAAH,CAAG,EAAH;eACC,C,CAAA,G,CAAI,E;AACJ;;eACA,C;AACD,gBAAI,EAAE,GAAC,IAAA,UAAA,EAAP;AACA,YAAA,EAAA,CAAA,WAAA,GAAyB;AAAA,cAAA,KAAU,EAAG,WAAb;AAAa,cAAA,CAAA,EAAA,CAAb;AAAa,cAAA,CAAA,EAAA;AAAb,aAAzB;;AACA,YAAA,EAAE,CAAC,SAAH,CAAG,GAAH,CAA0B,YAAO;AAC9B,kBAAA,IAAS,GAAC,IAAM,WAAN,CAAM,CAAN,CAAV;AACF,cAAA,IAAI,CAAA,CAAJ,GAAQ;AAAG,gBAAA,KAAI,EAAA,WAAP;AAAsB,gBAAA,CAAA,EAAA,CAAtB;AAAsB,gBAAA,CAAA,EAAA;AAAtB,eAAR;AACA,qBAAM,IAAN;AACA,aAJuB,EAAxB;;AAKA,gBAAI,EAAE,GAAC,IAAA,UAAA,EAAP;AACA,YAAA,EAAA,CAAA,WAAA,GAAyB;AAAA,cAAA,KAAU,EAAG,WAAb;AAAa,cAAA,CAAA,EAAA,CAAb;AAAa,cAAA,CAAA,EAAA;AAAb,aAAzB;;AACA,YAAA,EAAE,CAAC,SAAH,CAAG,GAAH,CAA0B,YAAO;AAC9B,kBAAA,IAAS,GAAC,IAAM,WAAN,CAAM,CAAN,CAAV;AACF,cAAA,IAAI,CAAA,CAAJ,GAAQ;AAAG,gBAAA,KAAI,EAAA,WAAP;AAAsB,gBAAA,CAAA,EAAA,CAAtB;AAAsB,gBAAA,CAAA,EAAA;AAAtB,eAAR;AACA,qBAAM,IAAN;AACA,aAJuB,EAAxB;;AAKA,gBAAI,EAAE,GAAC,IAAA,UAAA,EAAP;AACA,YAAA,EAAE,CAAC,WAAH,GAAa;AAAA,cAAA,KAAA,EAAA,WAAA;AAAA,cAAA,CAAA,EAAA,CAAA;AAAA,cAAA,CAAA,EAAA;AAAA,aAAb;;AACA,YAAA,EAAE,CAAC,SAAH,CAAa,GAAb,CAAa,YAAA;AACT,kBAAI,IAAI,GAAC,IAAA,WAAA,CAAA,CAAA,CAAT;AACJ,cAAA,IAAM,CAAA,CAAN,GAAM;AAAA,gBAAA,KAAA,EAAA,WAAA;AAAA,gBAAA,CAAA,EAAA,CAAA;AAAA,gBAAA,CAAA,EAAA;AAAA,eAAN;AAEA,qBAAA,IAAA;AAED,aANc,EAAb;;AAOM,YAAA,EAAA,CAAA,CAAA,CAAA,GAAA,CAAA,EAAA;AACF,YAAA,EAAG,CAAA,CAAH,CAAK,GAAL,CAAU,EAAV;AACA,YAAA,EAAG,CAAA,CAAH,CAAK,GAAL,CAAU,EAAV;AACA;;AAEL;;UAAM,E,EAAA;AACN,QAAA,MAAA,CAAK,EAAL,CAAQ,EAAR,GAAa,CAAb;AACA,QAAA,MAAA,CAAK,EAAL,CAAQ,EAAR,GAAa,CAAb;AACA,QAAA,MAAA,CAAK,EAAL,CAAQ,EAAR,GAAa,MAAA,CAAK,EAAL,CAAQ,EAAR,GAAa,CAA1B;AACA,QAAA,MAAA,CAAK,EAAL,CAAQ,CAAR,GAAY,IAAZ;AACA,O,MACD;AACI,QAAA,MAAM,CAAA,EAAN,CAAQ,EAAR,GAAQ,CAAR;AACH,QAAA,MAAA,CAAK,EAAL,CAAQ,EAAR,GAAY,CAAZ;AACA,QAAA,MAAA,CAAA,EAAA,CAAA,EAAA,GAAA,MAAA,CAAA,EAAA,CAAA,EAAA,GAAA,CAAA;AAAM,QAAA,MAAA,CAAA,EAAA,CAAA,CAAA,GAAA,KAAA;AACN;;AACA,MAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA,CAAA;;AACD,UAAI,CAAC,IAAE,CAAP,EAAO;AACN,QAAA,MAAI,CAAG,EAAP,CAAU,EAAV,CAAU,CAAV,EAAU,IAAV,EAAU,KAAV,EAAU,KAAV,EAAU,KAAV;AACA,OAFD,M;;AA/GI;;aAAI;AAkHR,QAAA,CAAA,CAAA,EAAA,GAAA,EAAA;AACI;AACJ,K;;AACD,QAAA,MAAA,GAAA,IAAA;;AACO,SAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,CAAA,CAAA,KAAA,EAAE,EAAV,CAAQ,EAAR;AACK,MAAA,OAAY,CAAI,CAAJ,CAAZ;AACH;;AACD,IAAA,CAAC,CAAA,EAAD,CAAI,KAAJ,GAAa,CAAb;AACA,IAAA,CAAA,CAAA,EAAA;AACA,GA3IA;;AA4IO,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAR,UAAW,CAAX,EAA6B,CAA7B,EAAmD;AAClD,QAAI,CAAC,GAAqB,KAAK,EAAL,CAAQ,EAAR,CAAQ,CAAA,CAAA,EAAR,EAAQ,CAAA,CAAA,EAAR,EAAQ,CAAR,CAA1B;AACA,IAAA,CAAA,GAAI,IAAI,CAAA,GAAJ,CAAS,CAAT,EAAS,KAAA,EAAA,GAAA,GAAT,CAAJ;AACA,IAAA,CAAA,GAAI,IAAY,CAAA,GAAZ,CAAiB,CAAjB,EAAoB,CAApB,CAAJ;AACA,WAAK,CAAL;AACA,GALO;;AAMP,EAAA,oBAA8B,CAAA,SAA9B,CAA8B,EAA9B,GAA8B,UAAA,CAAA,EAAA,CAAA,EAAA;AAC9B,QAAI,CAAC,GAAkB,KAAI,EAA3B;AACA,QAAI,CAAC,GAAG,KAAI,qBAAJ,CAAI,CAAJ,CAAR;uBACS,C;QACR,CAAA,GAAI,CAAC,CAAA,GAAY,CAAb,IAAc,C;QAClB,CAAA,GAAI,QAAc,CAAA,wBAAa,CAAA,CAAb,EAAa,CAAb,C;QAClB,CAAA,GAAI,CAAC,CAAA,EAAD,E;QACJ,CAAA,GAAI,CAAC,CAAA,EAAD,E;QACJ,CAAA,GAAI,CAAC,CAAA,C;;QACL,OAAK,GAAa,UAAU,CAAV,EAAa;AAC/B,UAAI,CAAC,GAAW,CAAC,CAAC,MAAF,CAAS,CAAT,EAAY,CAAZ,IAAe,CAA/B;AACA,UAAI,CAAA,GAAA,CAAA,CAAM,MAAN,CAAa,CAAb,EAAa,CAAb,CAAJ;;AAEC,UAAA,CAAA,GAAA,CAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACD,UAAI,CAAC,GAAY,CAAC,CAAA,MAAD,CAAM,CAAN,EAAM,CAAN,CAAjB;AACA,UAAI,CAAC,GAAkB,CAAC,CAAC,MAAF,CAAS,CAAT,EAAU,CAAV,CAAvB;AACA,UAAA,CAAA,GAAQ,CAAC,CAAA,MAAD,CAAG,CAAH,EAAG,CAAH,CAAR;;UACC,MAAM,CAAA,CAAA,CAAN,IAAM,MAAA,CAAA,CAAA,CAAN,IAAM,MAAA,CAAA,CAAA,CAAN,IAAM,MAAA,CAAA,CAAA,C,EAAA;AACN,eAAA,UAAA;AACC;;kBACA,C;kBACA,C,GAAI,C;;cACJ,C;AACD,aAAC,CAAD;cACC,C,EAAA;AACA,gBAAI,CAAC,GAAC,CAAN;AACA,YAAA,CAAA,GAAI,CAAJ;AACA,YAAA,CAAA,GAAA,CAAA;AACA;;AACD,UAAA,CAAC,CAAC,CAAF,CAAI,GAAJ,CAAU,YAAA;AACT,gBAAI,IAAI,GAAG,IAAI,YAAJ,EAAX;AACA,YAAA,IAAI,CAAC,CAAL,GAAS;AAAA,cAAA,KAAI,EAAK,WAAT;AAAsB,cAAA,CAAC,EAAE,CAAzB;AAA0B,cAAA,CAAG,EAAE;AAA/B,aAAT;AACA,YAAA,IAAA,CAAA,CAAA,GAAO;AAAI,cAAA,KAAC,EAAA,WAAL;AAAK,cAAA,CAAA,EAAA,CAAL;AAAK,cAAA,CAAA,EAAA;AAAL,aAAP;AACG,mBAAG,IAAH;AACH,WALQ,EAAT;cAMC,G,CAAI,YAAW;AACf,gBAAI,IAAE,GAAY,IAAA,iBAAA,EAAlB;AACA,YAAA,IAAI,CAAC,CAAL,GAAgB,IAAE,IAAF,CAAS,CAAT,EAAS,CAAT,EAAS,CAAT,EAAS,CAAA,GAAa,CAAtB,EAAyB,CAAC,GAAG,CAA7B,CAAhB;AACA,mBAAO,IAAP;AACA,WAJI,E;AAKL,UAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAM,YAAA;AAEA,gBAAA,IAAA,GAAA,IAAA,YAAA,EAAA;AACF,YAAA,IAAI,CAAC,CAAL,GAAM;AAAA,cAAA,KAAA,EAAA,WAAA;AAAA,cAAA,CAAA,EAAA,CAAA;AAAA,cAAA,CAAA,EAAA;AAAA,aAAN;AACH,YAAA,IAAI,CAAA,CAAJ,GAAQ;AAAG,cAAA,KAAI,EAAA,WAAP;AAAsB,cAAA,CAAA,EAAA,CAAtB;AAAsB,cAAA,CAAA,EAAA;AAAtB,aAAR;AACA,mBAAM,IAAN;AACA,WANK,EAAN;AAOC;;AACD,aAAC,CAAD;AACA,UAAA,CAAC,CAAC,CAAF,CAAI,GAAJ,CAAU,YAAA;AACT,gBAAI,IAAI,GAAG,IAAI,YAAJ,EAAX;AACA,YAAA,IAAI,CAAC,CAAL,GAAgB;AAAE,cAAA,KAAK,EAAE,WAAT;AAAsB,cAAA,CAAC,EAAE,CAAzB;AAA4B,cAAA,CAAC,EAAE;AAA/B,aAAhB;AACA,YAAA,IAAI,CAAC,CAAL,GAAgB;AAAE,cAAA,KAAK,EAAE,WAAT;AAAsB,cAAA,CAAC,EAAE,CAAzB;AAA4B,cAAA,CAAC,EAAE;AAA/B,aAAhB;AACA,mBAAO,IAAP;AACA,WALQ,EAAT;AAMA,UAAA,CAAC,CAAC,CAAF,CAAI,GAAJ,CAAU,YAAA;AACT,gBAAI,IAAI,GAAG,IAAI,YAAJ,EAAX;AACA,YAAA,IAAI,CAAC,CAAL,GAAgB;AAAE,cAAA,KAAK,EAAE,WAAT;AAAsB,cAAA,CAAC,EAAE,CAAzB;AAA4B,cAAA,CAAC,EAAE;AAA/B,aAAhB;AACA,YAAA,IAAI,CAAC,CAAL,GAAgB;AAAE,cAAA,KAAK,EAAE,WAAT;AAAsB,cAAA,CAAC,EAAE,CAAzB;AAA4B,cAAA,CAAC,EAAE;AAA/B,aAAhB;AACA,mBAAO,IAAP;AACA,WALQ,EAAT;AAMA,UAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAM,YAAA;AAEN,gBAAA,IAAA,GAAA,IAAA,YAAA,EAAA;;;;;;AA5DsB,YAAA,IAAI,CAAC,CAAL,GAAM;AAAK,cAAA,KAAK,EAAA,WAAV;AAAU,cAAA,CAAA,EAAA,CAAV;AAAU,cAAA,CAAA,EAAA;AAAV,aAAN;AAAd,mBAAA,IAAA;AA8DT,WAJO,EAAN;AAKF;;AAEA,K;;AACC,SAAA,IAAA,CAAA,GAAO,CAAP,EAAY,CAAA,GAAA,CAAA,CAAA,KAAZ,EAAY,EAAA,CAAZ,EAAY;AACZ,MAAA,OAAA,CAAA,CAAA,CAAA;AACD;AACA,GAxEA;;AAyES,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAV,UAAA,CAAA,EAAA,CAAA,EAAA;AACC,QAAA,KAAA,EAAA,CAAA,EAAA,IAAM,CAAE,IAAA,KAAA,EAAA,CAAG,EAAH,CAAG,GAAX,EAAW;AACP,aAAO,IAAP;AACH;;AACA,WAAA,MAAA,CAAA,SAAA,CAAA,EAAA,CAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AACD,GALS;;AAMV,EAAA,oBAAC,CAAA,SAAD,CAAC,EAAD,GAAC,YAAA;AACS,IAAA,MAAA,CAAA,SAAA,CAAA,EAAA,CAAA,IAAA,CAAV,IAAU;;AACT,QAAA,KAAA,EAAA,GAAA,CAAA,EAAM;AACF;AACH;;AACA,SAAA,EAAA,CAAA,EAAA;AACD,GAND;;AAQA,EAAA,oBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,UAAG,CAAH,EAAa;AACZ,IAAA,MAAA,CAAA,SAAA,CAAM,EAAN,CAAQ,IAAR,CAAQ,IAAR,EAAS,CAAT;;AACA,QAAI,KAAG,EAAH,CAAQ,EAAZ,EAAY;AACZ,WAAA,EAAA,CAAA,mBAAA,CAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,CAAA,EAAA,CAAA,GAAA;AA1rBM;AAwBS,GA+pBhB;;AAIO,EAAA,oBAAA,CAAA,SAAA,CAAgB,EAAhB,GAAwB,UAAA,CAAA,EAAA,CAAA,EAAA;AAChC,IAAA,MAAA,CAAA,SAAA,CAAA,EAAA,CAAA,IAAA,CAAC,IAAD,EAAC,CAAD,EAAC,CAAD;;AA7rB0C,SAAA,EAAA,GAAe,CAAf;AAA7B,GA4rBL;;AAGR,EAAA,oBAAA,CAAA,EAAA,GAAA,QAAA,CAAA,oBAAA,EAAA,sBAAA,EAAA,eAAA,CAAA,CAAA,EAAA,CAAA,sBAAA,CAAA,CAAA;;;;AAEG,EAAA,oBAAA,CAAA,GAAA,GAAA,OAAA,CAAA,kBAAA,EAAA,gBAAA,EAAA,oBAAA,EAAA,sBAAA,EAAA,CAAA,mBAAA,EAAA,CAAA,sBAAA,EAAA,UAAA,CAAA,sBAAA,EAAA,CAAA,CAAA,CAAA,EAAA,uBAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,CAAA,EAAA,mBAAA,EAAA,CAAA,mBAAA,EAAA,UAAA,CAAA,mBAAA,EAAA,CAAA,CAAA,CAAA,EAAA,wBAAA,EAAA,CAAA,CAAA,EAAA,GAAA,CAAA,EAAA,qBAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,oBAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,CAAA,EAAA,uBAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,EAAA,0BAAA,EAAA,CAAA,gBAAA,CAAA,CAAA,CAAA,EAAA,wBAAA,EAAA,CAAA,gBAAA,EAAA,UAAA,CAAA,gBAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACH,SAAA,oBAAA;CAlsBA,CAksB8C,eAlsB9C,CAAA;;AAqsBC,SAAA,oBAAA;AAAA;;;;IAoBU,wBAAwB;AAAA;;AAAA;AAAA,UAAA,MAAA,EAAA;AA0B1B,EAAA,OAAA,CAAA,SAAA,CAAa,wBAAb,EAAa,MAAb;;AACP,WAAA,wBAAA,CAAsB,CAAtB,EAAsB;QACtB,KAAK,GAAE,MAAO,CAAA,IAAP,CAAO,IAAP,EAAO,CAAP,KAAuB,I;;AAC9B,IAAA,KAAA,CAAA,EAAA,GAAO,IAAP;AACD,IAAA,KAAK,CAAC,EAAN,GAAM,IAAN;AACQ,IAAA,KAAA,CAAA,EAAA,GAAW,IAAX;;AACP,IAAA,KAAA,CAAA,EAAA,GAAQ,YAAa;AACrB,UAAI,IAAG,GAAG,IAAI,IAAJ,EAAV;AACA,MAAA,IAAA,CAAA,EAAA,GAAO,IAAK,aAAL,EAAP;AACG,aAAE,IAAF;AACI,KAJC,EAAR;;AAkGO,IAAA,KAAA,CAAA,EAAA,GAAW,YAAW;AAgD9B,UAAE,IAAY,GAAA,IAAM,IAAN,EAAd;AApMC,MAAA,IAAO,CAAA,EAAP,GAAY,IAAA,aAAA,EAAZ;AACA,aAAU,IAAV;AACA,KAkJkB,EAAX;;AAjJN,IAAA,KAAA,CAAA,EAAA,GAAI,IAAJ;AACA,IAAA,KAAA,CAAA,EAAA,GAAK,IAAM,IAAN,EAAL;AACA,IAAA,KAAA,CAAA,EAAA,GAAK,KAAL;AACA,IAAA,KAAA,CAAA,EAAA,GAAK,CAAL;AACA,IAAA,KAAA,CAAA,EAAA,GAAK,IAAA,MAAA,CAAU,IAAM,CAAA,CAAhB,EAAoB,CAApB,CAAL;;AACA,IAAA,KAAA,CAAA,EAAA,GAAO,YAAK;AACT,UAAE,IAAA,GAAA,IAAA,MAAA,CAAA,IAAA,CAAA,CAAA,CAAF;;AACJ,MAAA,IAAA,CAAA,QAAA,GAAA,KAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,CAAA;AAED,MAAA,IAAA,CAAA,WAAA,GAAA,KAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,CAAA;AACK,MAAA,IAAU,CAAA,OAAV,GAAqB,KAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,CAArB;AACA,aAAO,IAAP;AACH,KAPO,EAAP;;AAQD,WAAO,KAAP;AACA;;AAED,EAAA,wBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,YAAU;AACT,QAAE,CAAA,GAAA,IAAA,IAAA,EAAF;AACA,SAAA,EAAA,CAAA,GAAA,CAAA,CAAA;AACD,IAAA,CAAA,CAAA,WAAA,GAAA,CAAA;AACC,WAAE,CAAF;AACA,GALD;;AAMA,EAAA,wBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,UAAG,CAAH,EAAU;AACT,IAAA,CAAA,CAAA,WAAA,GAAgB,CAAhB;AACA,GAFD;;AAGU,EAAA,wBAAA,CAAA,SAAA,CAAA,EAAA,GAAV,UAAA,CAAA,EAAA;AACC,IAAA,CAAA,CAAA,WAAA,GAAW,CAAX;AACA,GAFS;;AAGV,EAAA,wBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,UAAA,CAAA,EAAA;AACC,SAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AACA,GAFD;;AAGE,EAAA,wBAAe,CAAA,SAAf,CAAe,EAAf,GAAe,YAAA;WACd,IAAA,8BAAA,CAAuB,IAAvB,C;AACA,GAFD;;AAGC,EAAA,wBAAY,CAAA,SAAZ,CAAY,EAAZ,GAAY,YAAA;AACb,IAAA,MAAE,CAAA,SAAF,CAAM,EAAN,CAAM,IAAN,CAAM,IAAN;;QACA,CAAA,KAAK,C,EAAG;AACR,WAAK,EAAL,CAAQ,EAAR,GAAe,YAAA;AACX,YAAI,IAAE,GAAK,IAAA,KAAA,EAAX;AACJ,QAAA,IAAA,CAAA,IAAA,GAAA,SAAA;AACD,eAAA,IAAA;AAYD,OAfgB,EAAd;;AAeF,WAAA,EAAA,CAAA,EAAA,GAAA,KAAA,EAAA,CAAA,EAAA;AACC,WAAI,EAAJ,CAAQ,EAAR,GAAW,CAAX;AACC,WAAA,EAAA,CAAI,EAAJ,GAAO,CAAP;AACA;AACD,GAtBE;;AAuBH,EAAA,MAAC,CAAA,cAAD,CAAC,wBAAA,CAAA,SAAD,EAAC,IAAD,EAAC;SACD,YAA2B;AAC1B,UAAI,KAAG,EAAH,IAAQ,IAAZ,EAAY;AACZ,aAAA,EAAA,GAAA,+BAAA,CAAA,CAAA,CAAA,KAAA,EAAA,EAAA,KAAA,CAAA,CAAA,EAAA,EAAA,EAAA,KAAA,CAAA,CAAA,EAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,CAAA,EAAA,CAAA;;;;AAHA,KAAA;AAID,IAAA,GAAA,EAAA,UAAA,CAAA,EAAI;AAAJ,WAAA,EAAA,GAAA,CAAA;AACC,KALA;AAMD,IAAA,UAAC,EAAA,IANA;;AAAA,GAAD;AAMC,EAAA,MAAA,CAAA,cAAA,CAAA,wBAAA,CAAA,SAAA,EAAA,IAAA,EAAA;AACD,IAAA,GAAA,EAAA,YAAA;AACK,aAAO,KAAG,EAAH,IAAU,IAAjB;AACH,KAHD;AAIC,IAAA,UAAA,EAAA,IAJD;AAIO,IAAA,YAAA,EAAA;AAJP,GAAA;;AAMC,EAAA,wBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,YAAA;AACD,QAAI,KAAK,EAAL,CAAQ,EAAR,IAAc,CAAlB,EAAqB;AACpB,WAAK,EAAL,CAAQ,OAAR,GAAkB,KAAK,CAAL,CAAO,EAAzB;AACA,KAFD,MAEO;AACN,WAAK,EAAL,CAAQ,OAAR,GAAkB,KAAK,CAAL,CAAO,EAAzB;AACA;;AACD,QAAA,KAAA,EAAA,CAAA,EAAA,IAAA,CAAA,EAAA;AACD,WAAA,EAAA,CAAA,OAAA,GAAA,KAAA,EAAA,CAAA,EAAA;AACC,KAFA,MAGK;AACD,WAAK,EAAL,CAAM,OAAN,GAAM,KAAA,EAAA,CAAA,EAAN;AACJ;AACD,GAZE;;AAaD,EAAA,wBAAqD,CAAA,SAArD,CAAoE,EAApE,GAAuE,YAAY;AACnF,SAAK,EAAL;AACA,SAAA,EAAA,CAAA,KAAA,GAAgB,CAAhB;AACA,SAAA,EAAA;AACA,GAJA;;AAKD,EAAA,wBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,YAAA;AACC,QAAI,CAAC,GAAE,QAAG,CAAA,aAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,EAAA,CAAV;AACA,QAAA,CAAA,GAAO,QAA8B,CAAA,aAAe,CAAC,CAAhB,EAAkB,KAAK,EAAL,CAAQ,EAA1B,CAArC;AACA,IAAA,UAAA,CAAA,CAAA,CAAA,CAAA;AACD,IAAA,UAAA,CAAA,CAAA,CAAA,CAAA;AACC,GALD;;AAMC,EAAA,wBAAqC,CAAA,SAArC,CAAqD,EAArD,GAAuD,YAAY;AACnE,SAAA,EAAA;AACD,WAAA,QAAA,CAAA,aAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,EAAA,CAAA;AACC,GAHA;;AAIA,EAAA,wBAAY,CAAA,SAAZ,CAA8B,EAA9B,GAAoC,YAAA;AACnC,SAAA,EAAA;AACA,WAAA,QAAA,CAAA,aAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,EAAA,CAAA;AAAM,GAFP;;AAGC,EAAA,wBAAa,CAAI,SAAjB,CAAwB,EAAxB,GAAwB,YAAA;AACxB,SAAA,EAAA,CAAA,EAAA,GAAA,IAAA;;AACD,QAAA,KAAA,EAAA,CAAA,cAAA,IAAA,IAAA,EAAA;AACS,WAAA,EAAA,CAAA,EAAA,GAAA,KAAA,EAAA,CAAV,cAAU;AACT,KAFA,MAGK;AACD,WAAI,EAAJ,CAAM,EAAN,GAAa,KAAK,EAAL,CAAM,EAAnB;AACJ;AACA,GARC;;AASA,EAAA,wBAAe,CAAA,SAAf,CAA2B,EAA3B,GAA4B,YAAA;AAC5B,IAAA,MAAA,CAAA,SAAA,CAAA,EAAA,CAAA,IAAA,CAAA,IAAA;;SAAM,E,CAAA,E,GAAA,KAAA,CAAA,CAAA,E;AACN,SAAA,EAAA,CAAI,EAAJ,GAAQ,KAAA,CAAA,CAAO,EAAf;AACA,SAAA,EAAA,CAAI,EAAJ,GAAQ,KAAK,CAAL,CAAQ,EAAhB;;AACA,QAAA,KAAA,EAAA,CAAA,EAAA,IAAA,CAAA,EAAA;AACG,WAAI,EAAJ,CAAM,OAAN,GAAkB,KAAC,CAAD,CAAC,EAAnB;AACJ,KAFC,MAGI;AACD,WAAK,EAAL,CAAQ,OAAR,GAAiB,KAAA,CAAA,CAAA,EAAjB;AACH,WAAK,EAAL,CAAQ,KAAR,GAAe,KAAG,CAAH,CAAQ,EAAvB;AACA;;SAAM,E,CAAA,E,GAAA,KAAA,CAAA,CAAA,E;AACN,SAAA,EAAA,CAAI,EAAJ,GAAQ,KAAA,CAAA,CAAO,EAAf;AACA,SAAA,EAAA,CAAI,EAAJ,GAAQ,KAAK,CAAL,CAAQ,EAAhB;;AACA,QAAA,KAAA,EAAA,CAAA,EAAA,IAAA,CAAA,EAAA;AACD,WAAA,EAAA,CAAA,OAAA,GAAA,KAAA,EAAA,CAAA,EAAA;AACD,KAFE,MAGD;AACI,WAAW,EAAX,CAAe,OAAf,GAAqB,KAAA,EAAA,CAAA,EAArB;AACA,WAAI,EAAJ,CAAM,KAAN,GAAgB,KAAK,EAAL,CAAO,EAAvB;AACJ;AACC,GApBA;;AAqBA,EAAA,wBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,YAAA;AAAM,IAAA,MAAA,CAAA,SAAA,CAAA,EAAA,CAAA,IAAA,CAAA,IAAA;;QACN,CAAA,GAAI,KAAI,EAAJ,E;AACJ,SAAA,EAAA,CAAI,EAAJ,GAAQ,KAAK,CAAL,CAAQ,EAAR,GAAU,CAAlB;;AACA,QAAA,KAAA,EAAA,CAAA,EAAA,IAAA,CAAA,EAAA;AACG,WAAI,EAAJ,CAAM,OAAN,GAAkB,CAAlB;AACJ,KAFC,MAGA;AACA,WAAA,EAAA,CAAA,OAAA,GAAA,CAAA;AAAM,WAAA,EAAA,CAAA,KAAA,GAAA,CAAA;AACN;;AACA,SAAA,EAAA,CAAI,EAAJ,GAAQ,KAAK,CAAL,CAAQ,EAAR,GAAU,CAAlB;;AACA,QAAA,KAAA,EAAA,CAAA,EAAA,IAAA,CAAA,EAAA;AACD,WAAA,EAAA,CAAA,OAAA,GAAA,CAAA;AACD,KAFE,MAGD;AACA,WAAA,EAAA,CAAA,OAAA,GAAA,CAAA;AAES,WAAA,EAAA,CAAA,KAAA,GAAV,CAAU;AACT;AACA,GAlBC;;AAmBD,EAAA,wBAAkB,CAAA,SAAlB,CAAkB,CAAlB,GAAkB,UAAA,CAAA,EAAA;AAClB,WAAK,KAAO,EAAP,CAAU,MAAV,CAAc,CAAd,CAAL;AACA,GAFA;;AAGA,EAAA,wBAAoB,CAAA,SAApB,CAAoB,CAApB,GAAoB,UAAA,CAAA,EAAA;AACpB,QAAI,CAAC,GAAG,KAAK,EAAL,CAAK,MAAL,CAAc,CAAd,CAAR;AACA,SAAA,EAAA,CAAO,WAAP,GAAe,CAAA,CAAA,WAAf;AACA,SAAA,EAAA,CAAA,EAAA,GAAA,CAAA,CAAA,EAAA;AACS,QAAA,CAAA,GAAA,KAAA,EAAA,CAAV,CAAU,CAAA;AACT,SAAA,EAAA,CAAA,KAAA,GAAA,CAAA;AACA,SAAK,EAAL,CAAO,OAAP,GAAS,CAAT;AACC,SAAA,EAAA,CAAI,EAAJ,GAAS,KAAI,CAAJ,CAAI,EAAJ,GAAI,CAAb;WACC,KAAA,E;AACC,GATH;;AAUG,EAAA,wBAAM,CAAA,SAAN,CAAiB,EAAjB,GAAwB,UAAA,CAAA,EAAA,CAAA,EAAA;WACvB,S,CAAC,E,CAAG,I,CAAG,I,EAAA,C,EAAA,C;;aACP;UACD,KAAA,E,EAAA;AACD,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,EAAA,CAAA,KAAA,EAAA,CAAA,EAAA,EAAA;AAAM,cAAA,CAAA,GAAA,KAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;;AACF,cAAI,CAAC,CAAA,WAAD,IAAK,CAAT,EAAS;AACL,YAAA,CAAC,CAAA,CAAD,CAAI,CAAJ;AACR;AACD;AACD,O,MACD;AACQ,QAAA,CAAE,CAAA,CAAF,CAAE,KAAA,EAAF;AACF,QAAA,CAAA,CAAA,CAAA,CAAI,KAAI,EAAR;AACH;AACA;AACA,GAfC;;AAgBD,EAAA,wBAAY,CAAA,SAAZ,CAAkB,EAAlB,GAAkB,UAAA,CAAA,EAAA,CAAA,EAAA;UAClB,C,EAAC;UACD,KAAK,EAAL,CAAO,aAAP,IAAO,CAAP,IAAO,CAAA,C,EAAA;AACP,YAAA,CAAA,GAAA,KAAA,EAAA,CAAA,GAAA;AACD,QAAA,CAAA,CAAA,EAAA,GAAA,KAAA,EAAA,CAAA,kBAAA;AACD,QAAA,CAAA,CAAA,OAAA,GAAQ,KAAA,EAAA,CAAA,EAAR;AACA,QAAA,CAAA,CAAA,EAAA,GAAA,KAAA,EAAA,CAAA,EAAA;AACD,QAAA,CAAA,CAAA,EAAA,GAAA,KAAA,EAAA,CAAA,EAAA;AACC,QAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACK;AACL;;AACA,IAAA,MAAA,CAAA,SAAA,CAAA,EAAA,CAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,CAAA;AACD,GAZG;;AAaF,EAAA,wBAAU,CAAA,SAAV,CAAU,EAAV,GAAU,UAAA,CAAA,EAAA;AACV,IAAA,MAAA,CAAA,SAAA,CAAA,EAAA,CAAA,IAAA,CAAA,IAAA,EAAA,CAAA;;AAED,SAAA,CAAA,CAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,mBAAA,EAAA,CAAA,UAAA,EAAA,MAAA,CAAA;AACC,SAAI,CAAJ,CAAI,EAAJ,CAAS,cAAT,CAAa,CAAb,EAAa,KAAA,EAAb,EAAa,mBAAb,EAAa,CAAA,UAAA,CAAb;AACC,GALD;;AAMC,EAAA,wBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,YAAA;AACD,SAAA,EAAA;AA7MM,GA4ML;;AAEH,EAAA,wBAAA,CAAA,SAAA,CAAC,EAAD,GAAC,YAAA;AA/M6C,QAAA,KAAA,EAAA,EAAmB;AAApD,WAAA,EAAA,GAAA,+BAAwB,CAAA,CAAxB,CAAwB,KAAA,EAAxB,EAAwB,KAAA,CAAA,CAAA,EAAA,EAAxB,EAAwB,KAAA,CAAA,CAAA,EAAxB,EAAwB,KAAA,CAAxB,EAAwB,KAAA,CAAA,CAAA,EAAxB,CAAA;;GA+Mb;;;;CAxLmC,C,mBAAA,C","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { FinancialSeries } from \"./FinancialSeries\";\nimport { ITrendLineSeries_$type } from \"./ITrendLineSeries\";\nimport { TrendLineType_$type } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Brush } from \"igniteui-react-core\";\nimport { PenLineCap_$type } from \"igniteui-react-core\";\nimport { DoubleCollection } from \"igniteui-react-core\";\nimport { PriceDisplayType_$type } from \"./PriceDisplayType\";\nimport { enumGetBox, EnumUtil, typeCast, fromEnum, runOn, Point_$type, markType, markDep } from \"igniteui-react-core\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { FinancialSeriesView } from \"./FinancialSeriesView\";\nimport { Series } from \"./Series\";\nimport { Rect } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { RectUtil } from \"igniteui-react-core\";\nimport { CategoryTrendLineManagerFactory } from \"./CategoryTrendLineManagerFactory\";\nimport { AxisRange } from \"./AxisRange\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { TrendResolutionParams } from \"./TrendResolutionParams\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { Path } from \"igniteui-react-core\";\nimport { PathGeometry } from \"igniteui-react-core\";\nimport { PathFigure } from \"igniteui-react-core\";\nimport { LineSegment } from \"igniteui-react-core\";\nimport { GeometryGroup } from \"igniteui-react-core\";\nimport { LineGeometry } from \"igniteui-react-core\";\nimport { RectangleGeometry } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { truncate, isNaN_ } from \"igniteui-react-core\";\nimport { boxArray$1 } from \"igniteui-react-core\";\nimport { FinancialPriceBucketCalculator } from \"./FinancialPriceBucketCalculator\";\nimport { Extensions } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar FinancialPriceSeries = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(FinancialPriceSeries, _super);\n    function FinancialPriceSeries() {\n        var _this = _super.call(this) || this;\n        _this.ab = FinancialPriceSeries.$;\n        _this.mc = new CategoryFrame(5);\n        _this.me = new CategoryFrame(5);\n        _this.mb = new CategoryFrame(5);\n        return _this;\n    }\n    FinancialPriceSeries.prototype.bf = function () {\n        return new FinancialPriceSeriesView(this);\n    };\n    FinancialPriceSeries.prototype.iv = function (a) {\n        _super.prototype.iv.call(this, a);\n        this.pk = a;\n    };\n    Object.defineProperty(FinancialPriceSeries.prototype, \"p4\", {\n        get: function () {\n            return this.c(FinancialPriceSeries.pu);\n        },\n        set: function (a) {\n            this.h(FinancialPriceSeries.pu, a);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FinancialPriceSeries.prototype.hz = function (a, b, c, d) {\n        _super.prototype.hz.call(this, a, b, c, d);\n        if (this.l9 != null && typeCast(ISortingAxis_$type, this.l9) !== null) {\n            this.l9.i$i();\n        }\n        this.pk.bu.e(this.eu);\n        if (this.pk.b4) {\n            this.pk.b2.g$e(a, b, c, d);\n        }\n        if (this.mu != null) {\n            this.mu.cn();\n        }\n        this.je(true);\n    };\n    FinancialPriceSeries.prototype.bd = function () {\n        if (this.be == 0) {\n            return 1;\n        }\n        else {\n            return _super.prototype.bd.call(this);\n        }\n    };\n    FinancialPriceSeries.prototype.lv = function (a) {\n        if (this.mb == null || this.mb.f.count == 0) {\n            return Rect.empty;\n        }\n        var b = this.lh(a);\n        var c = this.bi.bs;\n        var d = this.bi.br;\n        var e = this.getEffectiveViewport1(this.bi);\n        var f = this.aj(this.l9, this.mb.f, this.n6(this.bi), this.n8(this.bi), a, true);\n        var g = f[0];\n        var h = f[1];\n        var i = Math.abs(b.x - g[0]);\n        var j = Math.abs(b.x - h[0]);\n        var k = this.pm(this.mp, e);\n        k = Math.max(k, 3);\n        var l = (k - 1) / 2;\n        if (i < j) {\n            var m = g[0] - l;\n            var n = g[0];\n            var o = g[0] + l;\n            var p = g[1];\n            var q = g[2];\n            var r = g[3];\n            var s = g[4];\n            var t = Math.min(Math.min(Math.min(p, q), r), s);\n            var u = Math.max(Math.max(Math.max(p, q), r), s);\n            return new Rect(0, m, t, Math.abs(o - m), u - t);\n        }\n        else {\n            var v = h[0] - l;\n            var w = h[0];\n            var x = h[0] + l;\n            var y = h[1];\n            var z = h[2];\n            var aa = h[3];\n            var ab = h[4];\n            var ac = Math.min(Math.min(Math.min(y, z), aa), ab);\n            var ad = Math.max(Math.max(Math.max(y, z), aa), ab);\n            return new Rect(0, v, ac, Math.abs(x - v), ad - ac);\n        }\n    };\n    FinancialPriceSeries.prototype.pj = function (a, b) {\n        var c = a[0] - b;\n        var d = a[0];\n        var e = a[0] + b;\n        var f = a[1];\n        var g = a[2];\n        var h = a[3];\n        var i = a[4];\n        var j = Math.min(Math.min(Math.min(f, g), h), i);\n        var k = Math.max(Math.max(Math.max(f, g), h), i);\n        var l = Math.min(g, h);\n        var m = Math.max(g, h);\n        var n = Math.min(f, i);\n        var o = Math.max(f, i);\n        if (this.pl == 1) {\n            var p = new Array(3);\n            var q = new Rect(0, c, f, b, 0);\n            var r = new Rect(0, d, i, b, 0);\n            var s = new Rect(0, d, l, 0, m - l);\n            p[0] = q;\n            p[1] = r;\n            p[2] = s;\n            return p;\n        }\n        else {\n            var t = new Array(2);\n            var u = new Rect(0, d, l, 0, m - l);\n            var v = new Rect(0, c, n, b * 2, o - n);\n            t[0] = u;\n            t[1] = v;\n            return t;\n        }\n    };\n    FinancialPriceSeries.prototype.ak = function (a) {\n        var b = new List$1(Rect.$, 0);\n        var c = this.lh(a);\n        var d = this.bi.bs;\n        var e = this.bi.br;\n        var f = this.getEffectiveViewport1(this.bi);\n        var g = this.aj(this.l9, this.mb.f, this.n6(this.bi), this.n8(this.bi), a, true);\n        var h = g[0];\n        var i = g[1];\n        var j = Math.abs(c.x - h[0]);\n        var k = Math.abs(c.x - i[0]);\n        var l = this.pm(this.mp, f);\n        l = Math.max(l, 3);\n        var m = (l - 1) / 2;\n        if (j < k) {\n            return this.pj(h, m);\n        }\n        else {\n            return this.pj(i, m);\n        }\n    };\n    FinancialPriceSeries.prototype.dh = function (a, b) {\n        if (this.dk(a, b)) {\n            return true;\n        }\n        return false;\n    };\n    FinancialPriceSeries.prototype.dk = function (a, b) {\n        var c = this.lw(a);\n        if (c.isEmpty) {\n            return false;\n        }\n        var d = RectUtil.r(c, (this.ey / 2) + this.ee(b));\n        if (d.containsPoint(a)) {\n            var e = this.al(a);\n            if (e != null) {\n                for (var f = 0; f < e.length; f++) {\n                    var g = e[f];\n                    var h = RectUtil.r(g, (this.ey / 2) + this.ee(b));\n                    if (h.containsPoint(a)) {\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    FinancialPriceSeries.prototype.i0 = function (a, b, c, d) {\n        switch (b) {\n            case FinancialSeries.$$p[9]:\n                this.pk.ca();\n                break;\n            case \"TrendLineType\":\n                var e = EnumUtil.getEnumValue(TrendLineType_$type, d);\n                if (e != 0) {\n                    this.pk.b2 = CategoryTrendLineManagerFactory.a(this.pk.b2, this.l9, this.jy, this, this.b2);\n                }\n                break;\n        }\n        _super.prototype.i0.call(this, a, b, c, d);\n        if (this.pk.b4 && this.pk.b2 != null && this.pk.b2.g$b(a, b, c, d)) {\n            this.je(false);\n            this.il();\n        }\n        switch (b) {\n            case FinancialPriceSeries.$$p[0]:\n                if (this.jy != null) {\n                    this.pt();\n                    this.mb.w();\n                    this.o2(this.mb, this.pk);\n                }\n                this.il();\n                break;\n            case \"TrendLineBrush\":\n                this.jp();\n                break;\n            case \"TrendLineType\":\n                this.il();\n                break;\n            case FinancialSeries.$$p[5]:\n            case FinancialPriceSeries.$$p[1]:\n                this.ix();\n                break;\n        }\n    };\n    FinancialPriceSeries.prototype.pt = function () {\n        this.pk.ce();\n        if (this.bh != null) {\n            this.bh.ce();\n        }\n    };\n    FinancialPriceSeries.prototype.an = function (a) {\n        if (a != null && a == this.mu && this.m1 != null && !isNaN_(this.m1.minimum) && this.mz != null && !isNaN_(this.mz.maximum)) {\n            return new AxisRange(this.m1.minimum, this.mz.maximum);\n        }\n        return null;\n    };\n    FinancialPriceSeries.prototype.ao = function () {\n        if (this.m1 == null || this.mz == null) {\n            return null;\n        }\n        var a = new ScalerParams(0, this.bs.mr, this.bs.m5, this.l9.ca, this.getEffectiveViewport());\n        var b = (this.l9.d1(this.bs.m5.left, a));\n        var c = (this.l9.d1(this.bs.m5.right, a));\n        var d = null;\n        if (this.l9.cf) {\n            d = this.l9;\n            b = d.i$f(b);\n            c = d.i$f(c);\n        }\n        else {\n            b = Math.floor(b);\n            c = Math.ceil(c);\n        }\n        b = Math.max(0, Math.min(this.m1.count - 1, b));\n        c = Math.max(0, Math.min(this.m1.count - 1, c));\n        var e = 1.7976931348623157E+308;\n        var f = -1.7976931348623157E+308;\n        for (var g = truncate(b); g <= truncate(c); g++) {\n            var h = g;\n            if (d != null) {\n                h = d.i$b._inner[g];\n            }\n            e = Math.min(e, this.m1.item(h));\n            f = Math.max(f, this.mz.item(h));\n        }\n        return new AxisRange(e, f);\n    };\n    FinancialPriceSeries.prototype.eh = function () {\n        return Series.ei(this.m3, typeCast(ISortingAxis_$type, this.l9));\n    };\n    FinancialPriceSeries.prototype.c9 = function (a) {\n        var b = this.bz != null ? this.bz.indexOf(a) : -1;\n        var c = this.bi.bs;\n        c = c.copy();\n        var d = this.bi.br;\n        var e = new Rect(0, 0, 0, 1, 1);\n        var f = this.lt(this.bi);\n        if (b >= 0 && Rect.l_op_Inequality(c, null) && Rect.l_op_Inequality(d, null)) {\n            if (this.l9 != null) {\n                var g = new ScalerParams(0, e, e, this.l9.ca, f);\n                var h = this.l9.dy(b, g);\n                if (h < c.left + 0.1 * c.width) {\n                    h = h + 0.4 * c.width;\n                }\n                if (h > c.right - 0.1 * c.width) {\n                    h = h - 0.4 * c.width;\n                }\n                c.x = h - 0.5 * c.width;\n            }\n            if (this.mu != null && this.m1 != null && this.mz != null && b < this.m1.count && b < this.mz.count) {\n                var i = new ScalerParams(0, e, e, this.mu.ca, f);\n                i.b = this.eh();\n                var j = this.mu.dy(this.m1.item(b), i);\n                var k = this.mu.dy(this.mz.item(b), i);\n                if (!isNaN_(j) && !isNaN_(k)) {\n                    var l = Math.abs(j - k);\n                    if (c.height < l) {\n                        c.height = l;\n                        c.y = Math.min(j, k);\n                    }\n                    else {\n                        if (j < c.top + 0.1 * c.height) {\n                            j = j + 0.4 * c.height;\n                        }\n                        if (j > c.bottom - 0.1 * c.height) {\n                            j = j - 0.4 * c.height;\n                        }\n                        c.y = j - 0.5 * c.height;\n                    }\n                }\n            }\n            this.bn.ap(this.bs, c, true);\n        }\n        return b >= 0;\n    };\n    FinancialPriceSeries.prototype.dw = function (a, b, c) {\n        var d = _super.prototype.dw.call(this, a, b, c);\n        if (this.m3 == null || this.mx == null || this.mz == null || this.m1 == null) {\n            d = false;\n        }\n        return d;\n    };\n    FinancialPriceSeries.prototype.o0 = function (a, b) {\n        var e_1, _a;\n        var _this = this;\n        _super.prototype.o0.call(this, a, b);\n        var c = b.bs;\n        var d = b.br;\n        var e = this.getEffectiveViewport1(b);\n        var f = this.l9;\n        var g = this.mu;\n        var h = new ScalerParams(0, c, d, f.ca, e);\n        var i = ((function () {\n            var $ret = new ScalerParams(0, c, d, g.ca, e);\n            $ret.b = _this.eh();\n            return $ret;\n        })());\n        a.f.clear();\n        a.m.clear();\n        a.p.clear();\n        var j = 0;\n        var k = typeCast(ISortingAxis_$type, this.l9);\n        if (k != null && (k.i$b == null || k.i$b.count != this.bz.count)) {\n            return;\n        }\n        j = this.n0(c, d, e);\n        var l = typeCast(FinancialPriceSeriesView.$, b);\n        var m = this.eu;\n        if (this.trendLineType != 0) {\n            var n = new Array(this.bz.count);\n            var o = 0;\n            try {\n                for (var _b = tslib_1.__values(fromEnum(this.nr)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var p = _c.value;\n                    n[o] = p;\n                    o++;\n                }\n            }\n            catch (e_1_1) {\n                e_1 = { error: e_1_1 };\n            }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return))\n                        _a.call(_b);\n                }\n                finally {\n                    if (e_1)\n                        throw e_1.error;\n                }\n            }\n            if (this.pk.b4) {\n                this.pk.b2.prepareLineCore(a.p, this.trendLineType, boxArray$1(n), this.trendLinePeriod, function (q) { return _this.l9.dy(q, h); }, function (q) { return _this.mu.dy(q, i); }, ((function () {\n                    var $ret = new TrendResolutionParams();\n                    $ret.c = b.bu.b;\n                    $ret.d = b.bu.c;\n                    $ret.e = b.bu.d;\n                    $ret.a = j;\n                    $ret.b = m;\n                    $ret.f = d;\n                    return $ret;\n                })()));\n            }\n        }\n        var q = this.l9.d1(2, h) - this.l9.d1(1, h);\n        for (var r = b.bu.c; r <= b.bu.d; ++r) {\n            var s = void 0;\n            if (k == null) {\n                s = b.bu.getBucket(r);\n            }\n            else {\n                var t = k.i$b._inner[r];\n                var u = k.i$d(t);\n                var v = this.m3.item(t);\n                var w = this.mz.item(t);\n                var x = this.m1.item(t);\n                var y = this.mx.item(t);\n                var z = v;\n                var aa = w;\n                var ab = x;\n                var ac = y;\n                var ad = u;\n                while (r < b.bu.d) {\n                    t = k.i$b._inner[r + 1];\n                    ad = k.i$d(t);\n                    if (ad - u > q * m) {\n                        break;\n                    }\n                    r++;\n                    aa = Math.max(aa, this.mz.item(t));\n                    ab = Math.min(ab, this.m1.item(t));\n                    ac = this.mx.item(t);\n                }\n                var ae = NaN;\n                if (!isNaN_(u)) {\n                    ae = this.l9.dy(u, h);\n                }\n                s = [ae, z, aa, ab, ac];\n            }\n            if (!isNaN_(s[0])) {\n                if (k != null) {\n                    s[0] = s[0] + j;\n                }\n                else {\n                    s[0] = f.dy(s[0], h) + j;\n                }\n                s[1] = g.dy(s[1], i);\n                s[2] = g.dy(s[2], i);\n                s[3] = g.dy(s[3], i);\n                s[4] = g.dy(s[4], i);\n                a.f.add(s);\n            }\n        }\n        return;\n    };\n    FinancialPriceSeries.prototype.hw = function (a, b) {\n        _super.prototype.hw.call(this, a, b);\n        var c = typeCast(FinancialPriceSeriesView.$, b);\n        c.b8();\n        if (a) {\n            c.b3.count = 0;\n        }\n        if (c.b4 && c.b2 != null) {\n            c.b2.g$d();\n        }\n    };\n    FinancialPriceSeries.prototype.get_nd = function () {\n        return true;\n    };\n    FinancialPriceSeries.prototype.o2 = function (a, b) {\n        _super.prototype.o2.call(this, a, b);\n        if (this.l9 == null || this.mu == null) {\n            return;\n        }\n        var c = false;\n        if (b.bx(a)) {\n            c = true;\n            b.bz(a);\n        }\n        this.mh.x(this, this.nh(), this.l9, runOn(this, this.l1), this.n6(b), this.n8(b));\n        var d = false;\n        var e = this.mh.c;\n        if (e != null) {\n            d = true;\n        }\n        var f = typeCast(FinancialPriceSeriesView.$, b);\n        f.b7();\n        f.b5 = false;\n        if (f.b4) {\n            f.b2.g$d();\n        }\n        if (this.trendLineType != 0) {\n            f.b2.g$g(a.p);\n        }\n        if (d) {\n            this.ps(a, b, c);\n        }\n        else {\n            f.b3.count = 0;\n            this.pr(a, b);\n        }\n    };\n    FinancialPriceSeries.prototype.eg = function () {\n        var a = this.getEffectiveViewport1(this.bi);\n        return this.pm(this.mp, a);\n    };\n    FinancialPriceSeries.prototype.ps = function (a, b, c) {\n        var d = this.pl;\n        var e = this.getEffectiveViewport1(b);\n        var f = this.pm(b, e);\n        var g = (f - 1) / 2;\n        var h = typeCast(FinancialPriceSeriesView.$, b);\n        h.b5 = true;\n        var i = a.f;\n        var j = 0;\n        var k = this.bz.count;\n        var l = this.l9;\n        var m = new ScalerParams(0, b.bs, b.br, l.ca, e);\n        var n = this.k4;\n        var o = this.pf;\n        if (o == null) {\n            o = n;\n        }\n        var p = this.k5;\n        var q = this.p5;\n        if (q == null) {\n            q = p;\n        }\n        var _loop_1 = function (r) {\n            var s = i._inner[r][0] - g;\n            var t = i._inner[r][0];\n            var u = i._inner[r][0] + g;\n            var v = i._inner[r][1];\n            var w = i._inner[r][2];\n            var x = i._inner[r][3];\n            var y = i._inner[r][4];\n            if (isNaN_(v) || isNaN_(w) || isNaN_(x) || isNaN_(y)) {\n                return \"continue\";\n            }\n            var z = h.b3.item(j);\n            j++;\n            var aa = v < y;\n            var ab = new PathGeometry();\n            if (c) {\n                switch (d) {\n                    case 0:\n                        if (aa) {\n                            var ac = v;\n                            v = y;\n                            y = ac;\n                        }\n                        var ad = new PathFigure();\n                        ad._startPoint = { $type: Point_$type, x: t, y: x };\n                        ad._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: t, y: v };\n                            return $ret;\n                        })()));\n                        var ae = new PathFigure();\n                        ae._startPoint = { $type: Point_$type, x: s, y: y };\n                        ae._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: u, y: y };\n                            return $ret;\n                        })()));\n                        ae._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: u, y: v };\n                            return $ret;\n                        })()));\n                        ae._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: s, y: v };\n                            return $ret;\n                        })()));\n                        ae._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: s, y: y };\n                            return $ret;\n                        })()));\n                        var af = new PathFigure();\n                        af._startPoint = { $type: Point_$type, x: t, y: y };\n                        af._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: t, y: w };\n                            return $ret;\n                        })()));\n                        ab.c.add(ad);\n                        ab.c.add(ae);\n                        ab.c.add(af);\n                        break;\n                    case 1:\n                        var ag = new PathFigure();\n                        ag._startPoint = { $type: Point_$type, x: s, y: v };\n                        ag._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: t, y: v };\n                            return $ret;\n                        })()));\n                        var ah = new PathFigure();\n                        ah._startPoint = { $type: Point_$type, x: t, y: x };\n                        ah._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: t, y: w };\n                            return $ret;\n                        })()));\n                        var ai = new PathFigure();\n                        ai._startPoint = { $type: Point_$type, x: t, y: y };\n                        ai._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: u, y: y };\n                            return $ret;\n                        })()));\n                        ab.c.add(ag);\n                        ab.c.add(ah);\n                        ab.c.add(ai);\n                        break;\n                }\n            }\n            if (aa) {\n                this_1.mh.al = o;\n                this_1.mh.ah = o;\n                this_1.mh.am = this_1.mh.ai = q;\n                this_1.mh.f = true;\n            }\n            else {\n                this_1.mh.al = n;\n                this_1.mh.ah = n;\n                this_1.mh.am = this_1.mh.ai = p;\n                this_1.mh.f = false;\n            }\n            this_1.oz(i, r, k, l, m, b.n);\n            if (d == 1) {\n                this_1.mh.ae(z, true, false, false, false);\n            }\n            else {\n                this_1.mh.ae(z, false, false, false, false);\n            }\n            if (c) {\n                z.ak = ab;\n            }\n        };\n        var this_1 = this;\n        for (var r = 0; r < i.count; ++r) {\n            _loop_1(r);\n        }\n        h.b3.count = j;\n        h.b9();\n    };\n    FinancialPriceSeries.prototype.pm = function (a, b) {\n        var c = this.l9.jy(a.bs, a.br, b);\n        c = Math.max(c, this.eu * 0.9);\n        c = Math.max(c, 3);\n        return c;\n    };\n    FinancialPriceSeries.prototype.pr = function (a, b) {\n        var c = this.pl;\n        var d = this.getEffectiveViewport1(b);\n        var e = this.pm(b, d);\n        var f = (e - 1) / 2;\n        var g = typeCast(FinancialPriceSeriesView.$, b);\n        var h = g.ch();\n        var i = g.cg();\n        var j = a.f;\n        var _loop_2 = function (k) {\n            var l = j._inner[k][0] - f;\n            var m = j._inner[k][0];\n            var n = j._inner[k][0] + f;\n            var o = j._inner[k][1];\n            var p = j._inner[k][2];\n            var q = j._inner[k][3];\n            var r = j._inner[k][4];\n            if (isNaN_(o) || isNaN_(p) || isNaN_(q) || isNaN_(r)) {\n                return \"continue\";\n            }\n            var s = o < r;\n            var t = s ? i : h;\n            switch (c) {\n                case 0:\n                    if (s) {\n                        var u = o;\n                        o = r;\n                        r = u;\n                    }\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: m, y: q };\n                        $ret.c = { $type: Point_$type, x: m, y: o };\n                        return $ret;\n                    })()));\n                    t.d.add(((function () {\n                        var $ret = new RectangleGeometry();\n                        $ret.e = new Rect(0, l, r, n - l, o - r);\n                        return $ret;\n                    })()));\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: m, y: r };\n                        $ret.c = { $type: Point_$type, x: m, y: p };\n                        return $ret;\n                    })()));\n                    break;\n                case 1:\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: l, y: o };\n                        $ret.c = { $type: Point_$type, x: m, y: o };\n                        return $ret;\n                    })()));\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: m, y: q };\n                        $ret.c = { $type: Point_$type, x: m, y: p };\n                        return $ret;\n                    })()));\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: m, y: r };\n                        $ret.c = { $type: Point_$type, x: n, y: r };\n                        return $ret;\n                    })()));\n                    break;\n            }\n        };\n        for (var k = 0; k < j.count; ++k) {\n            _loop_2(k);\n        }\n    };\n    FinancialPriceSeries.prototype.fv = function (a, b) {\n        if (this.pk.b4 && a == this.pk.b2.g$j) {\n            return null;\n        }\n        return _super.prototype.fv.call(this, a, b);\n    };\n    FinancialPriceSeries.prototype.jp = function () {\n        _super.prototype.jp.call(this);\n        if (this.fh < 0) {\n            return;\n        }\n        this.pk.cf();\n    };\n    FinancialPriceSeries.prototype.h5 = function (a) {\n        _super.prototype.h5.call(this, a);\n        if (this.pk.b4) {\n            this.a2.exportTrendlineData(this, a, this.pk.b2.g$j);\n        }\n    };\n    FinancialPriceSeries.prototype.jj = function (a, b) {\n        _super.prototype.jj.call(this, a, b);\n        this.p5 = b;\n    };\n    FinancialPriceSeries.$t = markType(FinancialPriceSeries, 'FinancialPriceSeries', FinancialSeries.$, [ITrendLineSeries_$type]);\n    FinancialPriceSeries.pu = DependencyProperty.i(\"ActualTrendLineBrush\", Brush.$, FinancialPriceSeries.$, new PropertyMetadata(2, null, function (a, b) { return a.raisePropertyChanged(\"ActualTrendLineBrush\", b.oldValue, b.newValue); }));\n    FinancialPriceSeries.$$p = markDep(DependencyProperty, PropertyMetadata, FinancialPriceSeries, 'raisePropertyChanged', ['DisplayType:pl:pv', [PriceDisplayType_$type, enumGetBox(PriceDisplayType_$type, 0)], 'NegativeOutline:p5:pw', [Brush.$, null], 'TrendLineType::p2', [TrendLineType_$type, enumGetBox(TrendLineType_$type, 0)], 'TrendLineThickness::p1', [1, 1.5], 'TrendLinePeriod::p0', [1, 7], 'TrendLineBrush::px', [Brush.$, null], 'TrendLineZIndex:po:p3', [1, 1001], 'TrendLineDashArray:p6:py', [DoubleCollection.$], 'TrendLineDashCap:p7:pz', [PenLineCap_$type, enumGetBox(PenLineCap_$type, 0)]]);\n    return FinancialPriceSeries;\n}(FinancialSeries));\nexport { FinancialPriceSeries };\n/**\n * @hidden\n */\nvar FinancialPriceSeriesView = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(FinancialPriceSeriesView, _super);\n    function FinancialPriceSeriesView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.b0 = null;\n        _this.b3 = null;\n        _this.b6 = null;\n        _this.ck = ((function () {\n            var $ret = new Path();\n            $ret.ak = new GeometryGroup();\n            return $ret;\n        })());\n        _this.cj = ((function () {\n            var $ret = new Path();\n            $ret.ak = new GeometryGroup();\n            return $ret;\n        })());\n        _this.b1 = null;\n        _this.ci = new Path();\n        _this.b5 = false;\n        _this.b0 = a;\n        _this.b6 = new List$1(Path.$, 0);\n        _this.b3 = ((function () {\n            var $ret = new Pool$1(Path.$);\n            $ret.create = runOn(_this, _this.cl);\n            $ret.activate = runOn(_this, _this.cb);\n            $ret.disactivate = runOn(_this, _this.cd);\n            $ret.destroy = runOn(_this, _this.cc);\n            return $ret;\n        })());\n        return _this;\n    }\n    FinancialPriceSeriesView.prototype.cl = function () {\n        var a = new Path();\n        this.b6.add(a);\n        a._visibility = 1;\n        return a;\n    };\n    FinancialPriceSeriesView.prototype.cb = function (a) {\n        a._visibility = 0;\n    };\n    FinancialPriceSeriesView.prototype.cd = function (a) {\n        a._visibility = 1;\n    };\n    FinancialPriceSeriesView.prototype.cc = function (a) {\n        this.b6.remove(a);\n    };\n    FinancialPriceSeriesView.prototype.bv = function () {\n        return new FinancialPriceBucketCalculator(this);\n    };\n    FinancialPriceSeriesView.prototype.ap = function () {\n        _super.prototype.ap.call(this);\n        if (!this.n) {\n            this.bw.pf = ((function () {\n                var $ret = new Brush();\n                $ret.fill = \"#C62828\";\n                return $ret;\n            })());\n            this.b0.p5 = this.bw.pf;\n            this.bw.eu = 5;\n            this.bw.ey = 1;\n        }\n    };\n    Object.defineProperty(FinancialPriceSeriesView.prototype, \"b2\", {\n        get: function () {\n            if (this.b1 == null) {\n                this.b1 = CategoryTrendLineManagerFactory.a(this.b1, this.e.ap(), this.e.jy, this.e, this.e.b2);\n            }\n            return this.b1;\n        },\n        set: function (a) {\n            this.b1 = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FinancialPriceSeriesView.prototype, \"b4\", {\n        get: function () {\n            return this.b1 != null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FinancialPriceSeriesView.prototype.ce = function () {\n        if (this.b0.pl == 1) {\n            this.ck._stroke = this.e.k4;\n        }\n        else {\n            this.ck._stroke = this.e.k5;\n        }\n        if (this.b0.pl == 1) {\n            this.cj._stroke = this.bw.pf;\n        }\n        else {\n            this.cj._stroke = this.b0.p5;\n        }\n    };\n    FinancialPriceSeriesView.prototype.b8 = function () {\n        this.an();\n        this.b3.count = 0;\n        this.b7();\n    };\n    FinancialPriceSeriesView.prototype.b7 = function () {\n        var a = typeCast(GeometryGroup.$, this.ck.ak);\n        var b = typeCast(GeometryGroup.$, this.cj.ak);\n        Extensions.d(a);\n        Extensions.d(b);\n    };\n    FinancialPriceSeriesView.prototype.ch = function () {\n        this.an();\n        return typeCast(GeometryGroup.$, this.ck.ak);\n    };\n    FinancialPriceSeriesView.prototype.cg = function () {\n        this.an();\n        return typeCast(GeometryGroup.$, this.cj.ak);\n    };\n    FinancialPriceSeriesView.prototype.cf = function () {\n        this.b0.p4 = null;\n        if (this.b0.trendLineBrush != null) {\n            this.b0.p4 = this.b0.trendLineBrush;\n        }\n        else {\n            this.b0.p4 = this.b0.k4;\n        }\n    };\n    FinancialPriceSeriesView.prototype.a8 = function () {\n        _super.prototype.a8.call(this);\n        this.ck.ac = this.e.ey;\n        this.ck.ai = this.e.lc;\n        this.ck.ad = this.e.ld;\n        if (this.b0.pl == 1) {\n            this.ck._stroke = this.e.k4;\n        }\n        else {\n            this.ck._stroke = this.e.k5;\n            this.ck._fill = this.e.k4;\n        }\n        this.cj.ac = this.e.ey;\n        this.cj.ai = this.e.lc;\n        this.cj.ad = this.e.ld;\n        if (this.b0.pl == 1) {\n            this.cj._stroke = this.bw.pf;\n        }\n        else {\n            this.cj._stroke = this.b0.p5;\n            this.cj._fill = this.bw.pf;\n        }\n    };\n    FinancialPriceSeriesView.prototype.a9 = function () {\n        _super.prototype.a9.call(this);\n        var a = this.bl();\n        this.ck.ac = this.e.ey + 3;\n        if (this.b0.pl == 1) {\n            this.ck._stroke = a;\n        }\n        else {\n            this.ck._stroke = a;\n            this.ck._fill = a;\n        }\n        this.cj.ac = this.e.ey + 3;\n        if (this.b0.pl == 1) {\n            this.cj._stroke = a;\n        }\n        else {\n            this.cj._stroke = a;\n            this.cj._fill = a;\n        }\n    };\n    FinancialPriceSeriesView.prototype.z = function (a) {\n        return this.b6._inner[a];\n    };\n    FinancialPriceSeriesView.prototype.y = function (a) {\n        var b = this.b6._inner[a];\n        this.ci._visibility = b._visibility;\n        this.ci.ak = b.ak;\n        var c = this.bm(a);\n        this.ci._fill = c;\n        this.ci._stroke = c;\n        this.ci.ac = this.e.ey + 3;\n        return this.ci;\n    };\n    FinancialPriceSeriesView.prototype.a3 = function (a, b) {\n        _super.prototype.a3.call(this, a, b);\n        if (a.d) {\n            if (this.b5) {\n                for (var c = 0; c < this.b6.count; c++) {\n                    var d = this.x(c, b);\n                    if (d._visibility == 0) {\n                        a.s(d);\n                    }\n                }\n            }\n            else {\n                a.s(this.ck);\n                a.s(this.cj);\n            }\n        }\n    };\n    FinancialPriceSeriesView.prototype.a2 = function (a, b) {\n        if (a.d) {\n            if (this.b0.trendLineType != 0 && !b) {\n                var c = this.b2.g$j;\n                c.ac = this.b0.trendLineThickness;\n                c._stroke = this.b0.p4;\n                c.ai = this.b0.p6;\n                c.ad = this.b0.p7;\n                a.u(c);\n            }\n        }\n        _super.prototype.a2.call(this, a, b);\n    };\n    FinancialPriceSeriesView.prototype.ai = function (a) {\n        _super.prototype.ai.call(this, a);\n        this.e.a2.exportPathData(a, this.ck, \"positivePathShape\", [\"Positive\", \"Main\"]);\n        this.e.a2.exportPathData(a, this.cj, \"negativePathShape\", [\"Negative\"]);\n    };\n    FinancialPriceSeriesView.prototype.b9 = function () {\n        this.an();\n    };\n    FinancialPriceSeriesView.prototype.ca = function () {\n        if (this.b4) {\n            this.b1 = CategoryTrendLineManagerFactory.a(this.b1, this.e.ap(), this.e.jy, this.e, this.e.b2);\n        }\n    };\n    FinancialPriceSeriesView.$t = markType(FinancialPriceSeriesView, 'FinancialPriceSeriesView', FinancialSeriesView.$);\n    return FinancialPriceSeriesView;\n}(FinancialSeriesView));\nexport { FinancialPriceSeriesView };\n//# sourceMappingURL=FinancialPriceSeries_combined.js.map\n"]},"metadata":{},"sourceType":"module"}