{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, markType, getInstanceType } from \"./type\";\nimport { DataTemplateMeasureInfo } from \"./DataTemplateMeasureInfo\";\nimport { DataTemplateRenderInfo } from \"./DataTemplateRenderInfo\";\nimport { isNaN_ } from \"./number\";\nimport { stringEndsWith } from \"./string\";\nimport { numberToString2 } from \"./numberExtended\";\n/**\n * @hidden\n */\n\nvar LegendItemHelper =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(LegendItemHelper, _super);\n\n  function LegendItemHelper() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(LegendItemHelper, \"b\", {\n    get: function () {\n      if (isNaN_(LegendItemHelper.a)) {\n        LegendItemHelper.a = window.devicePixelRatio == undefined ? 1 : window.devicePixelRatio;\n      }\n\n      return LegendItemHelper.a;\n    },\n    set: function (a) {\n      LegendItemHelper.a = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  LegendItemHelper.c = function (a, b, c, d, e, f, g, h, i) {\n    LegendItemHelper.d(a, b, c, d, e, f, g, h, i, false);\n  };\n\n  LegendItemHelper.d = function (a, b, c, d, e, f, g, h, i, j) {\n    var k = [];\n\n    for (var _i = 10; _i < arguments.length; _i++) {\n      k[_i - 10] = arguments[_i];\n    }\n\n    var l = a;\n    var m = f;\n\n    if (m != null && m.series != null) {\n      if (h != null) {\n        var n = 18,\n            o = 16;\n        var p = l.createElement(\"canvas\");\n\n        if (j) {\n          p.setStyleProperty(\"vertical-align\", \"middle\");\n        }\n\n        p.setAttribute(\"width\", (n * LegendItemHelper.b).toString());\n        p.setAttribute(\"height\", (o * LegendItemHelper.b).toString());\n        p.setStyleProperty(\"width\", n.toString() + \"px\");\n        p.setStyleProperty(\"height\", o.toString() + \"px\");\n        var q = j ? l.createElement(\"span\") : l.createElement(\"td\");\n        q.addClass(\"ui-legend-item-badge\");\n        q.append(p);\n        var r = l.get2DCanvasContext(p);\n        var s = new DataTemplateMeasureInfo();\n        s.passInfo = i;\n        s.context = r;\n        s.width = n;\n        s.height = o;\n        s.data = m;\n        h.measure(s);\n        var t = new DataTemplateRenderInfo();\n        t.availableWidth = isNaN_(s.width) ? n : Math.min(s.width, n);\n        t.availableHeight = isNaN_(s.height) ? o : Math.min(s.height, o);\n        t.passInfo = i;\n        t.context = r;\n        t.data = m;\n        t.xPosition = 0;\n        t.yPosition = 0;\n\n        if (LegendItemHelper.b != 1) {\n          r.save();\n          r.scale(LegendItemHelper.b, LegendItemHelper.b);\n        }\n\n        h.render(t);\n\n        if (LegendItemHelper.b != 1) {\n          r.restore();\n        }\n\n        l.append(q);\n      }\n\n      if (j) {\n        var u = l.createElement(\"label\");\n        u.addClass(\"ui-legend-item-text\");\n        u.setText(g);\n        l.append(u);\n        var v = k[0];\n        var w = k[1];\n        var x = stringEndsWith(getInstanceType(m.series).typeName, \"Overlay\");\n\n        if (!isNaN_(v) && !x) {\n          u.setText(u.getText() + \": \");\n          var y = l.createElement(\"label\");\n          y.setStyleProperty(\"font-weight\", \"bold\");\n          y.setText(numberToString2(v, \"0.00\") + (isNaN_(w) ? \"\" : \" \"));\n          l.append(y);\n        }\n\n        if (!isNaN_(w) && !x) {\n          var z = l.createElement(\"label\");\n          z.setText(\"(\" + numberToString2(w, \"0.00\") + \"%)\");\n          l.append(z);\n        }\n      } else {\n        var aa = l.createElement(\"td\");\n        var ab = l.createElement(\"span\");\n        ab.setText(g);\n        aa.append(ab);\n        aa.addClass(\"ui-legend-item-text\");\n        l.append(aa);\n      }\n    }\n  };\n\n  LegendItemHelper.$t = markType(LegendItemHelper, 'LegendItemHelper');\n  LegendItemHelper.a = NaN;\n  return LegendItemHelper;\n}(Base);\n\nexport { LegendItemHelper };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/LegendItemHelper.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, markType, getInstanceType } from \"./type\";\nimport { DataTemplateMeasureInfo } from \"./DataTemplateMeasureInfo\";\nimport { DataTemplateRenderInfo } from \"./DataTemplateRenderInfo\";\nimport { isNaN_ } from \"./number\";\nimport { stringEndsWith } from \"./string\";\nimport { numberToString2 } from \"./numberExtended\";\n/**\n * @hidden\n */\nvar LegendItemHelper = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(LegendItemHelper, _super);\n    function LegendItemHelper() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(LegendItemHelper, \"b\", {\n        get: function () {\n            if (isNaN_(LegendItemHelper.a)) {\n                LegendItemHelper.a = window.devicePixelRatio == undefined ? 1 : window.devicePixelRatio;\n            }\n            return LegendItemHelper.a;\n        },\n        set: function (a) {\n            LegendItemHelper.a = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LegendItemHelper.c = function (a, b, c, d, e, f, g, h, i) {\n        LegendItemHelper.d(a, b, c, d, e, f, g, h, i, false);\n    };\n    LegendItemHelper.d = function (a, b, c, d, e, f, g, h, i, j) {\n        var k = [];\n        for (var _i = 10; _i < arguments.length; _i++) {\n            k[_i - 10] = arguments[_i];\n        }\n        var l = a;\n        var m = f;\n        if (m != null && m.series != null) {\n            if (h != null) {\n                var n = 18, o = 16;\n                var p = l.createElement(\"canvas\");\n                if (j) {\n                    p.setStyleProperty(\"vertical-align\", \"middle\");\n                }\n                p.setAttribute(\"width\", (n * LegendItemHelper.b).toString());\n                p.setAttribute(\"height\", (o * LegendItemHelper.b).toString());\n                p.setStyleProperty(\"width\", n.toString() + \"px\");\n                p.setStyleProperty(\"height\", o.toString() + \"px\");\n                var q = j ? l.createElement(\"span\") : l.createElement(\"td\");\n                q.addClass(\"ui-legend-item-badge\");\n                q.append(p);\n                var r = l.get2DCanvasContext(p);\n                var s = new DataTemplateMeasureInfo();\n                s.passInfo = i;\n                s.context = r;\n                s.width = n;\n                s.height = o;\n                s.data = m;\n                h.measure(s);\n                var t = new DataTemplateRenderInfo();\n                t.availableWidth = (isNaN_(s.width) ? n : Math.min(s.width, n));\n                t.availableHeight = (isNaN_(s.height) ? o : Math.min(s.height, o));\n                t.passInfo = i;\n                t.context = r;\n                t.data = m;\n                t.xPosition = 0;\n                t.yPosition = 0;\n                if (LegendItemHelper.b != 1) {\n                    r.save();\n                    r.scale(LegendItemHelper.b, LegendItemHelper.b);\n                }\n                h.render(t);\n                if (LegendItemHelper.b != 1) {\n                    r.restore();\n                }\n                l.append(q);\n            }\n            if (j) {\n                var u = l.createElement(\"label\");\n                u.addClass(\"ui-legend-item-text\");\n                u.setText(g);\n                l.append(u);\n                var v = k[0];\n                var w = k[1];\n                var x = stringEndsWith(getInstanceType(m.series).typeName, \"Overlay\");\n                if (!isNaN_(v) && !x) {\n                    u.setText(u.getText() + \": \");\n                    var y = l.createElement(\"label\");\n                    y.setStyleProperty(\"font-weight\", \"bold\");\n                    y.setText(numberToString2(v, \"0.00\") + (isNaN_(w) ? \"\" : \" \"));\n                    l.append(y);\n                }\n                if (!isNaN_(w) && !x) {\n                    var z = l.createElement(\"label\");\n                    z.setText(\"(\" + numberToString2(w, \"0.00\") + \"%)\");\n                    l.append(z);\n                }\n            }\n            else {\n                var aa = l.createElement(\"td\");\n                var ab = l.createElement(\"span\");\n                ab.setText(g);\n                aa.append(ab);\n                aa.addClass(\"ui-legend-item-text\");\n                l.append(aa);\n            }\n        }\n    };\n    LegendItemHelper.$t = markType(LegendItemHelper, 'LegendItemHelper');\n    LegendItemHelper.a = NaN;\n    return LegendItemHelper;\n}(Base));\nexport { LegendItemHelper };\n//# sourceMappingURL=LegendItemHelper.js.map\n"]},"metadata":{},"sourceType":"module"}