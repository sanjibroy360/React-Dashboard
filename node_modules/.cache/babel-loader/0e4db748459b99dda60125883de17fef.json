{"ast":null,"code":"//\n// XmlNamespaceManager.cs\n//\n// Authors:\n//   Jason Diamond (jason@injektilo.org)\n//   Ben Maurer (bmaurer@users.sourceforge.net)\n//   Atsushi Enomoto (atsushi@ximian.com)\n//\n// (C) 2001 Jason Diamond  http://injektilo.org/\n// (C) 2003 Ben Maurer\n// (C) 2004 Novell Inc.\n//\nimport * as tslib_1 from \"tslib\"; //\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n// \n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { Base, IEnumerable_$type, markType, getEnumerator } from \"./type\";\nimport { IXmlNamespaceResolver_$type } from \"./IXmlNamespaceResolver\";\nimport { XmlNamespaceManager_NsDecl } from \"./XmlNamespaceManager_NsDecl\";\nimport { XmlNamespaceManager_NsScope } from \"./XmlNamespaceManager_NsScope\";\nimport { ArgumentNullException } from \"./ArgumentNullException\";\nimport { ArgumentException } from \"./ArgumentException\";\nimport { Hashtable } from \"./Hashtable\";\nimport { arrayCopy1 } from \"./arrayExtended\";\nimport { stringEmpty } from \"./string\";\nimport { stringFormat } from \"./stringExtended\";\n/**\n * @hidden\n */\n\nvar XmlNamespaceManager =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(XmlNamespaceManager, _super);\n\n  function XmlNamespaceManager(a) {\n    var _this = _super.call(this) || this;\n\n    _this.a = null;\n    _this.k = -1;\n    _this.b = null;\n    _this.l = -1;\n    _this.m = null;\n    _this.j = 0;\n    _this.af = null;\n    _this.f = false;\n\n    if (a == null) {\n      throw new ArgumentNullException(0, \"nameTable\");\n    }\n\n    _this.af = a;\n    a.b(\"xmlns\");\n    a.b(\"xml\");\n    a.b(stringEmpty());\n    a.b(\"http://www.w3.org/2000/xmlns/\");\n    a.b(\"http://www.w3.org/XML/1998/namespace\");\n\n    _this.ab();\n\n    return _this;\n  }\n\n  XmlNamespaceManager.prototype.ab = function () {\n    this.a = new Array(10);\n    this.b = new Array(40);\n\n    for (var a = 0; a < this.a.length; a++) {\n      this.a[a] = new XmlNamespaceManager_NsDecl();\n    }\n\n    for (var b = 0; b < this.b.length; b++) {\n      this.b[b] = new XmlNamespaceManager_NsScope();\n    }\n  };\n\n  XmlNamespaceManager.prototype.z = function () {\n    var a = this.a;\n    this.a = new Array(this.k * 2 + 1);\n\n    if (this.k > 0) {\n      arrayCopy1(a, 0, this.a, 0, this.k);\n    }\n\n    for (var b = this.k; b < this.a.length; b++) {\n      this.a[b] = new XmlNamespaceManager_NsDecl();\n    }\n  };\n\n  XmlNamespaceManager.prototype.aa = function () {\n    var a = this.b;\n    this.b = new Array(this.l * 2 + 1);\n\n    if (this.l > 0) {\n      arrayCopy1(a, 0, this.b, 0, this.l);\n    }\n\n    for (var b = this.l; b < this.b.length; b++) {\n      this.b[b] = new XmlNamespaceManager_NsScope();\n    }\n  };\n\n  XmlNamespaceManager.prototype.get_n = function () {\n    return this.m == null ? stringEmpty() : this.m;\n  };\n\n  Object.defineProperty(XmlNamespaceManager.prototype, \"n\", {\n    get: function () {\n      return this.get_n();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(XmlNamespaceManager.prototype, \"ag\", {\n    get: function () {\n      return this.af;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  XmlNamespaceManager.prototype.x = function (a, b) {\n    this.y(a, b, false);\n  };\n\n  XmlNamespaceManager.prototype.y = function (a, b, c) {\n    if (a == null) {\n      throw new ArgumentNullException(0, \"prefix Value cannot be null.\");\n    }\n\n    if (b == null) {\n      throw new ArgumentNullException(0, \"uri Value cannot be null.\");\n    }\n\n    if (!c) {\n      a = this.af.b(a);\n      b = this.af.b(b);\n    }\n\n    if (a == \"xml\" && b == \"http://www.w3.org/XML/1998/namespace\") {\n      return;\n    }\n\n    XmlNamespaceManager.o(a, b, true);\n\n    if (a.length == 0) {\n      this.m = b;\n    }\n\n    for (var d = this.k; d > this.k - this.j; d--) {\n      if (Base.referenceEquals(this.a[d].a, a)) {\n        this.a[d].b = b;\n        return;\n      }\n    }\n\n    this.k++;\n    this.j++;\n\n    if (this.k == this.a.length) {\n      this.z();\n    }\n\n    this.a[this.k].a = a;\n    this.a[this.k].b = b;\n  };\n\n  XmlNamespaceManager.o = function (a, b, c) {\n    var d = null;\n\n    if (a == \"xml\" && b != \"http://www.w3.org/XML/1998/namespace\") {\n      d = stringFormat(\"Prefix \\\"xml\\\" can only be bound to the fixed namespace URI \\\"{0}\\\". \\\"{1}\\\" is invalid.\", \"http://www.w3.org/XML/1998/namespace\", b);\n    } else if (d == null && a == \"xmlns\") {\n      d = \"Declaring prefix named \\\"xmlns\\\" is not allowed to any namespace.\";\n    } else if (d == null && b == \"http://www.w3.org/2000/xmlns/\") {\n      d = stringFormat(\"Namespace URI \\\"{0}\\\" cannot be declared with any namespace.\", \"http://www.w3.org/2000/xmlns/\");\n    }\n\n    if (d != null && c) {\n      throw new ArgumentException(1, d);\n    } else {\n      return d;\n    }\n  };\n\n  XmlNamespaceManager.prototype.getEnumeratorObject = function () {\n    var a = new Hashtable();\n\n    for (var b = 0; b <= this.k; b++) {\n      if (this.a[b].a != stringEmpty() && this.a[b].b != null) {\n        a.item(this.a[b].a, this.a[b].b);\n      }\n    }\n\n    a.item(stringEmpty(), this.n);\n    a.item(\"xml\", \"http://www.w3.org/XML/1998/namespace\");\n    a.item(\"xmlns\", \"http://www.w3.org/2000/xmlns/\");\n    return getEnumerator(a.c);\n  };\n\n  XmlNamespaceManager.prototype.getNamespacesInScope = function (a) {\n    return this.i(a);\n  };\n\n  XmlNamespaceManager.prototype.i = function (a) {\n    var b = new Hashtable();\n\n    if (a == 2) {\n      for (var c = 0; c < this.j; c++) {\n        if (this.a[this.k - c].a == stringEmpty() && this.a[this.k - c].b == stringEmpty()) {\n          if (b.a(stringEmpty())) {\n            b.f(stringEmpty());\n          }\n        } else if (this.a[this.k - c].b != null) {\n          b.e(this.a[this.k - c].a, this.a[this.k - c].b);\n        }\n      }\n\n      return b;\n    } else {\n      for (var d = 0; d <= this.k; d++) {\n        if (this.a[d].a == stringEmpty() && this.a[d].b == stringEmpty()) {\n          if (b.a(stringEmpty())) {\n            b.f(stringEmpty());\n          }\n        } else if (this.a[d].b != null) {\n          b.item(this.a[d].a, this.a[d].b);\n        }\n      }\n\n      if (a == 0) {\n        b.e(\"xml\", \"http://www.w3.org/XML/1998/namespace\");\n      }\n\n      return b;\n    }\n  };\n\n  XmlNamespaceManager.prototype.d = function (a) {\n    return this.e(a, false);\n  };\n\n  XmlNamespaceManager.prototype.e = function (a, b) {\n    if (a == null || this.j == 0) {\n      return false;\n    }\n\n    for (var c = this.k; c > this.k - this.j; c--) {\n      if (this.a[c].a == a) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  XmlNamespaceManager.prototype.lookupNamespace = function (a) {\n    switch (a) {\n      case \"xmlns\":\n        return this.af.d(\"http://www.w3.org/2000/xmlns/\");\n\n      case \"xml\":\n        return this.af.d(\"http://www.w3.org/XML/1998/namespace\");\n\n      case \"\":\n        return this.n;\n\n      case null:\n        return null;\n    }\n\n    for (var b = this.k; b >= 0; b--) {\n      if (this.c(this.a[b].a, a, this.f) && this.a[b].b != null) {\n        return this.a[b].b;\n      }\n    }\n\n    return null;\n  };\n\n  XmlNamespaceManager.prototype.lookupNamespace1 = function (a, b) {\n    this.f = b;\n    var c = this.lookupNamespace(a);\n    this.f = false;\n    return c;\n  };\n\n  XmlNamespaceManager.prototype.lookupPrefix = function (a) {\n    return this.lookupPrefix1(a, true);\n  };\n\n  XmlNamespaceManager.prototype.c = function (a, b, c) {\n    if (c) {\n      return Base.referenceEquals(a, b);\n    } else {\n      return a == b;\n    }\n  };\n\n  XmlNamespaceManager.prototype.lookupPrefix1 = function (a, b) {\n    return this.r(a, b, false);\n  };\n\n  XmlNamespaceManager.prototype.s = function (a, b) {\n    return this.r(a, b, true);\n  };\n\n  XmlNamespaceManager.prototype.r = function (a, b, c) {\n    if (a == null) {\n      return null;\n    }\n\n    if (this.c(a, this.n, b)) {\n      return stringEmpty();\n    }\n\n    if (this.c(a, \"http://www.w3.org/XML/1998/namespace\", b)) {\n      return \"xml\";\n    }\n\n    if (this.c(a, \"http://www.w3.org/2000/xmlns/\", b)) {\n      return \"xmlns\";\n    }\n\n    for (var d = this.k; d >= 0; d--) {\n      if (this.c(this.a[d].b, a, b) && this.a[d].a.length > 0) {\n        if (!c || !this.g(d)) {\n          return this.a[d].a;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  XmlNamespaceManager.prototype.g = function (a) {\n    if (a == this.k) {\n      return false;\n    }\n\n    var b = this.a[a + 1].a;\n\n    for (var c = a + 1; c <= this.k; c++) {\n      if (this.a[a].a == b) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  XmlNamespaceManager.prototype.h = function () {\n    if (this.l == -1) {\n      return false;\n    }\n\n    this.k -= this.j;\n    this.m = this.b[this.l].b;\n    this.j = this.b[this.l].a;\n    this.l--;\n    return true;\n  };\n\n  XmlNamespaceManager.prototype.ac = function () {\n    this.l++;\n\n    if (this.l == this.b.length) {\n      this.aa();\n    }\n\n    this.b[this.l].b = this.m;\n    this.b[this.l].a = this.j;\n    this.j = 0;\n  };\n\n  XmlNamespaceManager.prototype.ad = function (a, b) {\n    this.ae(a, b, false);\n  };\n\n  XmlNamespaceManager.prototype.ae = function (a, b, c) {\n    if (a == null) {\n      throw new ArgumentNullException(0, \"prefix\");\n    }\n\n    if (b == null) {\n      throw new ArgumentNullException(0, \"uri\");\n    }\n\n    if (this.j == 0) {\n      return;\n    }\n\n    for (var d = this.k; d > this.k - this.j; d--) {\n      if (this.c(this.a[d].a, a, c) && this.c(this.a[d].b, b, c)) {\n        this.a[d].b = null;\n      }\n    }\n  };\n\n  XmlNamespaceManager.$t = markType(XmlNamespaceManager, 'XmlNamespaceManager', Base.$, [IXmlNamespaceResolver_$type, IEnumerable_$type]);\n  return XmlNamespaceManager;\n}(Base);\n\nexport { XmlNamespaceManager };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/XmlNamespaceManager.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;kCAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAS,IAAT,EAA4B,iBAA5B,EAAyJ,QAAzJ,EAAmK,aAAnK,QAAwL,QAAxL;AACA,SAAgC,2BAAhC,QAAmE,yBAAnE;AAEA,SAAS,0BAAT,QAA2C,8BAA3C;AACA,SAAS,2BAAT,QAA4C,+BAA5C;AACA,SAAS,qBAAT,QAAsC,yBAAtC;AACA,SAAS,iBAAT,QAAkC,qBAAlC;AACA,SAAS,SAAT,QAA0B,aAA1B;AAEA,SAAS,UAAT,QAA2B,iBAA3B;AACA,SAAS,WAAT,QAA4B,UAA5B;AACA,SAAS,YAAT,QAA6B,kBAA7B;AAEA;;;;AAGA,IAAA,mBAAA;AAAA;;AAAA;AAAA,UAAA,MAAA,EAAA;AAAyC,EAAA,OAAA,CAAA,SAAA,CAAA,mBAAA,EAAA,MAAA;;AAwCxC,WAAA,mBAAA,CAAY,CAAZ,EAA2B;AAA3B,QAAA,KAAA,GACC,MAAA,CAAA,IAAA,CAAA,IAAA,KAAO,IADR;;AAtCQ,IAAA,KAAA,CAAA,CAAA,GAAkC,IAAlC;AACA,IAAA,KAAA,CAAA,CAAA,GAAY,CAAC,CAAb;AACA,IAAA,KAAA,CAAA,CAAA,GAAmC,IAAnC;AACA,IAAA,KAAA,CAAA,CAAA,GAAY,CAAC,CAAb;AACA,IAAA,KAAA,CAAA,CAAA,GAAY,IAAZ;AACA,IAAA,KAAA,CAAA,CAAA,GAAY,CAAZ;AA+BA,IAAA,KAAA,CAAA,EAAA,GAAmB,IAAnB;AACR,IAAA,KAAA,CAAA,CAAA,GAAa,KAAb;;AAGC,QAAI,CAAC,IAAI,IAAT,EAAe;AACd,YAAM,IAAI,qBAAJ,CAA0B,CAA1B,EAA6B,WAA7B,CAAN;AACA;;AACD,IAAA,KAAI,CAAC,EAAL,GAAU,CAAV;AACA,IAAA,CAAC,CAAC,CAAF,CAAI,OAAJ;AACA,IAAA,CAAC,CAAC,CAAF,CAAI,KAAJ;AACA,IAAA,CAAC,CAAC,CAAF,CAAI,WAAW,EAAf;AACA,IAAA,CAAC,CAAC,CAAF,CAAI,+BAAJ;AACA,IAAA,CAAC,CAAC,CAAF,CAAI,sCAAJ;;AACA,IAAA,KAAI,CAAC,EAAL;;;AACA;;AA5CO,EAAA,mBAAA,CAAA,SAAA,CAAA,EAAA,GAAR,YAAA;AACC,SAAK,CAAL,GAAuC,IAAI,KAAJ,CAAU,EAAV,CAAvC;AACA,SAAK,CAAL,GAAwC,IAAI,KAAJ,CAAU,EAAV,CAAxC;;AACA,SAAK,IAAI,CAAC,GAAW,CAArB,EAAwB,CAAC,GAAG,KAAK,CAAL,CAAO,MAAnC,EAA2C,CAAC,EAA5C,EAAgD;AAC/C,WAAK,CAAL,CAAO,CAAP,IAAY,IAAI,0BAAJ,EAAZ;AACA;;AACD,SAAK,IAAI,CAAC,GAAW,CAArB,EAAwB,CAAC,GAAG,KAAK,CAAL,CAAO,MAAnC,EAA2C,CAAC,EAA5C,EAAgD;AAC/C,WAAK,CAAL,CAAO,CAAP,IAAY,IAAI,2BAAJ,EAAZ;AACA;AACD,GATO;;AAUA,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAR,YAAA;AACC,QAAI,CAAC,GAAiC,KAAK,CAA3C;AACA,SAAK,CAAL,GAAuC,IAAI,KAAJ,CAAU,KAAK,CAAL,GAAS,CAAT,GAAa,CAAvB,CAAvC;;AACA,QAAI,KAAK,CAAL,GAAS,CAAb,EAAgB;AACf,MAAA,UAAU,CAAC,CAAD,EAAI,CAAJ,EAAO,KAAK,CAAZ,EAAe,CAAf,EAAkB,KAAK,CAAvB,CAAV;AACA;;AACD,SAAK,IAAI,CAAC,GAAW,KAAK,CAA1B,EAA6B,CAAC,GAAG,KAAK,CAAL,CAAO,MAAxC,EAAgD,CAAC,EAAjD,EAAqD;AACpD,WAAK,CAAL,CAAO,CAAP,IAAY,IAAI,0BAAJ,EAAZ;AACA;AACD,GATO;;AAUA,EAAA,mBAAA,CAAA,SAAA,CAAA,EAAA,GAAR,YAAA;AACC,QAAI,CAAC,GAAkC,KAAK,CAA5C;AACA,SAAK,CAAL,GAAwC,IAAI,KAAJ,CAAU,KAAK,CAAL,GAAS,CAAT,GAAa,CAAvB,CAAxC;;AACA,QAAI,KAAK,CAAL,GAAS,CAAb,EAAgB;AACf,MAAA,UAAU,CAAC,CAAD,EAAI,CAAJ,EAAO,KAAK,CAAZ,EAAe,CAAf,EAAkB,KAAK,CAAvB,CAAV;AACA;;AACD,SAAK,IAAI,CAAC,GAAW,KAAK,CAA1B,EAA6B,CAAC,GAAG,KAAK,CAAL,CAAO,MAAxC,EAAgD,CAAC,EAAjD,EAAqD;AACpD,WAAK,CAAL,CAAO,CAAP,IAAY,IAAI,2BAAJ,EAAZ;AACA;AACD,GATO;;AAyBE,EAAA,mBAAA,CAAA,SAAA,CAAA,KAAA,GAAV,YAAA;AACC,WAAO,KAAK,CAAL,IAAU,IAAV,GAAiB,WAAW,EAA5B,GAAiC,KAAK,CAA7C;AACA,GAFS;;AAGV,EAAA,MAAA,CAAA,cAAA,CAAI,mBAAA,CAAA,SAAJ,EAAI,GAAJ,EAAK;SAAL,YAAA;AACC,aAAO,KAAK,KAAL,EAAP;AACA,KAFI;oBAAA;;AAAA,GAAL;AAGA,EAAA,MAAA,CAAA,cAAA,CAAI,mBAAA,CAAA,SAAJ,EAAI,IAAJ,EAAM;SAAN,YAAA;AACC,aAAO,KAAK,EAAZ;AACA,KAFK;oBAAA;;AAAA,GAAN;;AAGA,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAA,UAAE,CAAF,EAAa,CAAb,EAAsB;AACrB,SAAK,CAAL,CAAO,CAAP,EAAU,CAAV,EAAa,KAAb;AACA,GAFD;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAR,UAAU,CAAV,EAAqB,CAArB,EAAgC,CAAhC,EAA0C;AACzC,QAAI,CAAC,IAAI,IAAT,EAAe;AACd,YAAM,IAAI,qBAAJ,CAA0B,CAA1B,EAA6B,8BAA7B,CAAN;AACA;;AACD,QAAI,CAAC,IAAI,IAAT,EAAe;AACd,YAAM,IAAI,qBAAJ,CAA0B,CAA1B,EAA6B,2BAA7B,CAAN;AACA;;AACD,QAAI,CAAC,CAAL,EAAQ;AACP,MAAA,CAAC,GAAG,KAAK,EAAL,CAAQ,CAAR,CAAU,CAAV,CAAJ;AACA,MAAA,CAAC,GAAG,KAAK,EAAL,CAAQ,CAAR,CAAU,CAAV,CAAJ;AACA;;AACD,QAAI,CAAC,IAAI,KAAL,IAAc,CAAC,IAAI,sCAAvB,EAA+D;AAC9D;AACA;;AACD,IAAA,mBAAmB,CAAC,CAApB,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,IAA5B;;AACA,QAAI,CAAC,CAAC,MAAF,IAAY,CAAhB,EAAmB;AAClB,WAAK,CAAL,GAAS,CAAT;AACA;;AACD,SAAK,IAAI,CAAC,GAAW,KAAK,CAA1B,EAA6B,CAAC,GAAG,KAAK,CAAL,GAAS,KAAK,CAA/C,EAAkD,CAAC,EAAnD,EAAuD;AACtD,UAAI,IAAI,CAAC,eAAL,CAAqB,KAAK,CAAL,CAAO,CAAP,EAAU,CAA/B,EAAkC,CAAlC,CAAJ,EAA0C;AACzC,aAAK,CAAL,CAAO,CAAP,EAAU,CAAV,GAAc,CAAd;AACA;AACA;AACD;;AACD,SAAK,CAAL;AACA,SAAK,CAAL;;AACA,QAAI,KAAK,CAAL,IAAU,KAAK,CAAL,CAAO,MAArB,EAA6B;AAC5B,WAAK,CAAL;AACA;;AACD,SAAK,CAAL,CAAO,KAAK,CAAZ,EAAe,CAAf,GAAmB,CAAnB;AACA,SAAK,CAAL,CAAO,KAAK,CAAZ,EAAe,CAAf,GAAmB,CAAnB;AACA,GA/BO;;AAgCO,EAAA,mBAAA,CAAA,CAAA,GAAf,UAAiB,CAAjB,EAA4B,CAA5B,EAAuC,CAAvC,EAAiD;AAChD,QAAI,CAAC,GAAW,IAAhB;;AACA,QAAI,CAAC,IAAI,KAAL,IAAc,CAAC,IAAI,sCAAvB,EAA+D;AAC9D,MAAA,CAAC,GAAG,YAAY,CAAC,0FAAD,EAA6F,sCAA7F,EAAqI,CAArI,CAAhB;AACA,KAFD,MAEO,IAAI,CAAC,IAAI,IAAL,IAAa,CAAC,IAAI,OAAtB,EAA+B;AACrC,MAAA,CAAC,GAAG,mEAAJ;AACA,KAFM,MAEA,IAAI,CAAC,IAAI,IAAL,IAAa,CAAC,IAAI,+BAAtB,EAAuD;AAC7D,MAAA,CAAC,GAAG,YAAY,CAAC,8DAAD,EAAiE,+BAAjE,CAAhB;AACA;;AACD,QAAI,CAAC,IAAI,IAAL,IAAa,CAAjB,EAAoB;AACnB,YAAM,IAAI,iBAAJ,CAAsB,CAAtB,EAAyB,CAAzB,CAAN;AACA,KAFD,MAEO;AACN,aAAO,CAAP;AACA;AACD,GAdc;;AAef,EAAA,mBAAA,CAAA,SAAA,CAAA,mBAAA,GAAA,YAAA;AACC,QAAI,CAAC,GAAc,IAAI,SAAJ,EAAnB;;AACA,SAAK,IAAI,CAAC,GAAW,CAArB,EAAwB,CAAC,IAAI,KAAK,CAAlC,EAAqC,CAAC,EAAtC,EAA0C;AACzC,UAAI,KAAK,CAAL,CAAO,CAAP,EAAU,CAAV,IAAe,WAAW,EAA1B,IAAgC,KAAK,CAAL,CAAO,CAAP,EAAU,CAAV,IAAe,IAAnD,EAAyD;AACxD,QAAA,CAAC,CAAC,IAAF,CAAO,KAAK,CAAL,CAAO,CAAP,EAAU,CAAjB,EAAoB,KAAK,CAAL,CAAO,CAAP,EAAU,CAA9B;AACA;AACD;;AACD,IAAA,CAAC,CAAC,IAAF,CAAO,WAAW,EAAlB,EAAsB,KAAK,CAA3B;AACA,IAAA,CAAC,CAAC,IAAF,CAAO,KAAP,EAAc,sCAAd;AACA,IAAA,CAAC,CAAC,IAAF,CAAO,OAAP,EAAgB,+BAAhB;AACA,WAAO,aAAa,CAAC,CAAC,CAAC,CAAH,CAApB;AACA,GAXD;;AAYA,EAAA,mBAAA,CAAA,SAAA,CAAA,oBAAA,GAAA,UAAqB,CAArB,EAAyC;AACxC,WAAO,KAAK,CAAL,CAAO,CAAP,CAAP;AACA,GAFD;;AAGA,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAA,UAAE,CAAF,EAAsB;AACrB,QAAI,CAAC,GAAc,IAAI,SAAJ,EAAnB;;AACA,QAAI,CAAC,IAAI,CAAT,EAAY;AACX,WAAK,IAAI,CAAC,GAAW,CAArB,EAAwB,CAAC,GAAG,KAAK,CAAjC,EAAoC,CAAC,EAArC,EAAyC;AACxC,YAAI,KAAK,CAAL,CAAO,KAAK,CAAL,GAAS,CAAhB,EAAmB,CAAnB,IAAwB,WAAW,EAAnC,IAAyC,KAAK,CAAL,CAAO,KAAK,CAAL,GAAS,CAAhB,EAAmB,CAAnB,IAAwB,WAAW,EAAhF,EAAoF;AACnF,cAAI,CAAC,CAAC,CAAF,CAAI,WAAW,EAAf,CAAJ,EAAwB;AACvB,YAAA,CAAC,CAAC,CAAF,CAAI,WAAW,EAAf;AACA;AACD,SAJD,MAIO,IAAI,KAAK,CAAL,CAAO,KAAK,CAAL,GAAS,CAAhB,EAAmB,CAAnB,IAAwB,IAA5B,EAAkC;AACxC,UAAA,CAAC,CAAC,CAAF,CAAI,KAAK,CAAL,CAAO,KAAK,CAAL,GAAS,CAAhB,EAAmB,CAAvB,EAA0B,KAAK,CAAL,CAAO,KAAK,CAAL,GAAS,CAAhB,EAAmB,CAA7C;AACA;AACD;;AACD,aAAO,CAAP;AACA,KAXD,MAWO;AACN,WAAK,IAAI,CAAC,GAAW,CAArB,EAAwB,CAAC,IAAI,KAAK,CAAlC,EAAqC,CAAC,EAAtC,EAA0C;AACzC,YAAI,KAAK,CAAL,CAAO,CAAP,EAAU,CAAV,IAAe,WAAW,EAA1B,IAAgC,KAAK,CAAL,CAAO,CAAP,EAAU,CAAV,IAAe,WAAW,EAA9D,EAAkE;AACjE,cAAI,CAAC,CAAC,CAAF,CAAI,WAAW,EAAf,CAAJ,EAAwB;AACvB,YAAA,CAAC,CAAC,CAAF,CAAI,WAAW,EAAf;AACA;AACD,SAJD,MAIO,IAAI,KAAK,CAAL,CAAO,CAAP,EAAU,CAAV,IAAe,IAAnB,EAAyB;AAC/B,UAAA,CAAC,CAAC,IAAF,CAAO,KAAK,CAAL,CAAO,CAAP,EAAU,CAAjB,EAAoB,KAAK,CAAL,CAAO,CAAP,EAAU,CAA9B;AACA;AACD;;AACD,UAAI,CAAC,IAAI,CAAT,EAAY;AACX,QAAA,CAAC,CAAC,CAAF,CAAI,KAAJ,EAAW,sCAAX;AACA;;AACD,aAAO,CAAP;AACA;AACD,GA5BD;;AA6BA,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAA,UAAE,CAAF,EAAW;AACV,WAAO,KAAK,CAAL,CAAO,CAAP,EAAU,KAAV,CAAP;AACA,GAFD;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAR,UAAU,CAAV,EAAqB,CAArB,EAA+B;AAC9B,QAAI,CAAC,IAAI,IAAL,IAAa,KAAK,CAAL,IAAU,CAA3B,EAA8B;AAC7B,aAAO,KAAP;AACA;;AACD,SAAK,IAAI,CAAC,GAAW,KAAK,CAA1B,EAA6B,CAAC,GAAG,KAAK,CAAL,GAAS,KAAK,CAA/C,EAAkD,CAAC,EAAnD,EAAuD;AACtD,UAAI,KAAK,CAAL,CAAO,CAAP,EAAU,CAAV,IAAe,CAAnB,EAAsB;AACrB,eAAO,IAAP;AACA;AACD;;AACD,WAAO,KAAP;AACA,GAVO;;AAWR,EAAA,mBAAA,CAAA,SAAA,CAAA,eAAA,GAAA,UAAgB,CAAhB,EAAyB;AACxB,YAAQ,CAAR;AACC,WAAK,OAAL;AAAc,eAAO,KAAK,EAAL,CAAQ,CAAR,CAAU,+BAAV,CAAP;;AACd,WAAK,KAAL;AAAY,eAAO,KAAK,EAAL,CAAQ,CAAR,CAAU,sCAAV,CAAP;;AACZ,WAAK,EAAL;AAAS,eAAO,KAAK,CAAZ;;AACT,WAAK,IAAL;AAAW,eAAO,IAAP;AAJZ;;AAOA,SAAK,IAAI,CAAC,GAAW,KAAK,CAA1B,EAA6B,CAAC,IAAI,CAAlC,EAAqC,CAAC,EAAtC,EAA0C;AACzC,UAAI,KAAK,CAAL,CAAO,KAAK,CAAL,CAAO,CAAP,EAAU,CAAjB,EAAoB,CAApB,EAAuB,KAAK,CAA5B,KAAkC,KAAK,CAAL,CAAO,CAAP,EAAU,CAAV,IAAe,IAArD,EAA2D;AAC1D,eAAO,KAAK,CAAL,CAAO,CAAP,EAAU,CAAjB;AACA;AACD;;AACD,WAAO,IAAP;AACA,GAdD;;AAeA,EAAA,mBAAA,CAAA,SAAA,CAAA,gBAAA,GAAA,UAAiB,CAAjB,EAA4B,CAA5B,EAAsC;AACrC,SAAK,CAAL,GAAS,CAAT;AACA,QAAI,CAAC,GAAW,KAAK,eAAL,CAAqB,CAArB,CAAhB;AACA,SAAK,CAAL,GAAS,KAAT;AACA,WAAO,CAAP;AACA,GALD;;AAMA,EAAA,mBAAA,CAAA,SAAA,CAAA,YAAA,GAAA,UAAa,CAAb,EAAsB;AACrB,WAAO,KAAK,aAAL,CAAmB,CAAnB,EAAsB,IAAtB,CAAP;AACA,GAFD;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAR,UAAU,CAAV,EAAqB,CAArB,EAAgC,CAAhC,EAA0C;AACzC,QAAI,CAAJ,EAAO;AACN,aAAO,IAAI,CAAC,eAAL,CAAqB,CAArB,EAAwB,CAAxB,CAAP;AACA,KAFD,MAEO;AACN,aAAO,CAAC,IAAI,CAAZ;AACA;AACD,GANO;;AAOR,EAAA,mBAAA,CAAA,SAAA,CAAA,aAAA,GAAA,UAAc,CAAd,EAAyB,CAAzB,EAAmC;AAClC,WAAO,KAAK,CAAL,CAAO,CAAP,EAAU,CAAV,EAAa,KAAb,CAAP;AACA,GAFD;;AAGA,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAA,UAAE,CAAF,EAAa,CAAb,EAAuB;AACtB,WAAO,KAAK,CAAL,CAAO,CAAP,EAAU,CAAV,EAAa,IAAb,CAAP;AACA,GAFD;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAR,UAAU,CAAV,EAAqB,CAArB,EAAiC,CAAjC,EAA2C;AAC1C,QAAI,CAAC,IAAI,IAAT,EAAe;AACd,aAAO,IAAP;AACA;;AACD,QAAI,KAAK,CAAL,CAAO,CAAP,EAAU,KAAK,CAAf,EAAkB,CAAlB,CAAJ,EAA0B;AACzB,aAAO,WAAW,EAAlB;AACA;;AACD,QAAI,KAAK,CAAL,CAAO,CAAP,EAAU,sCAAV,EAAkD,CAAlD,CAAJ,EAA0D;AACzD,aAAO,KAAP;AACA;;AACD,QAAI,KAAK,CAAL,CAAO,CAAP,EAAU,+BAAV,EAA2C,CAA3C,CAAJ,EAAmD;AAClD,aAAO,OAAP;AACA;;AACD,SAAK,IAAI,CAAC,GAAW,KAAK,CAA1B,EAA6B,CAAC,IAAI,CAAlC,EAAqC,CAAC,EAAtC,EAA0C;AACzC,UAAI,KAAK,CAAL,CAAO,KAAK,CAAL,CAAO,CAAP,EAAU,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,KAA6B,KAAK,CAAL,CAAO,CAAP,EAAU,CAAV,CAAY,MAAZ,GAAqB,CAAtD,EAAyD;AACxD,YAAI,CAAC,CAAD,IAAM,CAAC,KAAK,CAAL,CAAO,CAAP,CAAX,EAAsB;AACrB,iBAAO,KAAK,CAAL,CAAO,CAAP,EAAU,CAAjB;AACA;AACD;AACD;;AACD,WAAO,IAAP;AACA,GArBO;;AAsBA,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAR,UAAU,CAAV,EAAmB;AAClB,QAAI,CAAC,IAAI,KAAK,CAAd,EAAiB;AAChB,aAAO,KAAP;AACA;;AACD,QAAI,CAAC,GAAW,KAAK,CAAL,CAAO,CAAC,GAAG,CAAX,EAAc,CAA9B;;AACA,SAAK,IAAI,CAAC,GAAW,CAAC,GAAG,CAAzB,EAA4B,CAAC,IAAI,KAAK,CAAtC,EAAyC,CAAC,EAA1C,EAA8C;AAC7C,UAAS,KAAK,CAAL,CAAO,CAAP,EAAU,CAAV,IAAoB,CAA7B,EAAgC;AAC/B,eAAO,IAAP;AACA;AACD;;AACD,WAAO,KAAP;AACA,GAXO;;AAYR,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAA,YAAA;AACC,QAAI,KAAK,CAAL,IAAU,CAAC,CAAf,EAAkB;AACjB,aAAO,KAAP;AACA;;AACD,SAAK,CAAL,IAAU,KAAK,CAAf;AACA,SAAK,CAAL,GAAS,KAAK,CAAL,CAAO,KAAK,CAAZ,EAAe,CAAxB;AACA,SAAK,CAAL,GAAS,KAAK,CAAL,CAAO,KAAK,CAAZ,EAAe,CAAxB;AACA,SAAK,CAAL;AACA,WAAO,IAAP;AACA,GATD;;AAUA,EAAA,mBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,YAAA;AACC,SAAK,CAAL;;AACA,QAAI,KAAK,CAAL,IAAU,KAAK,CAAL,CAAO,MAArB,EAA6B;AAC5B,WAAK,EAAL;AACA;;AACD,SAAK,CAAL,CAAO,KAAK,CAAZ,EAAe,CAAf,GAAmB,KAAK,CAAxB;AACA,SAAK,CAAL,CAAO,KAAK,CAAZ,EAAe,CAAf,GAAmB,KAAK,CAAxB;AACA,SAAK,CAAL,GAAS,CAAT;AACA,GARD;;AASA,EAAA,mBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,UAAG,CAAH,EAAc,CAAd,EAAuB;AACtB,SAAK,EAAL,CAAQ,CAAR,EAAW,CAAX,EAAc,KAAd;AACA,GAFD;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,EAAA,GAAR,UAAW,CAAX,EAAsB,CAAtB,EAAiC,CAAjC,EAA2C;AAC1C,QAAI,CAAC,IAAI,IAAT,EAAe;AACd,YAAM,IAAI,qBAAJ,CAA0B,CAA1B,EAA6B,QAA7B,CAAN;AACA;;AACD,QAAI,CAAC,IAAI,IAAT,EAAe;AACd,YAAM,IAAI,qBAAJ,CAA0B,CAA1B,EAA6B,KAA7B,CAAN;AACA;;AACD,QAAI,KAAK,CAAL,IAAU,CAAd,EAAiB;AAChB;AACA;;AACD,SAAK,IAAI,CAAC,GAAW,KAAK,CAA1B,EAA6B,CAAC,GAAG,KAAK,CAAL,GAAS,KAAK,CAA/C,EAAkD,CAAC,EAAnD,EAAuD;AACtD,UAAI,KAAK,CAAL,CAAO,KAAK,CAAL,CAAO,CAAP,EAAU,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,KAA6B,KAAK,CAAL,CAAO,KAAK,CAAL,CAAO,CAAP,EAAU,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,CAAjC,EAA4D;AAC3D,aAAK,CAAL,CAAO,CAAP,EAAU,CAAV,GAAc,IAAd;AACA;AACD;AACD,GAfO;;AAtQD,EAAA,mBAAA,CAAA,EAAA,GAAW,QAAQ,CAAC,mBAAD,EAAsB,qBAAtB,EAAmD,IAAK,CAAC,CAAzD,EAA4D,CAAC,2BAAD,EAA8B,iBAA9B,CAA5D,CAAnB;AAsRR,SAAA,mBAAA;AAAC,CAvRD,CAAyC,IAAzC,CAAA;;SAAa,mB","sourceRoot":"","sourcesContent":["//\n// XmlNamespaceManager.cs\n//\n// Authors:\n//   Jason Diamond (jason@injektilo.org)\n//   Ben Maurer (bmaurer@users.sourceforge.net)\n//   Atsushi Enomoto (atsushi@ximian.com)\n//\n// (C) 2001 Jason Diamond  http://injektilo.org/\n// (C) 2003 Ben Maurer\n// (C) 2004 Novell Inc.\n//\nimport * as tslib_1 from \"tslib\";\n//\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n// \n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\nimport { Base, IEnumerable_$type, markType, getEnumerator } from \"./type\";\nimport { IXmlNamespaceResolver_$type } from \"./IXmlNamespaceResolver\";\nimport { XmlNamespaceManager_NsDecl } from \"./XmlNamespaceManager_NsDecl\";\nimport { XmlNamespaceManager_NsScope } from \"./XmlNamespaceManager_NsScope\";\nimport { ArgumentNullException } from \"./ArgumentNullException\";\nimport { ArgumentException } from \"./ArgumentException\";\nimport { Hashtable } from \"./Hashtable\";\nimport { arrayCopy1 } from \"./arrayExtended\";\nimport { stringEmpty } from \"./string\";\nimport { stringFormat } from \"./stringExtended\";\n/**\n * @hidden\n */\nvar XmlNamespaceManager = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(XmlNamespaceManager, _super);\n    function XmlNamespaceManager(a) {\n        var _this = _super.call(this) || this;\n        _this.a = null;\n        _this.k = -1;\n        _this.b = null;\n        _this.l = -1;\n        _this.m = null;\n        _this.j = 0;\n        _this.af = null;\n        _this.f = false;\n        if (a == null) {\n            throw new ArgumentNullException(0, \"nameTable\");\n        }\n        _this.af = a;\n        a.b(\"xmlns\");\n        a.b(\"xml\");\n        a.b(stringEmpty());\n        a.b(\"http://www.w3.org/2000/xmlns/\");\n        a.b(\"http://www.w3.org/XML/1998/namespace\");\n        _this.ab();\n        return _this;\n    }\n    XmlNamespaceManager.prototype.ab = function () {\n        this.a = new Array(10);\n        this.b = new Array(40);\n        for (var a = 0; a < this.a.length; a++) {\n            this.a[a] = new XmlNamespaceManager_NsDecl();\n        }\n        for (var b = 0; b < this.b.length; b++) {\n            this.b[b] = new XmlNamespaceManager_NsScope();\n        }\n    };\n    XmlNamespaceManager.prototype.z = function () {\n        var a = this.a;\n        this.a = new Array(this.k * 2 + 1);\n        if (this.k > 0) {\n            arrayCopy1(a, 0, this.a, 0, this.k);\n        }\n        for (var b = this.k; b < this.a.length; b++) {\n            this.a[b] = new XmlNamespaceManager_NsDecl();\n        }\n    };\n    XmlNamespaceManager.prototype.aa = function () {\n        var a = this.b;\n        this.b = new Array(this.l * 2 + 1);\n        if (this.l > 0) {\n            arrayCopy1(a, 0, this.b, 0, this.l);\n        }\n        for (var b = this.l; b < this.b.length; b++) {\n            this.b[b] = new XmlNamespaceManager_NsScope();\n        }\n    };\n    XmlNamespaceManager.prototype.get_n = function () {\n        return this.m == null ? stringEmpty() : this.m;\n    };\n    Object.defineProperty(XmlNamespaceManager.prototype, \"n\", {\n        get: function () {\n            return this.get_n();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XmlNamespaceManager.prototype, \"ag\", {\n        get: function () {\n            return this.af;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    XmlNamespaceManager.prototype.x = function (a, b) {\n        this.y(a, b, false);\n    };\n    XmlNamespaceManager.prototype.y = function (a, b, c) {\n        if (a == null) {\n            throw new ArgumentNullException(0, \"prefix Value cannot be null.\");\n        }\n        if (b == null) {\n            throw new ArgumentNullException(0, \"uri Value cannot be null.\");\n        }\n        if (!c) {\n            a = this.af.b(a);\n            b = this.af.b(b);\n        }\n        if (a == \"xml\" && b == \"http://www.w3.org/XML/1998/namespace\") {\n            return;\n        }\n        XmlNamespaceManager.o(a, b, true);\n        if (a.length == 0) {\n            this.m = b;\n        }\n        for (var d = this.k; d > this.k - this.j; d--) {\n            if (Base.referenceEquals(this.a[d].a, a)) {\n                this.a[d].b = b;\n                return;\n            }\n        }\n        this.k++;\n        this.j++;\n        if (this.k == this.a.length) {\n            this.z();\n        }\n        this.a[this.k].a = a;\n        this.a[this.k].b = b;\n    };\n    XmlNamespaceManager.o = function (a, b, c) {\n        var d = null;\n        if (a == \"xml\" && b != \"http://www.w3.org/XML/1998/namespace\") {\n            d = stringFormat(\"Prefix \\\"xml\\\" can only be bound to the fixed namespace URI \\\"{0}\\\". \\\"{1}\\\" is invalid.\", \"http://www.w3.org/XML/1998/namespace\", b);\n        }\n        else if (d == null && a == \"xmlns\") {\n            d = \"Declaring prefix named \\\"xmlns\\\" is not allowed to any namespace.\";\n        }\n        else if (d == null && b == \"http://www.w3.org/2000/xmlns/\") {\n            d = stringFormat(\"Namespace URI \\\"{0}\\\" cannot be declared with any namespace.\", \"http://www.w3.org/2000/xmlns/\");\n        }\n        if (d != null && c) {\n            throw new ArgumentException(1, d);\n        }\n        else {\n            return d;\n        }\n    };\n    XmlNamespaceManager.prototype.getEnumeratorObject = function () {\n        var a = new Hashtable();\n        for (var b = 0; b <= this.k; b++) {\n            if (this.a[b].a != stringEmpty() && this.a[b].b != null) {\n                a.item(this.a[b].a, this.a[b].b);\n            }\n        }\n        a.item(stringEmpty(), this.n);\n        a.item(\"xml\", \"http://www.w3.org/XML/1998/namespace\");\n        a.item(\"xmlns\", \"http://www.w3.org/2000/xmlns/\");\n        return getEnumerator(a.c);\n    };\n    XmlNamespaceManager.prototype.getNamespacesInScope = function (a) {\n        return this.i(a);\n    };\n    XmlNamespaceManager.prototype.i = function (a) {\n        var b = new Hashtable();\n        if (a == 2) {\n            for (var c = 0; c < this.j; c++) {\n                if (this.a[this.k - c].a == stringEmpty() && this.a[this.k - c].b == stringEmpty()) {\n                    if (b.a(stringEmpty())) {\n                        b.f(stringEmpty());\n                    }\n                }\n                else if (this.a[this.k - c].b != null) {\n                    b.e(this.a[this.k - c].a, this.a[this.k - c].b);\n                }\n            }\n            return b;\n        }\n        else {\n            for (var d = 0; d <= this.k; d++) {\n                if (this.a[d].a == stringEmpty() && this.a[d].b == stringEmpty()) {\n                    if (b.a(stringEmpty())) {\n                        b.f(stringEmpty());\n                    }\n                }\n                else if (this.a[d].b != null) {\n                    b.item(this.a[d].a, this.a[d].b);\n                }\n            }\n            if (a == 0) {\n                b.e(\"xml\", \"http://www.w3.org/XML/1998/namespace\");\n            }\n            return b;\n        }\n    };\n    XmlNamespaceManager.prototype.d = function (a) {\n        return this.e(a, false);\n    };\n    XmlNamespaceManager.prototype.e = function (a, b) {\n        if (a == null || this.j == 0) {\n            return false;\n        }\n        for (var c = this.k; c > this.k - this.j; c--) {\n            if (this.a[c].a == a) {\n                return true;\n            }\n        }\n        return false;\n    };\n    XmlNamespaceManager.prototype.lookupNamespace = function (a) {\n        switch (a) {\n            case \"xmlns\": return this.af.d(\"http://www.w3.org/2000/xmlns/\");\n            case \"xml\": return this.af.d(\"http://www.w3.org/XML/1998/namespace\");\n            case \"\": return this.n;\n            case null: return null;\n        }\n        for (var b = this.k; b >= 0; b--) {\n            if (this.c(this.a[b].a, a, this.f) && this.a[b].b != null) {\n                return this.a[b].b;\n            }\n        }\n        return null;\n    };\n    XmlNamespaceManager.prototype.lookupNamespace1 = function (a, b) {\n        this.f = b;\n        var c = this.lookupNamespace(a);\n        this.f = false;\n        return c;\n    };\n    XmlNamespaceManager.prototype.lookupPrefix = function (a) {\n        return this.lookupPrefix1(a, true);\n    };\n    XmlNamespaceManager.prototype.c = function (a, b, c) {\n        if (c) {\n            return Base.referenceEquals(a, b);\n        }\n        else {\n            return a == b;\n        }\n    };\n    XmlNamespaceManager.prototype.lookupPrefix1 = function (a, b) {\n        return this.r(a, b, false);\n    };\n    XmlNamespaceManager.prototype.s = function (a, b) {\n        return this.r(a, b, true);\n    };\n    XmlNamespaceManager.prototype.r = function (a, b, c) {\n        if (a == null) {\n            return null;\n        }\n        if (this.c(a, this.n, b)) {\n            return stringEmpty();\n        }\n        if (this.c(a, \"http://www.w3.org/XML/1998/namespace\", b)) {\n            return \"xml\";\n        }\n        if (this.c(a, \"http://www.w3.org/2000/xmlns/\", b)) {\n            return \"xmlns\";\n        }\n        for (var d = this.k; d >= 0; d--) {\n            if (this.c(this.a[d].b, a, b) && this.a[d].a.length > 0) {\n                if (!c || !this.g(d)) {\n                    return this.a[d].a;\n                }\n            }\n        }\n        return null;\n    };\n    XmlNamespaceManager.prototype.g = function (a) {\n        if (a == this.k) {\n            return false;\n        }\n        var b = this.a[a + 1].a;\n        for (var c = a + 1; c <= this.k; c++) {\n            if (this.a[a].a == b) {\n                return true;\n            }\n        }\n        return false;\n    };\n    XmlNamespaceManager.prototype.h = function () {\n        if (this.l == -1) {\n            return false;\n        }\n        this.k -= this.j;\n        this.m = this.b[this.l].b;\n        this.j = this.b[this.l].a;\n        this.l--;\n        return true;\n    };\n    XmlNamespaceManager.prototype.ac = function () {\n        this.l++;\n        if (this.l == this.b.length) {\n            this.aa();\n        }\n        this.b[this.l].b = this.m;\n        this.b[this.l].a = this.j;\n        this.j = 0;\n    };\n    XmlNamespaceManager.prototype.ad = function (a, b) {\n        this.ae(a, b, false);\n    };\n    XmlNamespaceManager.prototype.ae = function (a, b, c) {\n        if (a == null) {\n            throw new ArgumentNullException(0, \"prefix\");\n        }\n        if (b == null) {\n            throw new ArgumentNullException(0, \"uri\");\n        }\n        if (this.j == 0) {\n            return;\n        }\n        for (var d = this.k; d > this.k - this.j; d--) {\n            if (this.c(this.a[d].a, a, c) && this.c(this.a[d].b, b, c)) {\n                this.a[d].b = null;\n            }\n        }\n    };\n    XmlNamespaceManager.$t = markType(XmlNamespaceManager, 'XmlNamespaceManager', Base.$, [IXmlNamespaceResolver_$type, IEnumerable_$type]);\n    return XmlNamespaceManager;\n}(Base));\nexport { XmlNamespaceManager };\n//# sourceMappingURL=XmlNamespaceManager.js.map\n"]},"metadata":{},"sourceType":"module"}