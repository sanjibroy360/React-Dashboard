{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, typeCast, markType } from \"igniteui-react-core\";\nimport { ICategorySeriesInteractionManager_$type } from \"./ICategorySeriesInteractionManager\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { HighlightingInfo } from \"./HighlightingInfo\";\nimport { intDivide, truncate, isNaN_ } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar CategorySeriesInteractionManager =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(CategorySeriesInteractionManager, _super);\n\n  function CategorySeriesInteractionManager() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  CategorySeriesInteractionManager.prototype.b$c = function (a, b) {\n    var c = a.bi.bs;\n    var d = a.bi.br;\n    var e = a.ap();\n    var f = a.getEffectiveViewport1(a.bi);\n    var g = a.lr(a.bi);\n    var h = -1;\n\n    if (e != null && !c.isEmpty && !d.isEmpty) {\n      var i = new ScalerParams(0, c, d, e.ca, f);\n      var j = e.d1(g.left, i);\n      var k = e.d1(g.right, i);\n      var l = (b.x - c.left) / c.width;\n      var m = j + l * (k - j);\n\n      if (e.categoryMode != 0) {\n        m -= 0.5;\n      }\n\n      h = m;\n    }\n\n    return h;\n  };\n\n  CategorySeriesInteractionManager.prototype.b$f = function (a, b) {\n    var c = 0;\n\n    if (a.c1) {\n      c = a.fa(b);\n\n      if (c == -1) {\n        return null;\n      }\n    } else if (b.x == 1 && a.bz != null) {\n      c = a.bz.count - 1;\n    } else {\n      c = a.e8(b);\n    }\n\n    return c >= 0 && a.bz != null && c < a.bz.count ? a.bz.item(c) : null;\n  };\n\n  CategorySeriesInteractionManager.prototype.b$d = function (a, b) {\n    var c = a.bi.bs;\n    var d = a.bi.br;\n    var e = a.getEffectiveViewport1(a.bi);\n\n    if (c.isEmpty || d.isEmpty) {\n      return -1;\n    }\n\n    if (isNaN_(b.x)) {\n      return -1;\n    }\n\n    var f = a.ap();\n\n    if (f == null) {\n      return -1;\n    }\n\n    var g = typeCast(ISortingAxis_$type, f);\n    var h = a.lr(a.bi);\n    var i = new ScalerParams(0, c, d, f.ca, e);\n    var j = 0;\n\n    if (f.cd) {\n      var k = (b.x - c.left) / c.width;\n      var l = k * h.width + h.left;\n      j = f.d1(l, i);\n    } else {\n      var m = f.d1(h.left, i);\n      var n = f.d1(h.right, i);\n      var o = (b.x - c.left) / c.width;\n      j = m + (n - m) * o;\n    }\n\n    var p = g.i$f(j);\n    return p;\n  };\n\n  CategorySeriesInteractionManager.prototype.b$e = function (a, b, c) {\n    var d = a.bi.br;\n    var e = a.bi.bs;\n    var f = a.ap();\n    var g = 0;\n\n    if (f.ch) {\n      var h = (c.y - e.top) / e.height;\n      g = h * d.height + d.top;\n    } else {\n      var i = (c.x - e.left) / e.width;\n      g = i * d.width + d.left;\n    }\n\n    if (f.ca) {\n      var j = b.count;\n      var k = 0;\n\n      for (k = j - 1; k >= 0; k--) {\n        var l = b._inner[k];\n        var m = null;\n\n        if (k > 0) {\n          m = b._inner[k - 1];\n        }\n\n        if (l[0] <= g && m == null || m[0] >= g) {\n          if (m != null) {\n            if (Math.abs(l[0] - g) < Math.abs(m[0] - g)) {\n              return k;\n            } else {\n              return k - 1;\n            }\n          } else {\n            return k;\n          }\n        }\n      }\n\n      return k;\n    } else {\n      var n = b.count;\n      var o = 0;\n\n      for (o = 0; o < n; o++) {\n        var p = b._inner[o];\n        var q = null;\n\n        if (o < n - 1) {\n          q = b._inner[o + 1];\n        }\n\n        if (p[0] <= g && q == null || q[0] >= g) {\n          if (q != null) {\n            if (Math.abs(p[0] - g) < Math.abs(q[0] - g)) {\n              return o;\n            } else {\n              return o + 1;\n            }\n          } else {\n            return o;\n          }\n        }\n      }\n\n      return o;\n    }\n  };\n\n  CategorySeriesInteractionManager.prototype.b$a = function (a, b, c, d, e, f, g, h) {\n    var i = a.bz.count;\n    var j = a.ap();\n    var k = -1;\n    var l = -1;\n\n    if (j.cf) {\n      var m = this.b$e(a, b, g);\n      k = m;\n      l = m;\n    } else {\n      var n = a.e8(g);\n      k = truncate(Math.floor(intDivide(n, e))) * e;\n      l = k + (e - 1);\n    }\n\n    if (h != null && h.f == k && h.e == l) {\n      return h;\n    }\n\n    var o = new HighlightingInfo();\n    o.b = a;\n    o.f = k;\n    o.e = l;\n    return o;\n  };\n\n  CategorySeriesInteractionManager.prototype.b$b = function (a, b, c, d, e, f) {\n    var g = a.lh(e);\n    var h = b;\n\n    if (h == null) {\n      return null;\n    }\n\n    var i = h.count;\n\n    if (i == 0) {\n      return null;\n    }\n\n    var j = h._inner[0].al;\n\n    if (a.isVertical) {\n      var k = c._inner[h._inner[0].al][0];\n      var l = (g.y - k) * (g.y - k);\n      var m = void 0;\n\n      for (var n = 0; n < i; n++) {\n        k = c._inner[h._inner[n].al][0];\n        m = (g.y - k) * (g.y - k);\n\n        if (m <= l) {\n          l = m;\n          j = h._inner[n].al;\n        }\n      }\n    } else {\n      var o = c._inner[h._inner[0].al][0];\n      var p = (g.x - o) * (g.x - o);\n      var q = void 0;\n\n      for (var r = 0; r < i; r++) {\n        o = c._inner[h._inner[r].al][0];\n        q = (g.x - o) * (g.x - o);\n\n        if (q <= p) {\n          p = q;\n          j = h._inner[r].al;\n        }\n      }\n    }\n\n    var s = new HighlightingInfo();\n    s.b = a;\n    s.c = true;\n    s.f = j;\n    s.e = s.f;\n\n    if (f != null && f.f == s.f && f.e == s.e) {\n      return f;\n    }\n\n    return s;\n  };\n\n  CategorySeriesInteractionManager.$t = markType(CategorySeriesInteractionManager, 'CategorySeriesInteractionManager', Base.$, [ICategorySeriesInteractionManager_$type]);\n  return CategorySeriesInteractionManager;\n}(Base);\n\nexport { CategorySeriesInteractionManager };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/CategorySeriesInteractionManager.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, typeCast, markType } from \"igniteui-react-core\";\nimport { ICategorySeriesInteractionManager_$type } from \"./ICategorySeriesInteractionManager\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { HighlightingInfo } from \"./HighlightingInfo\";\nimport { intDivide, truncate, isNaN_ } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar CategorySeriesInteractionManager = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CategorySeriesInteractionManager, _super);\n    function CategorySeriesInteractionManager() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CategorySeriesInteractionManager.prototype.b$c = function (a, b) {\n        var c = a.bi.bs;\n        var d = a.bi.br;\n        var e = a.ap();\n        var f = a.getEffectiveViewport1(a.bi);\n        var g = a.lr(a.bi);\n        var h = -1;\n        if (e != null && !c.isEmpty && !d.isEmpty) {\n            var i = new ScalerParams(0, c, d, e.ca, f);\n            var j = e.d1(g.left, i);\n            var k = e.d1(g.right, i);\n            var l = (b.x - c.left) / c.width;\n            var m = j + (l * (k - j));\n            if (e.categoryMode != 0) {\n                m -= 0.5;\n            }\n            h = m;\n        }\n        return h;\n    };\n    CategorySeriesInteractionManager.prototype.b$f = function (a, b) {\n        var c = 0;\n        if (a.c1) {\n            c = a.fa(b);\n            if (c == -1) {\n                return null;\n            }\n        }\n        else if (b.x == 1 && a.bz != null) {\n            c = a.bz.count - 1;\n        }\n        else {\n            c = a.e8(b);\n        }\n        return c >= 0 && a.bz != null && c < a.bz.count ? a.bz.item(c) : null;\n    };\n    CategorySeriesInteractionManager.prototype.b$d = function (a, b) {\n        var c = a.bi.bs;\n        var d = a.bi.br;\n        var e = a.getEffectiveViewport1(a.bi);\n        if (c.isEmpty || d.isEmpty) {\n            return -1;\n        }\n        if (isNaN_(b.x)) {\n            return -1;\n        }\n        var f = a.ap();\n        if (f == null) {\n            return -1;\n        }\n        var g = typeCast(ISortingAxis_$type, f);\n        var h = a.lr(a.bi);\n        var i = new ScalerParams(0, c, d, f.ca, e);\n        var j = 0;\n        if (f.cd) {\n            var k = (b.x - c.left) / c.width;\n            var l = k * h.width + h.left;\n            j = f.d1(l, i);\n        }\n        else {\n            var m = f.d1(h.left, i);\n            var n = f.d1(h.right, i);\n            var o = (b.x - c.left) / c.width;\n            j = m + ((n - m) * o);\n        }\n        var p = g.i$f(j);\n        return p;\n    };\n    CategorySeriesInteractionManager.prototype.b$e = function (a, b, c) {\n        var d = a.bi.br;\n        var e = a.bi.bs;\n        var f = a.ap();\n        var g = 0;\n        if (f.ch) {\n            var h = (c.y - e.top) / e.height;\n            g = h * d.height + d.top;\n        }\n        else {\n            var i = (c.x - e.left) / e.width;\n            g = i * d.width + d.left;\n        }\n        if (f.ca) {\n            var j = b.count;\n            var k = 0;\n            for (k = j - 1; k >= 0; k--) {\n                var l = b._inner[k];\n                var m = null;\n                if (k > 0) {\n                    m = b._inner[k - 1];\n                }\n                if (l[0] <= g && m == null || m[0] >= g) {\n                    if (m != null) {\n                        if (Math.abs(l[0] - g) < Math.abs(m[0] - g)) {\n                            return k;\n                        }\n                        else {\n                            return k - 1;\n                        }\n                    }\n                    else {\n                        return k;\n                    }\n                }\n            }\n            return k;\n        }\n        else {\n            var n = b.count;\n            var o = 0;\n            for (o = 0; o < n; o++) {\n                var p = b._inner[o];\n                var q = null;\n                if (o < n - 1) {\n                    q = b._inner[o + 1];\n                }\n                if (p[0] <= g && q == null || q[0] >= g) {\n                    if (q != null) {\n                        if (Math.abs(p[0] - g) < Math.abs(q[0] - g)) {\n                            return o;\n                        }\n                        else {\n                            return o + 1;\n                        }\n                    }\n                    else {\n                        return o;\n                    }\n                }\n            }\n            return o;\n        }\n    };\n    CategorySeriesInteractionManager.prototype.b$a = function (a, b, c, d, e, f, g, h) {\n        var i = a.bz.count;\n        var j = a.ap();\n        var k = -1;\n        var l = -1;\n        if (j.cf) {\n            var m = this.b$e(a, b, g);\n            k = m;\n            l = m;\n        }\n        else {\n            var n = a.e8(g);\n            k = truncate(Math.floor((intDivide(n, e)))) * e;\n            l = k + (e - 1);\n        }\n        if (h != null && h.f == k && h.e == l) {\n            return h;\n        }\n        var o = new HighlightingInfo();\n        o.b = a;\n        o.f = k;\n        o.e = l;\n        return o;\n    };\n    CategorySeriesInteractionManager.prototype.b$b = function (a, b, c, d, e, f) {\n        var g = a.lh(e);\n        var h = b;\n        if (h == null) {\n            return null;\n        }\n        var i = h.count;\n        if (i == 0) {\n            return null;\n        }\n        var j = h._inner[0].al;\n        if (a.isVertical) {\n            var k = c._inner[h._inner[0].al][0];\n            var l = (g.y - k) * (g.y - k);\n            var m = void 0;\n            for (var n = 0; n < i; n++) {\n                k = c._inner[h._inner[n].al][0];\n                m = (g.y - k) * (g.y - k);\n                if (m <= l) {\n                    l = m;\n                    j = h._inner[n].al;\n                }\n            }\n        }\n        else {\n            var o = c._inner[h._inner[0].al][0];\n            var p = (g.x - o) * (g.x - o);\n            var q = void 0;\n            for (var r = 0; r < i; r++) {\n                o = c._inner[h._inner[r].al][0];\n                q = (g.x - o) * (g.x - o);\n                if (q <= p) {\n                    p = q;\n                    j = h._inner[r].al;\n                }\n            }\n        }\n        var s = new HighlightingInfo();\n        s.b = a;\n        s.c = true;\n        s.f = j;\n        s.e = s.f;\n        if (f != null && f.f == s.f && f.e == s.e) {\n            return f;\n        }\n        return s;\n    };\n    CategorySeriesInteractionManager.$t = markType(CategorySeriesInteractionManager, 'CategorySeriesInteractionManager', Base.$, [ICategorySeriesInteractionManager_$type]);\n    return CategorySeriesInteractionManager;\n}(Base));\nexport { CategorySeriesInteractionManager };\n//# sourceMappingURL=CategorySeriesInteractionManager.js.map\n"]},"metadata":{},"sourceType":"module"}