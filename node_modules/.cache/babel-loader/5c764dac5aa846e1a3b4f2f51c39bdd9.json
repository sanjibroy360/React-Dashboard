{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { AnnotationLayer } from \"./AnnotationLayer\";\nimport { Axis } from \"./Axis\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { CategoryTooltipLayerPosition_$type } from \"./CategoryTooltipLayerPosition\";\nimport { CategoryToolTipLayerFrame } from \"./CategoryToolTipLayerFrame\";\nimport { Base, enumGetBox, typeCast, fromEnum, Point_$type, markType, markDep, String_$type } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { CategoryTooltipSeriesInfo } from \"./CategoryTooltipSeriesInfo\";\nimport { XamDataChart } from \"./XamDataChart\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { Size } from \"igniteui-react-core\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { AnnotationLayerView } from \"./AnnotationLayerView\";\nimport { PointerTooltip } from \"./PointerTooltip\";\n/**\n * @hidden\n */\n\nvar CategoryToolTipLayer =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(CategoryToolTipLayer, _super);\n\n  function CategoryToolTipLayer() {\n    var _this = _super.call(this) || this;\n\n    var a = new CategoryToolTipLayerFrame();\n    var b = new CategoryToolTipLayerFrame();\n    var c = new CategoryToolTipLayerFrame();\n    _this.l3 = a;\n    _this.l2 = b;\n    _this.l4 = c;\n    _this.ab = CategoryToolTipLayer.$;\n    return _this;\n  }\n\n  CategoryToolTipLayer.prototype.bf = function () {\n    return new CategoryToolTipLayerView(this);\n  };\n\n  CategoryToolTipLayer.prototype.iv = function (a) {\n    _super.prototype.iv.call(this, a);\n\n    this.m7 = a;\n  };\n\n  CategoryToolTipLayer.prototype.get_cn = function () {\n    return true;\n  };\n\n  CategoryToolTipLayer.prototype.i0 = function (a, b, c, d) {\n    _super.prototype.i0.call(this, a, b, c, d);\n\n    switch (b) {\n      case CategoryToolTipLayer.$$p[0]:\n        this.je(true);\n        break;\n\n      case CategoryToolTipLayer.$$p[2]:\n        this.je(true);\n        break;\n\n      case CategoryToolTipLayer.$$p[1]:\n        this.je(true);\n        break;\n\n      case \"SeriesViewer\":\n        this.m7.cc();\n        break;\n    }\n  };\n\n  CategoryToolTipLayer.prototype.ml = function (a, b) {\n    if (this.m5 == a) {\n      if (!this.aq.c) {\n        this.je(b);\n      }\n    }\n  };\n\n  CategoryToolTipLayer.prototype.mm = function (a, b) {\n    if (!this.aq.c) {\n      this.je(b);\n    }\n  };\n\n  CategoryToolTipLayer.prototype.mo = function (a, b) {\n    var e_1, _a, e_2, _b;\n\n    _super.prototype.mo.call(this, a, b);\n\n    var c = a;\n    var d = this.m9;\n    c.l = NaN;\n    c.k = NaN;\n    c.g = NaN;\n    c.h = NaN;\n    c.k = NaN;\n    c.l = NaN;\n\n    if (isNaN_(this.m2.x) && isNaN_(this.m2.y)) {\n      this.m7.ca(this.m7.b7());\n      return;\n    }\n\n    if (this.m5 != null) {\n      var e = this.m5;\n\n      if (e == null || !e.b4 || e.b2) {\n        return;\n      }\n\n      if (!e.cg()) {\n        return;\n      }\n\n      var f = e;\n      var g = this.m8(f.cz, d);\n      this.ne(g, c, d);\n    } else {\n      if (typeCast(XamDataChart.$, this.bs) !== null) {\n        var h = this.bs;\n        var i = true;\n        var j = false;\n        var k = new List$1(Series.$, 0);\n\n        try {\n          for (var _c = tslib_1.__values(fromEnum(h.axes)), _d = _c.next(); !_d.done; _d = _c.next()) {\n            var l = _d.value;\n\n            if (l.b4 && !l.b2) {\n              if (!l.cg()) {\n                continue;\n              }\n\n              if (i) {\n                i = false;\n                j = l.ch;\n              } else {\n                if (l.ch != j) {\n                  continue;\n                }\n              }\n\n              try {\n                for (var _e = (e_2 = void 0, tslib_1.__values(fromEnum(l.cz))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                  var m = _f.value;\n                  k.add(m);\n                }\n              } catch (e_2_1) {\n                e_2 = {\n                  error: e_2_1\n                };\n              } finally {\n                try {\n                  if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                } finally {\n                  if (e_2) throw e_2.error;\n                }\n              }\n            }\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n\n        var n = this.m8(k, d);\n        this.ne(n, c, d);\n      }\n    }\n  };\n\n  CategoryToolTipLayer.prototype.m8 = function (a, b) {\n    var c = 1.7976931348623157E+308;\n    var d = -1.7976931348623157E+308;\n    var e = new List$1(DataContext.$, 0);\n    var f = new List$1(Base.$, 0);\n    var g = false;\n    var h = true;\n\n    for (var i = 0; i < a.count; i++) {\n      var j = a.item(i);\n\n      if (!j.cr && !j.cl) {\n        continue;\n      }\n\n      if (j.isStacked) {\n        continue;\n      }\n\n      var k = j;\n\n      if (!k.categoryAxis.cg()) {\n        continue;\n      }\n\n      if (h) {\n        g = j.isVertical;\n      } else {\n        if (g != j.isVertical) {\n          continue;\n        }\n      }\n\n      var l = this.mh(j);\n\n      if (!l.c) {\n        continue;\n      }\n\n      var m = j.lm(l.d, b, false);\n\n      if (g) {\n        if (!isNaN_(m.y)) {\n          c = Math.min(c, m.y);\n          d = Math.max(d, m.y);\n        }\n      } else {\n        if (!isNaN_(m.x)) {\n          c = Math.min(c, m.x);\n          d = Math.max(d, m.x);\n        }\n      }\n\n      var n = this.na(j);\n\n      if (n == null) {\n        continue;\n      }\n\n      var o = null;\n      var p = j.fp(this.m2);\n\n      if (j.co && p != null) {\n        o = j.as(p);\n      } else {\n        o = new DataContext();\n        o.item = p;\n        o.series = j;\n      }\n\n      e.add(o);\n      f.add1(n);\n    }\n\n    var q = 0;\n    var r = 0;\n\n    if (g) {\n      r = (c + d) / 2;\n      q = this.lz.right;\n\n      if (this.m6 == 2 || this.m6 == 1) {\n        q = this.lz.left;\n      }\n\n      if (r < 0 || r > this.lz.bottom) {\n        r = NaN;\n      }\n    } else {\n      q = (c + d) / 2;\n      r = this.lz.top;\n\n      if (this.m6 == 2 || this.m6 == 1) {\n        r = this.lz.bottom;\n      }\n\n      if (q < 0 || q > this.lz.right) {\n        q = NaN;\n      }\n    }\n\n    var s = new CategoryTooltipSeriesInfo();\n    s.c = {\n      $type: Point_$type,\n      x: q,\n      y: r\n    };\n    s.a = e;\n    s.b = f;\n    return s;\n  };\n\n  CategoryToolTipLayer.prototype.ib = function () {\n    this.m2 = {\n      $type: Point_$type,\n      x: NaN,\n      y: NaN\n    };\n    this.bi.am();\n  };\n\n  CategoryToolTipLayer.prototype.ne = function (a, b, c) {\n    var d = a.c;\n    var e = a.a;\n    var f = a.b;\n    d = this.m7.cd(d);\n    var g = 0;\n    var h = this.bi.br;\n    var i = this.m7.b7();\n    this.m7.b9();\n    var j = false;\n\n    if (e.count == 0) {\n      this.bi.am();\n      return;\n    }\n\n    var k = false;\n\n    for (var l = 0; l < e.count; l++) {\n      var m = e._inner[l].series;\n      j = m.isVertical;\n      var n = e._inner[l];\n      var o = f._inner[l];\n\n      if (this.m7.b4(m, o, n)) {\n        k = true;\n      }\n\n      g++;\n    }\n\n    if (!k) {\n      this.m7.ca(i);\n      return;\n    }\n\n    var p = this.m7.ce(i);\n    var q = 0;\n    var r = 0;\n    var s = 0;\n    var t = 0;\n    var u = false;\n    var v = false;\n    var w = this.m6;\n\n    if (w == 2 || w == 3) {\n      v = true;\n    }\n\n    if (w == 2 || w == 1) {\n      u = true;\n    }\n\n    var x = this.m7.cf();\n\n    if (j) {\n      if (!u && !v && d.x + (p.width + DeviceUtils.g(10)) > x.width) {\n        v = true;\n      }\n\n      if (u && !v && d.x - (p.width + DeviceUtils.g(10)) < 0) {\n        v = true;\n      }\n    } else {\n      if (!u && !v && d.y - (p.height + 10) < 0) {\n        v = true;\n      }\n\n      if (u && !v && d.y + (p.height + 10) > x.height) {\n        v = true;\n      }\n    }\n\n    var y = DeviceUtils.g(10);\n    var z = DeviceUtils.g(5);\n\n    if (!u) {\n      if (!j) {\n        z = p.height + y;\n      }\n\n      if (v) {\n        if (j) {\n          z = z + p.width + y;\n        } else {\n          z = 0;\n        }\n      }\n    } else {\n      if (j) {\n        z = p.width + y;\n\n        if (v) {\n          z = 0;\n        }\n      } else {\n        z = DeviceUtils.g(5);\n\n        if (v) {\n          z = z + p.height + y;\n        }\n      }\n    }\n\n    if (j) {\n      r = 0 - (y + DeviceUtils.g(5));\n\n      if (u) {\n        r = r * -1 + p.width;\n      }\n\n      q = p.height / 2;\n      t = d.y - p.height / 2;\n      s = d.x - z;\n    } else {\n      q = p.height + DeviceUtils.g(10) + DeviceUtils.g(5);\n\n      if (u) {\n        q = 0 - (y + DeviceUtils.g(5));\n      }\n\n      r = p.width / 2;\n      s = d.x - p.width / 2;\n      t = d.y - z;\n    }\n\n    if (j) {\n      if (t < 0) {\n        q -= 0 - t;\n        t = 0;\n      }\n\n      if (t + p.height > x.height) {\n        q += t + p.height - x.height;\n        t = x.height - p.height;\n      }\n    } else {\n      if (s < 0) {\n        r -= 0 - s;\n        s = 0;\n      }\n\n      if (s + p.width > x.width) {\n        r += s + p.width - x.width;\n        s = x.width - p.width;\n      }\n    }\n\n    b.k = s;\n    b.l = t;\n    b.g = r;\n    b.h = q;\n    b.j = p.width;\n    b.i = p.height;\n  };\n\n  CategoryToolTipLayer.prototype.na = function (a) {\n    return a.toolTip;\n  };\n\n  CategoryToolTipLayer.prototype.mr = function (a, b) {\n    _super.prototype.mr.call(this, a, b);\n\n    var c = a;\n    var d = b.br.left;\n    var e = b.br.right;\n    var f = b.br.top;\n    var g = b.br.bottom;\n    var h = this.m7.b7();\n\n    if (isNaN_(c.k) || isNaN_(c.l) || isNaN_(c.g) || isNaN_(c.h)) {\n      this.m7.ca(h);\n      return;\n    }\n\n    var i = c.k;\n    var j = c.l;\n    var k = c.g;\n    var l = c.h;\n    this.m7.cb(h, i, j, k, l);\n  };\n\n  CategoryToolTipLayer.prototype.c8 = function () {\n    return true;\n  };\n\n  CategoryToolTipLayer.$t = markType(CategoryToolTipLayer, 'CategoryToolTipLayer', AnnotationLayer.$);\n  CategoryToolTipLayer.$$p = markDep(DependencyProperty, PropertyMetadata, CategoryToolTipLayer, 'raisePropertyChanged', ['TargetAxis:m5:nf', [Axis.$, null], 'ToolTipPosition:m6:ng', [CategoryTooltipLayerPosition_$type, enumGetBox(CategoryTooltipLayerPosition_$type, 0)], 'UseInterpolation:m9:nh', [0, false]]);\n  return CategoryToolTipLayer;\n}(AnnotationLayer);\n\nexport { CategoryToolTipLayer };\n/**\n * @hidden\n */\n\nvar CategoryToolTipLayerView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(CategoryToolTipLayerView, _super);\n\n  function CategoryToolTipLayerView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.b1 = null;\n    _this.b2 = null;\n    _this._tooltips = null;\n    _this.b5 = null;\n    _this.b3 = false;\n    _this._htmlTest = null;\n    _this.b1 = a;\n    _this.htmlTest = /^[^<]*(<[\\w\\W]+>)[^>]*$/;\n    return _this;\n  }\n\n  CategoryToolTipLayerView.prototype.b7 = function () {\n    if (this.b2 == null) {\n      this.b2 = new PointerTooltip();\n      this.b2.bs(this.e.e4);\n      this.b2.ao = this.e.bs.bn.j;\n      this._tooltips = this.e.e4.createElement(\"div\");\n      this.b5 = this.e.e4.createElement(\"div\");\n      this.b2._visibility = 0;\n    }\n\n    return this.b2;\n  };\n\n  CategoryToolTipLayerView.prototype.ap = function () {\n    _super.prototype.ap.call(this);\n\n    if (this.b2 != null) {\n      this.b2._visibility = 1;\n    }\n  };\n\n  CategoryToolTipLayerView.prototype.ag = function () {\n    _super.prototype.ag.call(this);\n\n    if (this.b2 != null) {\n      this.b2.bo();\n      this.b2 = null;\n    }\n  };\n\n  Object.defineProperty(CategoryToolTipLayerView.prototype, \"htmlTest\", {\n    get: function () {\n      return this._htmlTest;\n    },\n    set: function (a) {\n      this._htmlTest = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  CategoryToolTipLayerView.prototype.b4 = function (a, b, c) {\n    if (a.fz == \"default\") {\n      a.fz = a.bi.getDefaultTooltipTemplate();\n    }\n\n    var template_ = a.fz;\n    var context_ = c;\n\n    if (a.toolTip == null) {\n      return false;\n    }\n\n    var tooltip_ = a.toolTip;\n\n    if (tooltip_.updateToolTip) {\n      tooltip_._inPointer = true;\n      tooltip_.updateToolTip(context_, true);\n      tooltip_.setStyleProperty('position', 'relative');\n      tooltip_.setStyleProperty('left', '');\n      tooltip_.setStyleProperty('top', '');\n      tooltip_.remove();\n    }\n\n    this._tooltips.append(a.toolTip);\n\n    return true;\n  };\n\n  CategoryToolTipLayerView.prototype.ce = function (a) {\n    var b = a;\n    b.content = this._tooltips;\n    var c = new Size(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);\n    b.ct = 1;\n    var d = b.cs(new Size(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY));\n    b.ct = 0;\n    return d;\n  };\n\n  CategoryToolTipLayerView.prototype.cd = function (a) {\n    var b = 0;\n    var c = 0;\n\n    if (this.e.bs != null) {\n      var d = this.e.bs.mk();\n      b += d.x;\n      c += d.y;\n    }\n\n    return {\n      $type: Point_$type,\n      x: b + a.x,\n      y: c + a.y\n    };\n  };\n\n  CategoryToolTipLayerView.prototype.cb = function (a, b, c, d, e) {\n    var f = a;\n    var g = f.content;\n    f.cn = {\n      $type: Point_$type,\n      x: d,\n      y: e\n    };\n    f._visibility = 0;\n    f.n = b;\n    f.o = c;\n  };\n\n  CategoryToolTipLayerView.prototype.cf = function () {\n    var a = window.innerWidth;\n    var b = window.innerHeight;\n    return new Size(1, a, b);\n  };\n\n  CategoryToolTipLayerView.prototype.ca = function (a) {\n    this._tooltips.removeChildren();\n\n    this.b5.removeChildren();\n    this.b2._visibility = 1;\n  };\n\n  CategoryToolTipLayerView.prototype.b9 = function () {\n    if (this._tooltips != null) {\n      this._tooltips.removeChildren();\n    }\n  };\n\n  CategoryToolTipLayerView.prototype.cc = function () {};\n\n  CategoryToolTipLayerView.prototype.a3 = function (a, b) {\n    _super.prototype.a3.call(this, a, b);\n\n    if (b) {\n      return;\n    }\n\n    var c = null;\n\n    if (this.e.bs != null) {\n      c = this.e.bs.bn.i.i();\n    }\n\n    var d = 0;\n    var e = 0;\n    var f = this.e.bs;\n\n    if (f != null) {\n      var g = f.bn.i.b7();\n      d += g.x;\n      e += g.y;\n    }\n\n    if (this.b2 != null) {\n      this.b2.ap = c;\n      this.b2.bu(this.b2.n, this.b2.o);\n    }\n  };\n\n  CategoryToolTipLayerView.prototype.ai = function (a) {\n    _super.prototype.ai.call(this, a);\n\n    var b = this.b2;\n    var c = 0;\n    var d = 0;\n\n    if (this.e.bs != null) {\n      var e = this.e.bs.mk();\n      c += e.x;\n      d += e.y;\n    }\n\n    var f = b.a3();\n    var g = b.n - c;\n    var h = b.o - d;\n    var i = new List$1(String_$type, 0);\n\n    var j = this._tooltips.getChildCount();\n\n    for (var k = 0; k < j; k++) {\n      var indexliteral_ = k.toString();\n\n      var l = this._tooltips.getChildAt(k).getText();\n\n      var m = l.toString();\n      i.add(m);\n    }\n\n    this.e.a2.addPointerTooltipData(a, f, g, h, i);\n  };\n\n  CategoryToolTipLayerView.$t = markType(CategoryToolTipLayerView, 'CategoryToolTipLayerView', AnnotationLayerView.$);\n  return CategoryToolTipLayerView;\n}(AnnotationLayerView);\n\nexport { CategoryToolTipLayerView };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/CategoryToolTipLayer_combined.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { AnnotationLayer } from \"./AnnotationLayer\";\nimport { Axis } from \"./Axis\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { CategoryTooltipLayerPosition_$type } from \"./CategoryTooltipLayerPosition\";\nimport { CategoryToolTipLayerFrame } from \"./CategoryToolTipLayerFrame\";\nimport { Base, enumGetBox, typeCast, fromEnum, Point_$type, markType, markDep, String_$type } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { CategoryTooltipSeriesInfo } from \"./CategoryTooltipSeriesInfo\";\nimport { XamDataChart } from \"./XamDataChart\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { Size } from \"igniteui-react-core\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { AnnotationLayerView } from \"./AnnotationLayerView\";\nimport { PointerTooltip } from \"./PointerTooltip\";\n/**\n * @hidden\n */\nvar CategoryToolTipLayer = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CategoryToolTipLayer, _super);\n    function CategoryToolTipLayer() {\n        var _this = _super.call(this) || this;\n        var a = new CategoryToolTipLayerFrame();\n        var b = new CategoryToolTipLayerFrame();\n        var c = new CategoryToolTipLayerFrame();\n        _this.l3 = a;\n        _this.l2 = b;\n        _this.l4 = c;\n        _this.ab = CategoryToolTipLayer.$;\n        return _this;\n    }\n    CategoryToolTipLayer.prototype.bf = function () {\n        return new CategoryToolTipLayerView(this);\n    };\n    CategoryToolTipLayer.prototype.iv = function (a) {\n        _super.prototype.iv.call(this, a);\n        this.m7 = a;\n    };\n    CategoryToolTipLayer.prototype.get_cn = function () {\n        return true;\n    };\n    CategoryToolTipLayer.prototype.i0 = function (a, b, c, d) {\n        _super.prototype.i0.call(this, a, b, c, d);\n        switch (b) {\n            case CategoryToolTipLayer.$$p[0]:\n                this.je(true);\n                break;\n            case CategoryToolTipLayer.$$p[2]:\n                this.je(true);\n                break;\n            case CategoryToolTipLayer.$$p[1]:\n                this.je(true);\n                break;\n            case \"SeriesViewer\":\n                this.m7.cc();\n                break;\n        }\n    };\n    CategoryToolTipLayer.prototype.ml = function (a, b) {\n        if (this.m5 == a) {\n            if (!this.aq.c) {\n                this.je(b);\n            }\n        }\n    };\n    CategoryToolTipLayer.prototype.mm = function (a, b) {\n        if (!this.aq.c) {\n            this.je(b);\n        }\n    };\n    CategoryToolTipLayer.prototype.mo = function (a, b) {\n        var e_1, _a, e_2, _b;\n        _super.prototype.mo.call(this, a, b);\n        var c = a;\n        var d = this.m9;\n        c.l = NaN;\n        c.k = NaN;\n        c.g = NaN;\n        c.h = NaN;\n        c.k = NaN;\n        c.l = NaN;\n        if (isNaN_(this.m2.x) && isNaN_(this.m2.y)) {\n            this.m7.ca(this.m7.b7());\n            return;\n        }\n        if (this.m5 != null) {\n            var e = this.m5;\n            if (e == null || !e.b4 || e.b2) {\n                return;\n            }\n            if (!e.cg()) {\n                return;\n            }\n            var f = e;\n            var g = this.m8(f.cz, d);\n            this.ne(g, c, d);\n        }\n        else {\n            if (typeCast(XamDataChart.$, this.bs) !== null) {\n                var h = this.bs;\n                var i = true;\n                var j = false;\n                var k = new List$1(Series.$, 0);\n                try {\n                    for (var _c = tslib_1.__values(fromEnum(h.axes)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                        var l = _d.value;\n                        if (l.b4 && !l.b2) {\n                            if (!l.cg()) {\n                                continue;\n                            }\n                            if (i) {\n                                i = false;\n                                j = l.ch;\n                            }\n                            else {\n                                if (l.ch != j) {\n                                    continue;\n                                }\n                            }\n                            try {\n                                for (var _e = (e_2 = void 0, tslib_1.__values(fromEnum(l.cz))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                                    var m = _f.value;\n                                    k.add(m);\n                                }\n                            }\n                            catch (e_2_1) {\n                                e_2 = { error: e_2_1 };\n                            }\n                            finally {\n                                try {\n                                    if (_f && !_f.done && (_b = _e.return))\n                                        _b.call(_e);\n                                }\n                                finally {\n                                    if (e_2)\n                                        throw e_2.error;\n                                }\n                            }\n                        }\n                    }\n                }\n                catch (e_1_1) {\n                    e_1 = { error: e_1_1 };\n                }\n                finally {\n                    try {\n                        if (_d && !_d.done && (_a = _c.return))\n                            _a.call(_c);\n                    }\n                    finally {\n                        if (e_1)\n                            throw e_1.error;\n                    }\n                }\n                var n = this.m8(k, d);\n                this.ne(n, c, d);\n            }\n        }\n    };\n    CategoryToolTipLayer.prototype.m8 = function (a, b) {\n        var c = 1.7976931348623157E+308;\n        var d = -1.7976931348623157E+308;\n        var e = new List$1(DataContext.$, 0);\n        var f = new List$1(Base.$, 0);\n        var g = false;\n        var h = true;\n        for (var i = 0; i < a.count; i++) {\n            var j = a.item(i);\n            if (!j.cr && !j.cl) {\n                continue;\n            }\n            if (j.isStacked) {\n                continue;\n            }\n            var k = j;\n            if (!k.categoryAxis.cg()) {\n                continue;\n            }\n            if (h) {\n                g = j.isVertical;\n            }\n            else {\n                if (g != j.isVertical) {\n                    continue;\n                }\n            }\n            var l = this.mh(j);\n            if (!l.c) {\n                continue;\n            }\n            var m = j.lm(l.d, b, false);\n            if (g) {\n                if (!isNaN_(m.y)) {\n                    c = Math.min(c, m.y);\n                    d = Math.max(d, m.y);\n                }\n            }\n            else {\n                if (!isNaN_(m.x)) {\n                    c = Math.min(c, m.x);\n                    d = Math.max(d, m.x);\n                }\n            }\n            var n = this.na(j);\n            if (n == null) {\n                continue;\n            }\n            var o = null;\n            var p = j.fp(this.m2);\n            if (j.co && p != null) {\n                o = j.as(p);\n            }\n            else {\n                o = new DataContext();\n                o.item = p;\n                o.series = j;\n            }\n            e.add(o);\n            f.add1(n);\n        }\n        var q = 0;\n        var r = 0;\n        if (g) {\n            r = (c + d) / 2;\n            q = this.lz.right;\n            if (this.m6 == 2 || this.m6 == 1) {\n                q = this.lz.left;\n            }\n            if (r < 0 || r > this.lz.bottom) {\n                r = NaN;\n            }\n        }\n        else {\n            q = (c + d) / 2;\n            r = this.lz.top;\n            if (this.m6 == 2 || this.m6 == 1) {\n                r = this.lz.bottom;\n            }\n            if (q < 0 || q > this.lz.right) {\n                q = NaN;\n            }\n        }\n        var s = new CategoryTooltipSeriesInfo();\n        s.c = { $type: Point_$type, x: q, y: r };\n        s.a = e;\n        s.b = f;\n        return s;\n    };\n    CategoryToolTipLayer.prototype.ib = function () {\n        this.m2 = { $type: Point_$type, x: NaN, y: NaN };\n        this.bi.am();\n    };\n    CategoryToolTipLayer.prototype.ne = function (a, b, c) {\n        var d = a.c;\n        var e = a.a;\n        var f = a.b;\n        d = this.m7.cd(d);\n        var g = 0;\n        var h = this.bi.br;\n        var i = this.m7.b7();\n        this.m7.b9();\n        var j = false;\n        if (e.count == 0) {\n            this.bi.am();\n            return;\n        }\n        var k = false;\n        for (var l = 0; l < e.count; l++) {\n            var m = e._inner[l].series;\n            j = m.isVertical;\n            var n = e._inner[l];\n            var o = f._inner[l];\n            if (this.m7.b4(m, o, n)) {\n                k = true;\n            }\n            g++;\n        }\n        if (!k) {\n            this.m7.ca(i);\n            return;\n        }\n        var p = this.m7.ce(i);\n        var q = 0;\n        var r = 0;\n        var s = 0;\n        var t = 0;\n        var u = false;\n        var v = false;\n        var w = this.m6;\n        if (w == 2 || w == 3) {\n            v = true;\n        }\n        if (w == 2 || w == 1) {\n            u = true;\n        }\n        var x = this.m7.cf();\n        if (j) {\n            if (!u && !v && d.x + (p.width + DeviceUtils.g(10)) > x.width) {\n                v = true;\n            }\n            if (u && !v && d.x - (p.width + DeviceUtils.g(10)) < 0) {\n                v = true;\n            }\n        }\n        else {\n            if (!u && !v && d.y - (p.height + 10) < 0) {\n                v = true;\n            }\n            if (u && !v && d.y + (p.height + 10) > x.height) {\n                v = true;\n            }\n        }\n        var y = DeviceUtils.g(10);\n        var z = DeviceUtils.g(5);\n        if (!u) {\n            if (!j) {\n                z = p.height + y;\n            }\n            if (v) {\n                if (j) {\n                    z = z + p.width + y;\n                }\n                else {\n                    z = 0;\n                }\n            }\n        }\n        else {\n            if (j) {\n                z = p.width + y;\n                if (v) {\n                    z = 0;\n                }\n            }\n            else {\n                z = DeviceUtils.g(5);\n                if (v) {\n                    z = z + p.height + y;\n                }\n            }\n        }\n        if (j) {\n            r = 0 - (y + DeviceUtils.g(5));\n            if (u) {\n                r = (r * -1) + p.width;\n            }\n            q = p.height / 2;\n            t = d.y - p.height / 2;\n            s = d.x - z;\n        }\n        else {\n            q = p.height + DeviceUtils.g(10) + DeviceUtils.g(5);\n            if (u) {\n                q = 0 - (y + DeviceUtils.g(5));\n            }\n            r = p.width / 2;\n            s = d.x - p.width / 2;\n            t = d.y - z;\n        }\n        if (j) {\n            if (t < 0) {\n                q -= 0 - t;\n                t = 0;\n            }\n            if (t + p.height > x.height) {\n                q += (t + p.height) - x.height;\n                t = x.height - p.height;\n            }\n        }\n        else {\n            if (s < 0) {\n                r -= 0 - s;\n                s = 0;\n            }\n            if (s + p.width > x.width) {\n                r += (s + p.width) - x.width;\n                s = x.width - p.width;\n            }\n        }\n        b.k = s;\n        b.l = t;\n        b.g = r;\n        b.h = q;\n        b.j = p.width;\n        b.i = p.height;\n    };\n    CategoryToolTipLayer.prototype.na = function (a) {\n        return a.toolTip;\n    };\n    CategoryToolTipLayer.prototype.mr = function (a, b) {\n        _super.prototype.mr.call(this, a, b);\n        var c = a;\n        var d = b.br.left;\n        var e = b.br.right;\n        var f = b.br.top;\n        var g = b.br.bottom;\n        var h = this.m7.b7();\n        if (isNaN_(c.k) || isNaN_(c.l) || isNaN_(c.g) || isNaN_(c.h)) {\n            this.m7.ca(h);\n            return;\n        }\n        var i = c.k;\n        var j = c.l;\n        var k = c.g;\n        var l = c.h;\n        this.m7.cb(h, i, j, k, l);\n    };\n    CategoryToolTipLayer.prototype.c8 = function () {\n        return true;\n    };\n    CategoryToolTipLayer.$t = markType(CategoryToolTipLayer, 'CategoryToolTipLayer', AnnotationLayer.$);\n    CategoryToolTipLayer.$$p = markDep(DependencyProperty, PropertyMetadata, CategoryToolTipLayer, 'raisePropertyChanged', ['TargetAxis:m5:nf', [Axis.$, null], 'ToolTipPosition:m6:ng', [CategoryTooltipLayerPosition_$type, enumGetBox(CategoryTooltipLayerPosition_$type, 0)], 'UseInterpolation:m9:nh', [0, false]]);\n    return CategoryToolTipLayer;\n}(AnnotationLayer));\nexport { CategoryToolTipLayer };\n/**\n * @hidden\n */\nvar CategoryToolTipLayerView = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CategoryToolTipLayerView, _super);\n    function CategoryToolTipLayerView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.b1 = null;\n        _this.b2 = null;\n        _this._tooltips = null;\n        _this.b5 = null;\n        _this.b3 = false;\n        _this._htmlTest = null;\n        _this.b1 = a;\n        _this.htmlTest = /^[^<]*(<[\\w\\W]+>)[^>]*$/;\n        return _this;\n    }\n    CategoryToolTipLayerView.prototype.b7 = function () {\n        if (this.b2 == null) {\n            this.b2 = new PointerTooltip();\n            this.b2.bs(this.e.e4);\n            this.b2.ao = this.e.bs.bn.j;\n            this._tooltips = this.e.e4.createElement(\"div\");\n            this.b5 = this.e.e4.createElement(\"div\");\n            this.b2._visibility = 0;\n        }\n        return this.b2;\n    };\n    CategoryToolTipLayerView.prototype.ap = function () {\n        _super.prototype.ap.call(this);\n        if (this.b2 != null) {\n            this.b2._visibility = 1;\n        }\n    };\n    CategoryToolTipLayerView.prototype.ag = function () {\n        _super.prototype.ag.call(this);\n        if (this.b2 != null) {\n            this.b2.bo();\n            this.b2 = null;\n        }\n    };\n    Object.defineProperty(CategoryToolTipLayerView.prototype, \"htmlTest\", {\n        get: function () {\n            return this._htmlTest;\n        },\n        set: function (a) {\n            this._htmlTest = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CategoryToolTipLayerView.prototype.b4 = function (a, b, c) {\n        if (a.fz == \"default\") {\n            a.fz = a.bi.getDefaultTooltipTemplate();\n        }\n        var template_ = a.fz;\n        var context_ = c;\n        if (a.toolTip == null) {\n            return false;\n        }\n        var tooltip_ = a.toolTip;\n        if ((tooltip_.updateToolTip)) {\n            tooltip_._inPointer = true;\n            tooltip_.updateToolTip(context_, true);\n            tooltip_.setStyleProperty('position', 'relative');\n            tooltip_.setStyleProperty('left', '');\n            tooltip_.setStyleProperty('top', '');\n            tooltip_.remove();\n        }\n        this._tooltips.append(a.toolTip);\n        return true;\n    };\n    CategoryToolTipLayerView.prototype.ce = function (a) {\n        var b = a;\n        b.content = this._tooltips;\n        var c = new Size(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);\n        b.ct = 1;\n        var d = b.cs(new Size(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY));\n        b.ct = 0;\n        return d;\n    };\n    CategoryToolTipLayerView.prototype.cd = function (a) {\n        var b = 0;\n        var c = 0;\n        if (this.e.bs != null) {\n            var d = this.e.bs.mk();\n            b += d.x;\n            c += d.y;\n        }\n        return { $type: Point_$type, x: b + a.x, y: c + a.y };\n    };\n    CategoryToolTipLayerView.prototype.cb = function (a, b, c, d, e) {\n        var f = a;\n        var g = f.content;\n        f.cn = { $type: Point_$type, x: d, y: e };\n        f._visibility = 0;\n        f.n = b;\n        f.o = c;\n    };\n    CategoryToolTipLayerView.prototype.cf = function () {\n        var a = (window.innerWidth);\n        var b = (window.innerHeight);\n        return new Size(1, a, b);\n    };\n    CategoryToolTipLayerView.prototype.ca = function (a) {\n        this._tooltips.removeChildren();\n        this.b5.removeChildren();\n        this.b2._visibility = 1;\n    };\n    CategoryToolTipLayerView.prototype.b9 = function () {\n        if (this._tooltips != null) {\n            this._tooltips.removeChildren();\n        }\n    };\n    CategoryToolTipLayerView.prototype.cc = function () {\n    };\n    CategoryToolTipLayerView.prototype.a3 = function (a, b) {\n        _super.prototype.a3.call(this, a, b);\n        if (b) {\n            return;\n        }\n        var c = null;\n        if (this.e.bs != null) {\n            c = this.e.bs.bn.i.i();\n        }\n        var d = 0;\n        var e = 0;\n        var f = this.e.bs;\n        if (f != null) {\n            var g = f.bn.i.b7();\n            d += g.x;\n            e += g.y;\n        }\n        if (this.b2 != null) {\n            this.b2.ap = c;\n            this.b2.bu(this.b2.n, this.b2.o);\n        }\n    };\n    CategoryToolTipLayerView.prototype.ai = function (a) {\n        _super.prototype.ai.call(this, a);\n        var b = this.b2;\n        var c = 0;\n        var d = 0;\n        if (this.e.bs != null) {\n            var e = this.e.bs.mk();\n            c += e.x;\n            d += e.y;\n        }\n        var f = b.a3();\n        var g = b.n - c;\n        var h = b.o - d;\n        var i = new List$1(String_$type, 0);\n        var j = this._tooltips.getChildCount();\n        for (var k = 0; k < j; k++) {\n            var indexliteral_ = k.toString();\n            var l = this._tooltips.getChildAt(k).getText();\n            var m = l.toString();\n            i.add(m);\n        }\n        this.e.a2.addPointerTooltipData(a, f, g, h, i);\n    };\n    CategoryToolTipLayerView.$t = markType(CategoryToolTipLayerView, 'CategoryToolTipLayerView', AnnotationLayerView.$);\n    return CategoryToolTipLayerView;\n}(AnnotationLayerView));\nexport { CategoryToolTipLayerView };\n//# sourceMappingURL=CategoryToolTipLayer_combined.js.map\n"]},"metadata":{},"sourceType":"module"}