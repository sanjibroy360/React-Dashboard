{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { AnnotationLayer } from \"./AnnotationLayer\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Base, String_$type, typeCast, enumGetBox, fromEnum, runOn, delegateCombine, delegateRemove, Date_$type, Point_$type, markType, markDep } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { Brush } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { CalloutCollisionMode_$type } from \"./CalloutCollisionMode\";\nimport { FontUtil } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { CalloutLayerFrame } from \"./CalloutLayerFrame\";\nimport { HashSet$1 } from \"igniteui-react-core\";\nimport { CalloutAnnotationWrapper } from \"./CalloutAnnotationWrapper\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { LinkedList$1 } from \"igniteui-react-core\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { LinkedListNode$1 } from \"igniteui-react-core\";\nimport { LabelCollisionManager } from \"igniteui-react-core\";\nimport { SeriesPointOfInterest } from \"./SeriesPointOfInterest\";\nimport { CalloutAnnotation } from \"./CalloutAnnotation\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { CalloutSeriesSelectingEventArgs } from \"./CalloutSeriesSelectingEventArgs\";\nimport { CalloutStyleUpdatingEventArgs } from \"./CalloutStyleUpdatingEventArgs\";\nimport { QuadTreeBoundingBox } from \"igniteui-react-core\";\nimport { LabelCollisionInfo } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { Size } from \"igniteui-react-core\";\nimport { CalloutContentUpdatingEventArgs } from \"./CalloutContentUpdatingEventArgs\";\nimport { CalloutLabelUpdatingEventArgs } from \"./CalloutLabelUpdatingEventArgs\";\nimport { CalloutKey } from \"./CalloutKey\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { HashPool$2 } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty } from \"igniteui-react-core\";\nimport { FastItemObjectColumn } from \"igniteui-react-core\";\nimport { AnnotationLayerView } from \"./AnnotationLayerView\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { TextBlock } from \"igniteui-react-core\";\nimport { DOMExecutionContext } from \"igniteui-react-core\";\nimport { Color } from \"igniteui-react-core\";\nimport { Line } from \"igniteui-react-core\";\nimport { CalloutViewHelper } from \"./CalloutViewHelper\";\nimport { Rectangle } from \"igniteui-react-core\";\nimport { TranslateTransform } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar CalloutLayer =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(CalloutLayer, _super);\n\n  function CalloutLayer() {\n    var _this = _super.call(this) || this;\n\n    _this.calloutStyleUpdating = null;\n    _this.ng = null;\n    _this.nh = null;\n    _this.ni = null;\n    _this.nf = null;\n    _this.ne = null;\n    _this.n5 = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n    _this.n8 = new List$1(CalloutAnnotationWrapper.$, 0);\n    _this.n9 = new List$1(CalloutAnnotationWrapper.$, 0);\n    _this.nc = null;\n    _this.n6 = new LinkedList$1(CalloutAnnotationWrapper.$);\n    _this.n3 = new Dictionary$2(CalloutAnnotationWrapper.$, LinkedListNode$1.$.specialize(CalloutAnnotationWrapper.$), 0);\n    _this.no = null;\n    _this.qy = new Rect(0, 0, 0, 1, 1);\n    _this.nv = false;\n    _this.oj = 0;\n    _this.qx = Rect.empty;\n    _this.nt = false;\n    _this.nu = false;\n    _this.calloutContentUpdating = null;\n    _this.calloutLabelUpdating = null;\n    _this.calloutSeriesSelecting = null;\n    _this.n7 = new List$1(SeriesPointOfInterest.$, 0);\n    _this.nx = false;\n    _this.ny = false;\n    _this.ob = 0;\n    _this.nw = false;\n    _this.ns = true;\n    FastItemObjectColumn.m();\n    _this.mb = true;\n    var a = new CalloutLayerFrame();\n    var b = new CalloutLayerFrame();\n    var c = new CalloutLayerFrame();\n    var d = _this.fi / 1000;\n    _this.l3 = a;\n    _this.l2 = b;\n    _this.l4 = c;\n    _this.ab = CalloutLayer.$;\n    return _this;\n  }\n\n  CalloutLayer.prototype.pq = function (a, b) {\n    this.n9.clear();\n    this.je(false);\n  };\n\n  CalloutLayer.prototype.hz = function (a, b, c, d) {\n    _super.prototype.hz.call(this, a, b, c, d);\n\n    var e = this.n4();\n\n    switch (a) {\n      case 3:\n        this.p2(b, e);\n        break;\n\n      case 1:\n        for (var f = b; f < b + c; f++) {\n          var g = new CalloutAnnotation();\n          var h = new CalloutAnnotationWrapper();\n          h.b = g;\n          h.b.series = this.nb;\n          this.n9.insert(f, h);\n          this.p2(f, e);\n        }\n\n        break;\n\n      case 0:\n        this.n9.v(b, c);\n        break;\n\n      case 2:\n        for (var i = b; i < b + c; i++) {\n          this.p2(i, e);\n        }\n\n        break;\n\n      case 4:\n        this.n9.clear();\n\n        for (var j = 0; j < this.bz.count; j++) {\n          var k = new CalloutAnnotation();\n          var l = new CalloutAnnotationWrapper();\n          l.b = k;\n          l.b.series = this.nb;\n          this.n9.add(l);\n          this.p2(j, e);\n        }\n\n        break;\n    }\n\n    this.je(true);\n  };\n\n  CalloutLayer.prototype.da = function (a) {\n    return false;\n  };\n\n  CalloutLayer.prototype.n4 = function () {\n    var a = new Dictionary$2(String_$type, Series.$, 0);\n\n    if (this.bs != null) {\n      for (var b = 0; b < this.bs.series.count; b++) {\n        var c = this.bs.series._inner[b];\n\n        if (c.name != null && !a.containsKey(c.name)) {\n          a.addItem(c.name, c);\n        }\n      }\n    }\n\n    return a;\n  };\n\n  CalloutLayer.prototype.p2 = function (a, b) {\n    var _this = this;\n\n    if (this.nn == null || this.nl == null) {\n      return;\n    }\n\n    var c = a;\n\n    if (this.nm != null) {\n      c = this.nm.item(a);\n    }\n\n    var d = this.nn.item(a);\n    var e = this.nl.item(a);\n    var f = this.n9._inner[a];\n\n    if (this.nk != null) {\n      f.b.key = this.nk.item(a);\n    }\n\n    if (this.n3.containsKey(f)) {\n      f.b = this.n3.item(f).c.b;\n    }\n\n    f.b.xValue = c;\n    f.b.yValue = d;\n    f.b.text = e != null ? e.toString() : \"\";\n\n    if (this.nj != null) {\n      f.b.content = this.nj.item(a);\n    } else {\n      f.b.content = this.bz.item(a);\n    }\n\n    if (this.calloutSeriesSelecting != null) {\n      var g = function () {\n        var $ret = new CalloutSeriesSelectingEventArgs();\n        $ret.c = c;\n        $ret.d = d;\n        $ret.item = _this.bz.item(a);\n        return $ret;\n      }();\n\n      this.calloutSeriesSelecting(this, g);\n\n      if (g.a != null) {\n        f.b.series = g.a;\n      } else if (g.e != null) {\n        if (b.containsKey(g.e)) {\n          f.b.series = b.item(g.e);\n        }\n      }\n    }\n\n    this.p3(f);\n  };\n\n  CalloutLayer.prototype.p3 = function (a) {\n    var b = new Thickness(0, 3);\n\n    if (isNaN_(this.q0.c) || isNaN_(this.q0.e) || isNaN_(this.q0.d) || isNaN_(this.q0.b)) {\n      b = new Thickness(0, 3);\n    } else {\n      b = this.q0;\n    }\n\n    var c = this.qt != null ? this.qt : this.m8.ce(a.b.series);\n    var d = this.qw != null ? this.qw : this.m8.ch();\n    var e = this.qv != null ? this.qv : this.m8.cg();\n    var f = this.qu != null ? this.qu : this.m8.cf(a.b.series);\n    var g = isNaN_(this.oh) ? 0 : this.oh;\n\n    if (this.n1 && this.calloutStyleUpdating != null) {\n      var h = new CalloutStyleUpdatingEventArgs();\n      h.item = a.b.content;\n      h.xValue = a.b.xValue;\n      h.yValue = a.b.yValue;\n      h.series = a.b.series;\n      h.background = c;\n      h.textColor = d;\n      h.outline = e;\n      h.leaderBrush = f;\n      h.strokeThickness = g;\n      this.calloutStyleUpdating(this, h);\n      c = h.background;\n      d = h.textColor;\n      e = h.outline;\n      f = h.leaderBrush;\n      g = h.strokeThickness;\n    }\n\n    a.b.backgroundPadding = b;\n    a.b.background = c;\n    a.b.textColor = d;\n    a.b.outline = e;\n    a.b.leaderBrush = f;\n    a.b.strokeThickness = g;\n  };\n\n  CalloutLayer.prototype.fs = function (a, b) {\n    var c = this.gv(b);\n\n    if (c == CalloutLayer.$$p[19]) {\n      return this.ft(a, b, this.pe);\n    }\n\n    if (c == CalloutLayer.$$p[23]) {\n      return this.ft(a, b, this.pl);\n    }\n\n    if (c == CalloutLayer.$$p[24]) {\n      return this.ft(a, b, this.po);\n    }\n\n    if (c == CalloutLayer.$$p[18]) {\n      return this.ft(a, b, this.pb);\n    }\n\n    if (c == CalloutLayer.$$p[14]) {\n      return this.ft(a, b, this.o5);\n    }\n\n    return _super.prototype.fs.call(this, a, b);\n  };\n\n  Object.defineProperty(CalloutLayer.prototype, \"nl\", {\n    get: function () {\n      return this.ng;\n    },\n    set: function (a) {\n      if (this.ng != a) {\n        var b = this.ng;\n        this.ng = a;\n        this.raisePropertyChanged(\"LabelColumn\", b, this.ng);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"nm\", {\n    get: function () {\n      return this.nh;\n    },\n    set: function (a) {\n      if (this.nh != a) {\n        var b = this.nh;\n        this.nh = a;\n        this.raisePropertyChanged(\"XColumn\", b, this.nh);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"nn\", {\n    get: function () {\n      return this.ni;\n    },\n    set: function (a) {\n      if (this.ni != a) {\n        var b = this.ni;\n        this.ni = a;\n        this.raisePropertyChanged(\"YColumn\", b, this.ni);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"nk\", {\n    get: function () {\n      return this.nf;\n    },\n    set: function (a) {\n      if (this.nf != a) {\n        var b = this.nf;\n        this.nf = a;\n        this.raisePropertyChanged(\"KeyColumn\", b, this.nf);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"nj\", {\n    get: function () {\n      return this.ne;\n    },\n    set: function (a) {\n      if (this.ne != a) {\n        var b = this.ne;\n        this.ne = a;\n        this.raisePropertyChanged(\"ContentColumn\", b, this.ne);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  CalloutLayer.prototype.ps = function (a, b) {\n    if (b.propertyName == CalloutAnnotation.$$p[13] || b.propertyName == CalloutAnnotation.$$p[14]) {\n      var c = a.k;\n\n      if (!this.n5.contains(c)) {\n        this.n5.add_1(c);\n        this.n8.add(c);\n        this.je(false);\n      }\n    }\n  };\n\n  CalloutLayer.prototype.bf = function () {\n    return new CalloutLayerView(this);\n  };\n\n  CalloutLayer.prototype.iv = function (a) {\n    _super.prototype.iv.call(this, a);\n\n    this.m8 = a;\n  };\n\n  Object.defineProperty(CalloutLayer.prototype, \"q0\", {\n    get: function () {\n      return new Thickness(1, this.od, this.of, this.oe, this.oc);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"nd\", {\n    get: function () {\n      if (this.nc == null) {\n        this.nc = FontUtil.toFontInfo(this.e4, this.ph);\n      }\n\n      return this.nc;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  CalloutLayer.prototype.mm = function (a, b) {\n    if (this.nb == null || this.nb == a) {\n      if (!this.aq.c) {\n        this.je(b);\n      }\n    }\n  };\n\n  CalloutLayer.prototype.mo = function (a, b) {\n    var e_1, _a;\n\n    _super.prototype.mo.call(this, a, b);\n\n    var c = a;\n    c.p.clear();\n    c.q.clear();\n    c.m.clear();\n    c.f.clear();\n    c.h.clear();\n    c.g.clear();\n    c.j.clear();\n    c.l.clear();\n    c.k.clear();\n    c.i.clear();\n    c.n.clear();\n    c.o.clear();\n    c.t.clear();\n    c.u.clear();\n    c.r.clear();\n    c.s.clear();\n    var d = this.oa();\n    var e = new List$1(CalloutAnnotationWrapper.$, 0);\n\n    if (this.nz) {\n      if (this.l9(this.nb)) {\n        this.pz(this.nb, c, e);\n      } else {\n        try {\n          for (var _b = tslib_1.__values(fromEnum(this.bs.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var f = _c.value;\n\n            if (this.l9(f)) {\n              this.pz(f, c, e);\n            }\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n    }\n\n    this.py(c, d, e);\n  };\n\n  CalloutLayer.prototype.ju = function (a, b) {\n    _super.prototype.ju.call(this, a, b);\n\n    var c = b.width - this.qy.width;\n    var d = b.height - this.qy.height;\n    var e = 0;\n\n    if (Math.abs(c) > Math.abs(d)) {\n      e = c;\n      this.ob = c * this.lz.width;\n    } else {\n      e = d;\n      this.ob = d * this.lz.height;\n    }\n\n    if (e > 0 && this.ob > 5) {\n      this.ny = true;\n    }\n\n    if (e < 0 && this.ob > 5) {\n      this.nx = true;\n    }\n  };\n\n  CalloutLayer.prototype.jt = function (a, b) {\n    _super.prototype.jt.call(this, a, b);\n\n    if (!a.equals1(b)) {\n      this.nw = true;\n    }\n  };\n\n  Object.defineProperty(CalloutLayer.prototype, \"qz\", {\n    get: function () {\n      return this.qx;\n    },\n    set: function (a) {\n      this.qx = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  CalloutLayer.prototype.py = function (a, b, c) {\n    var e_2, _a;\n\n    if (this.bs != null) {\n      this.qy = this.bs.mr;\n    }\n\n    if (this.lz.isEmpty) {\n      return;\n    }\n\n    this.qz = new Rect(0, this.lz.left, this.lz.top, this.lz.width, this.lz.height);\n\n    if (this.no != null && this.o2 != null && this.o2 != this.no.ak) {\n      this.pu();\n    }\n\n    if (this.no == null) {\n      var d = this.np();\n\n      if (d != null) {\n        this.no = d;\n        var e = this.no;\n        e.labelsMoved = delegateCombine(e.labelsMoved, runOn(this, this.pr));\n      } else {\n        var f = this.lr(this.bi);\n        var g = 0;\n\n        if (this.nb != null) {\n          if (this.nb.isVertical) {\n            g = 2;\n          }\n        } else {\n          var h = false;\n\n          if (this.bs != null && this.bs.series.count > 0) {\n            h = true;\n\n            try {\n              for (var _b = tslib_1.__values(fromEnum(this.bs.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n\n                if (!i.cj) {\n                  if (!i.isVertical) {\n                    h = false;\n                  }\n                }\n              }\n            } catch (e_2_1) {\n              e_2 = {\n                error: e_2_1\n              };\n            } finally {\n              try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n              } finally {\n                if (e_2) throw e_2.error;\n              }\n            }\n          }\n\n          if (h) {\n            g = 2;\n          }\n        }\n\n        this.no = new LabelCollisionManager(this.lz.right, this.lz.bottom, this.lz, this.m8.b4(), this.og, this.nq(), g, this.on(), this.om(), this.n0);\n\n        if (this.o2 != null) {\n          this.no.ak = this.o2;\n          this.no.ai = this;\n        }\n\n        var j = this.no;\n        j.labelsMoved = delegateCombine(j.labelsMoved, runOn(this, this.pr));\n      }\n    }\n\n    if (this.nx) {\n      this.nx = false;\n\n      if (this.no.ag > 2) {\n        this.nv = true;\n      }\n    }\n\n    if (this.ny) {\n      this.ny = false;\n\n      if (this.ob > 5) {\n        this.nv = true;\n      }\n    }\n\n    if (this.nw) {\n      this.nw = false;\n      this.no.ay(this.lz.right, this.lz.bottom, this.lz);\n      this.nv = true;\n    }\n\n    var k = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n    var l = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n    var m = new List$1(CalloutAnnotationWrapper.$, 0);\n    var n = new List$1(CalloutAnnotationWrapper.$, 0);\n    var o = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n\n    for (var p = 0; p < b.count; p++) {\n      o.add_1(b._inner[p]);\n    }\n\n    for (var q = 0; q < c.count; q++) {\n      o.add_1(c._inner[q]);\n    }\n\n    var r = this.n6.c;\n\n    while (r != null) {\n      var s = r.a;\n\n      if (!o.contains(r.c)) {\n        n.add(r.c);\n        l.add_1(r.c);\n        var t = r.c.b;\n        t.propertyChanged = delegateRemove(t.propertyChanged, runOn(this, this.ps));\n        this.n6.h(r);\n        this.n3.removeItem(r.c);\n        this.no.ax(r.c.c);\n      }\n\n      r = s;\n    }\n\n    for (var u = 0; u < b.count; u++) {\n      if (!this.n3.containsKey(b._inner[u])) {\n        this.n6.f(b._inner[u]);\n        var v = b._inner[u].b;\n        v.propertyChanged = delegateCombine(v.propertyChanged, runOn(this, this.ps));\n        this.n3.addItem(b._inner[u], this.n6.d);\n        m.add(b._inner[u]);\n        k.add_1(b._inner[u]);\n        this.nv = true;\n      }\n    }\n\n    for (var w = 0; w < c.count; w++) {\n      if (!this.n3.containsKey(c._inner[w])) {\n        this.n6.f(c._inner[w]);\n        this.n3.addItem(c._inner[w], this.n6.d);\n        var x = c._inner[w].b;\n        x.propertyChanged = delegateCombine(x.propertyChanged, runOn(this, this.ps));\n        m.add(c._inner[w]);\n        k.add_1(c._inner[w]);\n        this.nv = true;\n      }\n    }\n\n    if (this.nt == true) {\n      this.nt = false;\n      this.nv = true;\n    }\n\n    if (this.n8.count > 0) {\n      this.nv = true;\n      this.n8.clear();\n      this.n5.clear();\n    }\n\n    r = this.n6.c;\n\n    while (r != null) {\n      var y = this.nr(r.c);\n\n      if (y == null) {\n        return;\n      }\n\n      if (!Base.equalsStatic(y, r.c.c.c)) {\n        var z = false;\n\n        if (r.c.c.c == null) {\n          z = true;\n        }\n\n        var aa = r.c.c;\n        aa.o = y.b;\n        aa.p = y.c;\n\n        if (!isNaN_(aa.o) && !isNaN_(aa.p)) {\n          aa.n = y.e;\n          aa.m = y.d;\n\n          if (aa.b == null) {\n            this.no.p(aa);\n          }\n\n          if (z) {\n            this.no.al(aa);\n          } else {\n            this.no.au(aa);\n          }\n        }\n      }\n\n      r = r.a;\n    }\n\n    var ab = this.no.ah();\n    var ac = this.no.q();\n\n    if (this.nv && (ab != 0 || ac)) {\n      this.nv = false;\n      this.oj = 0x7FFFFFFF;\n\n      if (this.o2 != null) {\n        var ad = true;\n\n        for (var ae = 0; ae < this.bs.series.count; ae++) {\n          var af = this.bs.series._inner[ae];\n\n          if (af.cj && typeCast(CalloutLayer.$, af) !== null) {\n            var ag = af;\n\n            if (ag.o2 == this.o2) {\n              if (!ag.qz.equals1(this.no.a0)) {\n                ad = false;\n                break;\n              }\n            }\n          }\n        }\n\n        if (ad) {\n          this.no.az();\n        } else {\n          this.no.am();\n          this.no.an();\n        }\n      } else {\n        this.no.az();\n      }\n    } else {\n      this.no.an();\n    }\n\n    var ah = this.n6.c;\n\n    while (ah != null) {\n      var ai = ah.c;\n      a.m.add1(ai);\n      a.f.add(ai.b.background);\n      a.h.add(ai.b.outline);\n      a.g.add(ai.b.leaderBrush);\n      a.j.add(ai.b.backgroundPadding.c);\n      a.l.add(ai.b.backgroundPadding.e);\n      a.k.add(ai.b.backgroundPadding.d);\n      a.i.add(ai.b.backgroundPadding.b);\n      a.n.add(ai.b.strokeThickness);\n      a.o.add(ai.b.textColor);\n      a.p.add1(ai.b.text);\n      a.q.add1(ai.b.content);\n      var aj = ai.c;\n      a.t.add(ai.c.o - (ai.c.g - ai.c.l));\n      a.u.add(ai.c.p - (ai.c.h - ai.c.k));\n      a.r.add(ai.c.g - ai.c.l);\n      a.s.add(ai.c.h - ai.c.k);\n      ah = ah.a;\n    }\n  };\n\n  CalloutLayer.prototype.pu = function () {\n    if (this.no != null) {\n      var a = this.n6.c;\n\n      while (a != null) {\n        var b = a.c.c;\n\n        if (b != null) {\n          this.no.ax(b);\n        }\n\n        a = a.a;\n      }\n\n      var c = this.no;\n      c.labelsMoved = delegateRemove(c.labelsMoved, runOn(this, this.pr));\n      this.no = null;\n    }\n\n    this.pt();\n  };\n\n  CalloutLayer.prototype.np = function () {\n    if (this.bs == null) {\n      return null;\n    }\n\n    for (var a = 0; a < this.bs.series.count; a++) {\n      var b = this.bs.series._inner[a];\n\n      if (b.cj && typeCast(CalloutLayer.$, b) !== null) {\n        var c = b;\n\n        if (c != this) {\n          if (c.o2 != null && c.o2 == this.o2) {\n            if (c.no != null) {\n              return c.no;\n            }\n          }\n        }\n      }\n    }\n\n    return null;\n  };\n\n  CalloutLayer.prototype.om = function () {\n    return 20000;\n  };\n\n  CalloutLayer.prototype.on = function () {\n    return 300;\n  };\n\n  CalloutLayer.prototype.nq = function () {\n    switch (this.m5) {\n      case 0:\n        return 2;\n\n      case 2:\n        return 1;\n\n      case 3:\n        return 2;\n\n      case 1:\n        return 0;\n    }\n\n    return 2;\n  };\n\n  CalloutLayer.prototype.pr = function (a) {\n    var b = this.no.ah();\n\n    if (b < this.oj) {\n      this.oj = b;\n      this.je(false);\n    }\n  };\n\n  CalloutLayer.prototype.nr = function (a) {\n    var b = this.nb;\n\n    if (a.b.series != null) {\n      b = a.b.series;\n    }\n\n    if (b == null) {\n      for (var c = 0; c < this.bs.series.count; c++) {\n        var d = this.bs.series._inner[c];\n\n        if (!d.cj) {\n          b = d;\n          break;\n        }\n      }\n    }\n\n    if (b == null) {\n      return null;\n    }\n\n    var e = b.ag();\n    var f = b.eh();\n    var g = null;\n    var h = null;\n\n    for (var i = 0; i < e.length; i++) {\n      if (e[i].ch) {\n        h = e[i];\n      } else {\n        g = e[i];\n      }\n    }\n\n    if (g == null || h == null) {\n      return null;\n    }\n\n    if (!g.cg() || !h.cg()) {\n      return null;\n    }\n\n    var j = 0;\n    var k = 0;\n\n    if (g.b4 && g.categoryMode != 0) {\n      if (b.cr) {\n        j = b.getOffsetValue();\n      } else if (b.cl) {\n        j = b.getOffsetValue();\n      }\n    }\n\n    if (h.b4 && h.categoryMode != 0) {\n      if (b.cl) {\n        k = b.getOffsetValue();\n      }\n    }\n\n    var l = new ScalerParams(0, this.bs.mr, g.i8, g.ca, g.i3());\n    l.b = f;\n    var m = new ScalerParams(0, this.bs.mr, h.i8, h.ca, h.i3());\n    m.b = f;\n    var n = g.dy(this.oi(a.b.xValue), l) + j;\n    var o = h.dy(this.oi(a.b.yValue), m) + k;\n    var p = new QuadTreeBoundingBox();\n    p.b = n;\n    p.c = o;\n    p.e = 3;\n    p.d = 3;\n    p.g = a.b;\n    return p;\n  };\n\n  CalloutLayer.prototype.oi = function (a) {\n    if (typeCast(Date_$type, a) !== null) {\n      return a.getTime();\n    }\n\n    if (a == null) {\n      return 0;\n    }\n\n    return a;\n  };\n\n  CalloutLayer.prototype.oa = function () {\n    var a = new List$1(CalloutAnnotationWrapper.$, 0);\n\n    for (var b = 0; b < this.n9.count; b++) {\n      if (stringIsNullOrEmpty(this.n9._inner[b].b.text)) {\n        continue;\n      }\n\n      if (this.n9._inner[b].c == null) {\n        var c = new LabelCollisionInfo();\n        this.n9._inner[b].c = c;\n        var d = this.m8.cj(this.oo(this.n9._inner[b]), this.n9._inner[b].b.backgroundPadding);\n        c.k = d.height / 2;\n        c.l = d.width / 2;\n      }\n\n      var e = this.nr(this.n9._inner[b]);\n\n      if (e == null || e.b < this.lz.left || e.b > this.lz.right || e.c < this.lz.top || e.c > this.lz.bottom) {\n        continue;\n      }\n\n      a.add(this.n9._inner[b]);\n    }\n\n    return a;\n  };\n\n  CalloutLayer.prototype.oo = function (a) {\n    return a.b.text;\n  };\n\n  CalloutLayer.prototype.l9 = function (a) {\n    if (!_super.prototype.l9.call(this, a)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  CalloutLayer.prototype.ip = function () {\n    _super.prototype.ip.call(this);\n\n    if (!this.aq.c && !this.ca()) {\n      return;\n    }\n\n    if (this.ns) {\n      this.ns = false;\n      this.pw();\n    }\n\n    if (this.ca()) {\n      this.p1(this.l4, false);\n    } else {\n      this.p1(this.l2, false);\n    }\n  };\n\n  CalloutLayer.prototype.px = function () {\n    if (!this.nu) {\n      this.nu = true;\n      this.je(true);\n    }\n  };\n\n  CalloutLayer.prototype.pz = function (a, b, c) {\n    if (a.ch(this.n7, this.n2, this.ok)) {\n      var d = this.n7;\n\n      var _loop_1 = function (e) {\n        var f = d._inner[e];\n        var g = f.a.item != null ? f.a.item : f.a;\n        var h = a;\n        var i = new CalloutKey(g, h);\n        var j = new CalloutAnnotationWrapper();\n        var k = new CalloutAnnotation();\n        j.b = k;\n        k.key = i;\n        var l = false;\n        var m = false;\n\n        if (this_1.nu) {\n          this_1.nu = false;\n          m = true;\n        }\n\n        if (this_1.n3.containsKey(j)) {\n          j = this_1.n3.item(j).c;\n          k = j.b;\n        } else {\n          if (!m) {\n            l = true;\n          }\n        }\n\n        var n = k.xValue;\n        var o = k.yValue;\n\n        if (this_1.oi(n) != this_1.oi(f.b)) {\n          k.xValue = f.b;\n        }\n\n        if (this_1.oi(o) != this_1.oi(f.c)) {\n          k.yValue = f.c;\n        }\n\n        k.series = a;\n\n        if (l && this_1.calloutLabelUpdating != null) {\n          var p = function () {\n            var $ret = new CalloutLabelUpdatingEventArgs();\n            $ret.c = k.xValue;\n            $ret.d = k.yValue;\n            $ret.item = g;\n            return $ret;\n          }();\n\n          this_1.calloutLabelUpdating(this_1, p);\n\n          if (p.b != null && !Base.equalsStatic(p.b, j.b.text)) {\n            var q = p.b;\n            j.b.text = q != null ? q.toString() : \"\";\n          }\n        } else {\n          if (f.d != null) {\n            k.text = f.d;\n          }\n        }\n\n        if (k.text == null) {\n          return \"continue\";\n        }\n\n        if (l) {\n          if (this_1.calloutContentUpdating != null) {\n            var r = function () {\n              var $ret = new CalloutContentUpdatingEventArgs();\n              $ret.c = k.xValue;\n              $ret.d = k.yValue;\n              $ret.item = g;\n              $ret.a = g;\n              return $ret;\n            }();\n\n            this_1.calloutContentUpdating(this_1, r);\n\n            if (r.a != null && r.a != j.b.content) {\n              j.b.content = r.a;\n            }\n          } else {\n            if (g != null && g != j.b.content) {\n              j.b.content = g;\n            }\n          }\n        }\n\n        if (l) {\n          this_1.p3(j);\n        }\n\n        if (j.c == null) {\n          var s = new LabelCollisionInfo();\n          j.c = s;\n          var t = this_1.m8.cj(this_1.oo(j), j.b.backgroundPadding);\n          s.k = t.height / 2;\n          s.l = t.width / 2;\n        }\n\n        var u = this_1.nr(j);\n\n        if (u == null || u.b < this_1.lz.left || u.b > this_1.lz.right || u.c < this_1.lz.top || u.c > this_1.lz.bottom) {\n          return \"continue\";\n        }\n\n        c.add(j);\n      };\n\n      var this_1 = this;\n\n      for (var e = 0; e < this.n7.count; e++) {\n        _loop_1(e);\n      }\n    }\n  };\n\n  CalloutLayer.prototype.bd = function () {\n    return 1;\n  };\n\n  CalloutLayer.prototype.ar = function (a, b) {\n    var c = this.no.d(a, b);\n\n    if (c == null) {\n      return null;\n    }\n\n    return c.u;\n  };\n\n  CalloutLayer.prototype.dh = function (a, b) {\n    if (this.no == null) {\n      return false;\n    }\n\n    return this.no.d(a, b) != null;\n  };\n\n  CalloutLayer.prototype.p1 = function (a, b) {\n    var e_3, _a;\n\n    var c = 0;\n    var d = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n\n    for (c = 0; c < a.p.count; c++) {\n      var e = a.m._inner[c];\n\n      if (isNaN_(a.t._inner[c]) || isNaN_(a.u._inner[c])) {\n        continue;\n      }\n\n      var f = this.m8.b6.item(e);\n      d.add_1(e);\n\n      if (f.f != a.p._inner[c]) {\n        f.f = a.p._inner[c];\n        var g = f.s();\n      }\n\n      f.c = a.n._inner[c];\n      f.k = a.f._inner[c];\n      f.n = a.o._inner[c];\n      f.m = f.c > 0 ? a.h._inner[c] : this.bi.bn();\n      f.l = a.g._inner[c];\n      f.v = new Thickness(1, a.j._inner[c], a.l._inner[c], a.k._inner[c], a.i._inner[c]);\n      this.m8.cc(f, Math.min(a.r._inner[c], a.r._inner[c] + a.t._inner[c]), Math.min(a.s._inner[c], a.s._inner[c] + a.u._inner[c]));\n      this.m8.cd(f, e, a.q._inner[c]);\n      f.p = {\n        $type: Point_$type,\n        x: a.t._inner[c],\n        y: a.u._inner[c]\n      };\n    }\n\n    var h = new List$1(CalloutAnnotationWrapper.$, 0);\n\n    try {\n      for (var _b = tslib_1.__values(fromEnum(this.m8.b6.c)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var i = _c.value;\n\n        if (!d.contains(i)) {\n          h.add(i);\n        }\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    for (var j = 0; j < h.count; j++) {\n      this.m8.b6.g(h._inner[j]);\n    }\n  };\n\n  CalloutLayer.prototype.mr = function (a, b) {\n    _super.prototype.mr.call(this, a, b);\n\n    if (this.ca()) {\n      this.p1(this.l4, true);\n    } else {\n      this.p1(this.l2, false);\n    }\n  };\n\n  CalloutLayer.prototype.c8 = function () {\n    return true;\n  };\n\n  CalloutLayer.prototype.i0 = function (a, b, c, d) {\n    _super.prototype.i0.call(this, a, b, c, d);\n\n    switch (b) {\n      case CalloutLayer.$$p[21]:\n        this.nc = null;\n        this.je(true);\n        break;\n\n      case CalloutLayer.$$p[20]:\n        this.je(true);\n        break;\n\n      case CalloutLayer.$$p[13]:\n        this.je(true);\n        break;\n\n      case \"SeriesViewer\":\n        if (c != null) {\n          var e = c;\n          e.seriesAnimating = delegateRemove(e.seriesAnimating, runOn(this, this.p0));\n        }\n\n        if (d != null) {\n          var f = d;\n          f.seriesAnimating = delegateCombine(f.seriesAnimating, runOn(this, this.p0));\n        }\n\n        if (d == null) {\n          this.pu();\n        }\n\n        break;\n\n      case CalloutLayer.$$p[15]:\n      case CalloutLayer.$$p[16]:\n      case CalloutLayer.$$p[1]:\n      case CalloutLayer.$$p[5]:\n      case CalloutLayer.$$p[4]:\n      case CalloutLayer.$$p[7]:\n      case CalloutLayer.$$p[9]:\n      case CalloutLayer.$$p[8]:\n      case CalloutLayer.$$p[6]:\n      case CalloutLayer.$$p[11]:\n      case CalloutLayer.$$p[12]:\n        this.pv();\n        break;\n\n      case CalloutLayer.$$p[19]:\n        if (this.bz != null) {\n          this.bz.deregisterColumn(this.nl);\n          this.nl = this.by(this.pe);\n        }\n\n        break;\n\n      case \"LabelColumn\":\n        this.pv();\n        break;\n\n      case CalloutLayer.$$p[14]:\n        if (this.bz != null) {\n          this.bz.deregisterColumn(this.nj);\n          this.nj = this.by(this.o5);\n        }\n\n        break;\n\n      case \"ContentColumn\":\n        this.pv();\n        break;\n\n      case CalloutLayer.$$p[23]:\n        if (this.bz != null) {\n          this.bz.deregisterColumn(this.nm);\n          this.nm = stringIsNullOrEmpty(this.pl) == false ? this.by(this.pl) : null;\n        }\n\n        break;\n\n      case \"XColumn\":\n        this.pv();\n        break;\n\n      case CalloutLayer.$$p[24]:\n        if (this.bz != null) {\n          this.bz.deregisterColumn(this.nn);\n          this.nn = this.by(this.po);\n        }\n\n        break;\n\n      case \"YColumn\":\n        this.pv();\n        break;\n\n      case CalloutLayer.$$p[18]:\n        if (this.bz != null) {\n          this.bz.deregisterColumn(this.nk);\n          this.nk = this.by(this.pb);\n        }\n\n        break;\n\n      case \"KeyColumn\":\n        this.pv();\n        break;\n\n      case \"FastItemsSource\":\n        this.nt = true;\n\n        if (typeCast(IFastItemsSource_$type, c) != null) {\n          c.deregisterColumn(this.nl);\n          c.deregisterColumn(this.nj);\n          c.deregisterColumn(this.nm);\n          c.deregisterColumn(this.nn);\n          c.deregisterColumn(this.nk);\n          this.nl = null;\n          this.nj = null;\n          this.nm = null;\n          this.nn = null;\n          this.nk = null;\n          this.n9.clear();\n        }\n\n        if (typeCast(IFastItemsSource_$type, d) != null) {\n          this.nl = this.by(this.pe);\n          this.nj = this.by(this.o5);\n\n          if (stringIsNullOrEmpty(this.pl) == false) {\n            this.nm = this.by(this.pl);\n          }\n\n          this.nn = this.by(this.po);\n          this.nk = this.by(this.pb);\n        }\n\n        this.pv();\n        break;\n    }\n  };\n\n  CalloutLayer.prototype.p0 = function (a) {\n    if (a.cj) {\n      return;\n    }\n\n    if ((a == this.nb || this.nb == null) && this.nz) {\n      this.je(false);\n    }\n  };\n\n  CalloutLayer.prototype.pv = function () {\n    if (this.ns == false) {\n      this.ns = true;\n      this.je(false);\n    }\n  };\n\n  CalloutLayer.prototype.pt = function () {\n    this.m8.b6.clear();\n    this.n6.g();\n    this.n3.clear();\n  };\n\n  CalloutLayer.prototype.pw = function () {\n    if (this.nn == null || this.nl == null) {\n      var a = this.n6.c;\n\n      while (a != null) {\n        this.p3(a.c);\n        a = a.a;\n      }\n\n      return;\n    }\n\n    var b = this.n4();\n\n    for (var c = 0; c < this.nn.count; c++) {\n      var d = void 0;\n\n      if (this.n9.count <= c) {\n        var e = new CalloutAnnotation();\n        d = new CalloutAnnotationWrapper();\n        d.b = e;\n        d.b.series = this.nb;\n        this.n9.add(d);\n      } else {\n        d = this.n9._inner[c];\n      }\n\n      this.p2(c, b);\n    }\n  };\n\n  CalloutLayer.$t = markType(CalloutLayer, 'CalloutLayer', AnnotationLayer.$);\n  CalloutLayer.$$p = markDep(DependencyProperty, PropertyMetadata, CalloutLayer, 'raisePropertyChanged', ['AutoCalloutLabelPrecision:ok:p4', [1, 5], 'CalloutBackground:qt:p5', [Brush.$, null], 'CalloutCollisionMode:m5:p6', [CalloutCollisionMode_$type, enumGetBox(CalloutCollisionMode_$type, 3)], 'CalloutInterpolatedValuePrecision:ol:p7', [1, -1], 'CalloutLeaderBrush:qu:p8', [Brush.$, null], 'CalloutOutline:qv:p9', [Brush.$, null], 'CalloutPaddingBottom:oc:qa', [1, NaN], 'CalloutPaddingLeft:od:qb', [1, NaN], 'CalloutPaddingRight:oe:qc', [1, NaN], 'CalloutPaddingTop:of:qd', [1, NaN], 'CalloutPositionPadding:og:qe', [1, 10], 'CalloutStrokeThickness:oh:qf', [1, NaN], 'CalloutTextColor:qw:qg', [Brush.$, null], 'CollisionChannel:o2:qh', [2, null], 'ContentMemberPath:o5:qi', [2, null], 'IsAutoCalloutBehaviorEnabled:nz:qj', [0, false], 'IsCalloutOffsettingEnabled:n0:qk', [0, true], 'IsCustomCalloutStyleEnabled:n1:ql', [0, false], 'KeyMemberPath:pb:qm', [2, null], 'LabelMemberPath:pe:qn', [2, null], 'TargetSeries:nb:qo', [Series.$, null], 'TextStyle:ph:qp', [2, null], 'UseValueForAutoCalloutLabels:n2:qq', [0, true], 'XMemberPath:pl:qr', [2, null], 'YMemberPath:po:qs', [2, null]]);\n  return CalloutLayer;\n}(AnnotationLayer);\n\nexport { CalloutLayer };\n/**\n * @hidden\n */\n\nvar CalloutLayerView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(CalloutLayerView, _super);\n\n  function CalloutLayerView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.b1 = null;\n    _this.b7 = null;\n    _this.b6 = null;\n    _this.b8 = NaN;\n    _this.b2 = null;\n    _this.b1 = a;\n    _this.b7 = new List$1(CalloutView.$, 0);\n    return _this;\n  }\n\n  CalloutLayerView.prototype.ap = function () {\n    var _this = this;\n\n    _super.prototype.ap.call(this);\n\n    this.b6 = function () {\n      var $ret = new HashPool$2(CalloutAnnotationWrapper.$, CalloutView.$);\n      $ret.create = runOn(_this, _this.b3);\n      $ret.activate = runOn(_this, _this.b9);\n      $ret.disactivate = runOn(_this, _this.cb);\n      $ret.destroy = runOn(_this, _this.ca);\n      return $ret;\n    }();\n  };\n\n  CalloutLayerView.prototype.b3 = function () {\n    var a = new CalloutView(this);\n    this.b7.add(a);\n    return a;\n  };\n\n  CalloutLayerView.prototype.b9 = function (a) {\n    a.w = 0;\n  };\n\n  CalloutLayerView.prototype.cb = function (a) {\n    a.w = 1;\n  };\n\n  CalloutLayerView.prototype.ca = function (a) {\n    this.b7.remove(a);\n  };\n\n  CalloutLayerView.prototype.ci = function (a) {\n    if (a == null) {\n      return a;\n    }\n\n    return BrushUtil.l(a, 0.1);\n  };\n\n  CalloutLayerView.prototype.a3 = function (a, b) {\n    _super.prototype.a3.call(this, a, b);\n\n    a.ac(this.b5());\n\n    if (a.d && !b) {\n      for (var c = 0; c < this.b7.count; c++) {\n        var d = this.b7._inner[c];\n\n        if (d.w == 0) {\n          d.h(a);\n        }\n      }\n    }\n  };\n\n  CalloutLayerView.prototype.b5 = function () {\n    if (this.b1.nd != null) {\n      return this.b1.nd;\n    }\n\n    return this.e.bs.getFontInfo();\n  };\n\n  CalloutLayerView.prototype.ai = function (a) {\n    _super.prototype.ai.call(this, a);\n\n    for (var b = 0; b < this.b7.count; b++) {\n      var c = this.b7._inner[b];\n\n      if (c.w != 0) {\n        continue;\n      }\n\n      c.g(this.b1, this.b5(), a);\n    }\n  };\n\n  CalloutLayerView.prototype.ck = function (a) {\n    if (isNaN_(this.b8)) {\n      this.b8 = this.e.bs.bn.a7;\n    }\n\n    return new Size(1, this.h.f(a.ak), this.b8);\n  };\n\n  CalloutLayerView.prototype.cj = function (a, b) {\n    if (this.b2 == null) {\n      this.b2 = new CalloutView(this);\n    }\n\n    this.b2.f = a;\n    this.b2.v = b;\n    var c = this.b2.s();\n    this.b2.f = null;\n    return c;\n  };\n\n  CalloutLayerView.prototype.b4 = function () {\n    return new DOMExecutionContext(this.e.bs.bn.i.ae);\n  };\n\n  CalloutLayerView.prototype.cc = function (a, b, c) {\n    a.d = b;\n    a.e = c;\n  };\n\n  CalloutLayerView.prototype.cd = function (a, b, c) {\n    a.i(this.e, b, c);\n  };\n\n  CalloutLayerView.prototype.ce = function (a) {\n    if (a != null) {\n      return this.ci(a.k4);\n    }\n\n    return this.e.k4;\n  };\n\n  CalloutLayerView.prototype.ch = function () {\n    return function () {\n      var $ret = new Brush();\n      $ret.color = Color.u(255, 255, 255, 255);\n      return $ret;\n    }();\n  };\n\n  CalloutLayerView.prototype.cg = function () {\n    return function () {\n      var $ret = new Brush();\n      $ret.color = Color.u(255, 255, 255, 255);\n      return $ret;\n    }();\n  };\n\n  CalloutLayerView.prototype.cf = function (a) {\n    if (a != null) {\n      return this.ci(a.k4);\n    }\n\n    return this.e.k4;\n  };\n\n  CalloutLayerView.$t = markType(CalloutLayerView, 'CalloutLayerView', AnnotationLayerView.$);\n  return CalloutLayerView;\n}(AnnotationLayerView);\n\nexport { CalloutLayerView };\n/**\n * @hidden\n */\n\nvar CalloutView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(CalloutView, _super);\n\n  function CalloutView(a) {\n    var _this = _super.call(this) || this;\n\n    _this.a = null;\n    _this.w = 0;\n    _this.j = null;\n    _this.r = null;\n    _this.o = {\n      $type: Point_$type,\n      x: 0,\n      y: 0\n    };\n    _this.q = null;\n    _this.u = new Thickness(0, 0);\n    _this.t = null;\n    _this.d = 0;\n    _this.e = 0;\n    _this.b = null;\n    _this.q = new Line();\n    _this.q.ab = false;\n\n    _this.q._stroke = function () {\n      var $ret = new Brush();\n      $ret.color = Color.u(255, 0, 0, 0);\n      return $ret;\n    }();\n\n    _this.q.ac = 2;\n    _this.j = new TextBlock();\n    _this.r = new Rectangle();\n    _this.r.ac = 0;\n    _this.a = a;\n    _this.w = 0;\n    return _this;\n  }\n\n  CalloutView.prototype.h = function (a) {\n    a.z();\n    a.af(this.d, this.e);\n    var b = new TranslateTransform();\n    b.j = this.t.c;\n    b.k = this.t.e;\n    this.r.j = b;\n    a.r(this.q);\n    a.z();\n    this.r.width = this.j.m + this.u.c + this.u.d;\n    this.r.height = this.j.l + this.u.e + this.u.b;\n    a.j(this.r.j);\n    a.v(this.r);\n    this.j.o = this.u.e;\n    this.j.n = this.u.c;\n    a.w(this.j);\n    a.y();\n    a.y();\n  };\n\n  Object.defineProperty(CalloutView.prototype, \"p\", {\n    get: function () {\n      return this.o;\n    },\n    set: function (a) {\n      if (this.o.x != a.x || this.o.y != a.y) {\n        var b = this.s();\n        var c = b.height;\n        var d = b.width;\n        this.o = a;\n        var e = CalloutViewHelper.b(this.p, d, c, this.q);\n        this.t = e;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"n\", {\n    get: function () {\n      return this.j.am;\n    },\n    set: function (a) {\n      this.j.am = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"m\", {\n    get: function () {\n      return this.r._stroke;\n    },\n    set: function (a) {\n      this.r._stroke = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"l\", {\n    get: function () {\n      return this.q._stroke;\n    },\n    set: function (a) {\n      this.q._stroke = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"k\", {\n    get: function () {\n      return this.r._fill;\n    },\n    set: function (a) {\n      this.r._fill = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"c\", {\n    get: function () {\n      return this.r.ac;\n    },\n    set: function (a) {\n      this.r.ac = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"v\", {\n    get: function () {\n      return this.u;\n    },\n    set: function (a) {\n      this.u = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"f\", {\n    get: function () {\n      return this.j.ak;\n    },\n    set: function (a) {\n      if (a == null) {\n        this.j.ak = \"\";\n      } else {\n        this.j.ak = a.toString();\n      }\n\n      var b = this.s();\n      var c = b.height;\n      var d = b.width;\n      var e = CalloutViewHelper.b(this.p, d, c, this.q);\n      this.t = e;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  CalloutView.prototype.s = function () {\n    var a = this.a.ck(this.j);\n    this.j.m = a.width;\n    this.j.l = a.height;\n    return new Size(1, a.width + this.u.c + this.u.d, a.height + this.u.e + this.u.b);\n  };\n\n  CalloutView.prototype.i = function (a, b, c) {\n    if (this.b == null) {\n      this.b = new DataContext();\n    }\n\n    this.b.series = a;\n    this.b.item = c;\n\n    if (b.c != null) {\n      b.c.u = this.b;\n    }\n  };\n\n  CalloutView.prototype.g = function (a, b, c) {\n    a.a2.exportCalloutData(this.d, this.e, this.t.c, this.t.e, c, this.r, this.j, b, this.q, \"callout\", [\"Main\", \"Callout\"]);\n  };\n\n  CalloutView.$t = markType(CalloutView, 'CalloutView');\n  return CalloutView;\n}(Base);\n\nexport { CalloutView };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/CalloutLayer_combined.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { AnnotationLayer } from \"./AnnotationLayer\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Base, String_$type, typeCast, enumGetBox, fromEnum, runOn, delegateCombine, delegateRemove, Date_$type, Point_$type, markType, markDep } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { Brush } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { CalloutCollisionMode_$type } from \"./CalloutCollisionMode\";\nimport { FontUtil } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { CalloutLayerFrame } from \"./CalloutLayerFrame\";\nimport { HashSet$1 } from \"igniteui-react-core\";\nimport { CalloutAnnotationWrapper } from \"./CalloutAnnotationWrapper\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { LinkedList$1 } from \"igniteui-react-core\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { LinkedListNode$1 } from \"igniteui-react-core\";\nimport { LabelCollisionManager } from \"igniteui-react-core\";\nimport { SeriesPointOfInterest } from \"./SeriesPointOfInterest\";\nimport { CalloutAnnotation } from \"./CalloutAnnotation\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { CalloutSeriesSelectingEventArgs } from \"./CalloutSeriesSelectingEventArgs\";\nimport { CalloutStyleUpdatingEventArgs } from \"./CalloutStyleUpdatingEventArgs\";\nimport { QuadTreeBoundingBox } from \"igniteui-react-core\";\nimport { LabelCollisionInfo } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { Size } from \"igniteui-react-core\";\nimport { CalloutContentUpdatingEventArgs } from \"./CalloutContentUpdatingEventArgs\";\nimport { CalloutLabelUpdatingEventArgs } from \"./CalloutLabelUpdatingEventArgs\";\nimport { CalloutKey } from \"./CalloutKey\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { HashPool$2 } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty } from \"igniteui-react-core\";\nimport { FastItemObjectColumn } from \"igniteui-react-core\";\nimport { AnnotationLayerView } from \"./AnnotationLayerView\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { TextBlock } from \"igniteui-react-core\";\nimport { DOMExecutionContext } from \"igniteui-react-core\";\nimport { Color } from \"igniteui-react-core\";\nimport { Line } from \"igniteui-react-core\";\nimport { CalloutViewHelper } from \"./CalloutViewHelper\";\nimport { Rectangle } from \"igniteui-react-core\";\nimport { TranslateTransform } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar CalloutLayer = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CalloutLayer, _super);\n    function CalloutLayer() {\n        var _this = _super.call(this) || this;\n        _this.calloutStyleUpdating = null;\n        _this.ng = null;\n        _this.nh = null;\n        _this.ni = null;\n        _this.nf = null;\n        _this.ne = null;\n        _this.n5 = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        _this.n8 = new List$1(CalloutAnnotationWrapper.$, 0);\n        _this.n9 = new List$1(CalloutAnnotationWrapper.$, 0);\n        _this.nc = null;\n        _this.n6 = new LinkedList$1(CalloutAnnotationWrapper.$);\n        _this.n3 = new Dictionary$2(CalloutAnnotationWrapper.$, LinkedListNode$1.$.specialize(CalloutAnnotationWrapper.$), 0);\n        _this.no = null;\n        _this.qy = new Rect(0, 0, 0, 1, 1);\n        _this.nv = false;\n        _this.oj = 0;\n        _this.qx = Rect.empty;\n        _this.nt = false;\n        _this.nu = false;\n        _this.calloutContentUpdating = null;\n        _this.calloutLabelUpdating = null;\n        _this.calloutSeriesSelecting = null;\n        _this.n7 = new List$1(SeriesPointOfInterest.$, 0);\n        _this.nx = false;\n        _this.ny = false;\n        _this.ob = 0;\n        _this.nw = false;\n        _this.ns = true;\n        FastItemObjectColumn.m();\n        _this.mb = true;\n        var a = new CalloutLayerFrame();\n        var b = new CalloutLayerFrame();\n        var c = new CalloutLayerFrame();\n        var d = _this.fi / 1000;\n        _this.l3 = a;\n        _this.l2 = b;\n        _this.l4 = c;\n        _this.ab = CalloutLayer.$;\n        return _this;\n    }\n    CalloutLayer.prototype.pq = function (a, b) {\n        this.n9.clear();\n        this.je(false);\n    };\n    CalloutLayer.prototype.hz = function (a, b, c, d) {\n        _super.prototype.hz.call(this, a, b, c, d);\n        var e = this.n4();\n        switch (a) {\n            case 3:\n                this.p2(b, e);\n                break;\n            case 1:\n                for (var f = b; f < b + c; f++) {\n                    var g = new CalloutAnnotation();\n                    var h = new CalloutAnnotationWrapper();\n                    h.b = g;\n                    h.b.series = this.nb;\n                    this.n9.insert(f, h);\n                    this.p2(f, e);\n                }\n                break;\n            case 0:\n                this.n9.v(b, c);\n                break;\n            case 2:\n                for (var i = b; i < b + c; i++) {\n                    this.p2(i, e);\n                }\n                break;\n            case 4:\n                this.n9.clear();\n                for (var j = 0; j < this.bz.count; j++) {\n                    var k = new CalloutAnnotation();\n                    var l = new CalloutAnnotationWrapper();\n                    l.b = k;\n                    l.b.series = this.nb;\n                    this.n9.add(l);\n                    this.p2(j, e);\n                }\n                break;\n        }\n        this.je(true);\n    };\n    CalloutLayer.prototype.da = function (a) {\n        return false;\n    };\n    CalloutLayer.prototype.n4 = function () {\n        var a = new Dictionary$2(String_$type, Series.$, 0);\n        if (this.bs != null) {\n            for (var b = 0; b < this.bs.series.count; b++) {\n                var c = this.bs.series._inner[b];\n                if (c.name != null && !a.containsKey(c.name)) {\n                    a.addItem(c.name, c);\n                }\n            }\n        }\n        return a;\n    };\n    CalloutLayer.prototype.p2 = function (a, b) {\n        var _this = this;\n        if (this.nn == null || this.nl == null) {\n            return;\n        }\n        var c = a;\n        if (this.nm != null) {\n            c = this.nm.item(a);\n        }\n        var d = this.nn.item(a);\n        var e = this.nl.item(a);\n        var f = this.n9._inner[a];\n        if (this.nk != null) {\n            f.b.key = this.nk.item(a);\n        }\n        if (this.n3.containsKey(f)) {\n            f.b = this.n3.item(f).c.b;\n        }\n        f.b.xValue = c;\n        f.b.yValue = d;\n        f.b.text = e != null ? e.toString() : \"\";\n        if (this.nj != null) {\n            f.b.content = this.nj.item(a);\n        }\n        else {\n            f.b.content = this.bz.item(a);\n        }\n        if (this.calloutSeriesSelecting != null) {\n            var g = ((function () {\n                var $ret = new CalloutSeriesSelectingEventArgs();\n                $ret.c = c;\n                $ret.d = d;\n                $ret.item = _this.bz.item(a);\n                return $ret;\n            })());\n            this.calloutSeriesSelecting(this, g);\n            if (g.a != null) {\n                f.b.series = g.a;\n            }\n            else if (g.e != null) {\n                if (b.containsKey(g.e)) {\n                    f.b.series = b.item(g.e);\n                }\n            }\n        }\n        this.p3(f);\n    };\n    CalloutLayer.prototype.p3 = function (a) {\n        var b = new Thickness(0, 3);\n        if (isNaN_(this.q0.c) || isNaN_(this.q0.e) || isNaN_(this.q0.d) || isNaN_(this.q0.b)) {\n            b = new Thickness(0, 3);\n        }\n        else {\n            b = this.q0;\n        }\n        var c = this.qt != null ? this.qt : this.m8.ce(a.b.series);\n        var d = this.qw != null ? this.qw : this.m8.ch();\n        var e = this.qv != null ? this.qv : this.m8.cg();\n        var f = this.qu != null ? this.qu : this.m8.cf(a.b.series);\n        var g = isNaN_(this.oh) ? 0 : this.oh;\n        if (this.n1 && this.calloutStyleUpdating != null) {\n            var h = new CalloutStyleUpdatingEventArgs();\n            h.item = a.b.content;\n            h.xValue = a.b.xValue;\n            h.yValue = a.b.yValue;\n            h.series = a.b.series;\n            h.background = c;\n            h.textColor = d;\n            h.outline = e;\n            h.leaderBrush = f;\n            h.strokeThickness = g;\n            this.calloutStyleUpdating(this, h);\n            c = h.background;\n            d = h.textColor;\n            e = h.outline;\n            f = h.leaderBrush;\n            g = h.strokeThickness;\n        }\n        a.b.backgroundPadding = b;\n        a.b.background = c;\n        a.b.textColor = d;\n        a.b.outline = e;\n        a.b.leaderBrush = f;\n        a.b.strokeThickness = g;\n    };\n    CalloutLayer.prototype.fs = function (a, b) {\n        var c = this.gv(b);\n        if (c == CalloutLayer.$$p[19]) {\n            return this.ft(a, b, this.pe);\n        }\n        if (c == CalloutLayer.$$p[23]) {\n            return this.ft(a, b, this.pl);\n        }\n        if (c == CalloutLayer.$$p[24]) {\n            return this.ft(a, b, this.po);\n        }\n        if (c == CalloutLayer.$$p[18]) {\n            return this.ft(a, b, this.pb);\n        }\n        if (c == CalloutLayer.$$p[14]) {\n            return this.ft(a, b, this.o5);\n        }\n        return _super.prototype.fs.call(this, a, b);\n    };\n    Object.defineProperty(CalloutLayer.prototype, \"nl\", {\n        get: function () {\n            return this.ng;\n        },\n        set: function (a) {\n            if (this.ng != a) {\n                var b = this.ng;\n                this.ng = a;\n                this.raisePropertyChanged(\"LabelColumn\", b, this.ng);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"nm\", {\n        get: function () {\n            return this.nh;\n        },\n        set: function (a) {\n            if (this.nh != a) {\n                var b = this.nh;\n                this.nh = a;\n                this.raisePropertyChanged(\"XColumn\", b, this.nh);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"nn\", {\n        get: function () {\n            return this.ni;\n        },\n        set: function (a) {\n            if (this.ni != a) {\n                var b = this.ni;\n                this.ni = a;\n                this.raisePropertyChanged(\"YColumn\", b, this.ni);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"nk\", {\n        get: function () {\n            return this.nf;\n        },\n        set: function (a) {\n            if (this.nf != a) {\n                var b = this.nf;\n                this.nf = a;\n                this.raisePropertyChanged(\"KeyColumn\", b, this.nf);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"nj\", {\n        get: function () {\n            return this.ne;\n        },\n        set: function (a) {\n            if (this.ne != a) {\n                var b = this.ne;\n                this.ne = a;\n                this.raisePropertyChanged(\"ContentColumn\", b, this.ne);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CalloutLayer.prototype.ps = function (a, b) {\n        if (b.propertyName == CalloutAnnotation.$$p[13] || b.propertyName == CalloutAnnotation.$$p[14]) {\n            var c = a.k;\n            if (!this.n5.contains(c)) {\n                this.n5.add_1(c);\n                this.n8.add(c);\n                this.je(false);\n            }\n        }\n    };\n    CalloutLayer.prototype.bf = function () {\n        return new CalloutLayerView(this);\n    };\n    CalloutLayer.prototype.iv = function (a) {\n        _super.prototype.iv.call(this, a);\n        this.m8 = a;\n    };\n    Object.defineProperty(CalloutLayer.prototype, \"q0\", {\n        get: function () {\n            return new Thickness(1, this.od, this.of, this.oe, this.oc);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"nd\", {\n        get: function () {\n            if (this.nc == null) {\n                this.nc = FontUtil.toFontInfo(this.e4, this.ph);\n            }\n            return this.nc;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CalloutLayer.prototype.mm = function (a, b) {\n        if (this.nb == null || this.nb == a) {\n            if (!this.aq.c) {\n                this.je(b);\n            }\n        }\n    };\n    CalloutLayer.prototype.mo = function (a, b) {\n        var e_1, _a;\n        _super.prototype.mo.call(this, a, b);\n        var c = a;\n        c.p.clear();\n        c.q.clear();\n        c.m.clear();\n        c.f.clear();\n        c.h.clear();\n        c.g.clear();\n        c.j.clear();\n        c.l.clear();\n        c.k.clear();\n        c.i.clear();\n        c.n.clear();\n        c.o.clear();\n        c.t.clear();\n        c.u.clear();\n        c.r.clear();\n        c.s.clear();\n        var d = this.oa();\n        var e = new List$1(CalloutAnnotationWrapper.$, 0);\n        if (this.nz) {\n            if (this.l9(this.nb)) {\n                this.pz(this.nb, c, e);\n            }\n            else {\n                try {\n                    for (var _b = tslib_1.__values(fromEnum(this.bs.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var f = _c.value;\n                        if (this.l9(f)) {\n                            this.pz(f, c, e);\n                        }\n                    }\n                }\n                catch (e_1_1) {\n                    e_1 = { error: e_1_1 };\n                }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return))\n                            _a.call(_b);\n                    }\n                    finally {\n                        if (e_1)\n                            throw e_1.error;\n                    }\n                }\n            }\n        }\n        this.py(c, d, e);\n    };\n    CalloutLayer.prototype.ju = function (a, b) {\n        _super.prototype.ju.call(this, a, b);\n        var c = b.width - this.qy.width;\n        var d = b.height - this.qy.height;\n        var e = 0;\n        if (Math.abs(c) > Math.abs(d)) {\n            e = c;\n            this.ob = c * this.lz.width;\n        }\n        else {\n            e = d;\n            this.ob = d * this.lz.height;\n        }\n        if (e > 0 && this.ob > 5) {\n            this.ny = true;\n        }\n        if (e < 0 && this.ob > 5) {\n            this.nx = true;\n        }\n    };\n    CalloutLayer.prototype.jt = function (a, b) {\n        _super.prototype.jt.call(this, a, b);\n        if (!a.equals1(b)) {\n            this.nw = true;\n        }\n    };\n    Object.defineProperty(CalloutLayer.prototype, \"qz\", {\n        get: function () {\n            return this.qx;\n        },\n        set: function (a) {\n            this.qx = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CalloutLayer.prototype.py = function (a, b, c) {\n        var e_2, _a;\n        if (this.bs != null) {\n            this.qy = this.bs.mr;\n        }\n        if (this.lz.isEmpty) {\n            return;\n        }\n        this.qz = new Rect(0, this.lz.left, this.lz.top, this.lz.width, this.lz.height);\n        if (this.no != null && this.o2 != null && this.o2 != this.no.ak) {\n            this.pu();\n        }\n        if (this.no == null) {\n            var d = this.np();\n            if (d != null) {\n                this.no = d;\n                var e = this.no;\n                e.labelsMoved = delegateCombine(e.labelsMoved, runOn(this, this.pr));\n            }\n            else {\n                var f = this.lr(this.bi);\n                var g = 0;\n                if (this.nb != null) {\n                    if (this.nb.isVertical) {\n                        g = 2;\n                    }\n                }\n                else {\n                    var h = false;\n                    if (this.bs != null && this.bs.series.count > 0) {\n                        h = true;\n                        try {\n                            for (var _b = tslib_1.__values(fromEnum(this.bs.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                                var i = _c.value;\n                                if (!i.cj) {\n                                    if (!i.isVertical) {\n                                        h = false;\n                                    }\n                                }\n                            }\n                        }\n                        catch (e_2_1) {\n                            e_2 = { error: e_2_1 };\n                        }\n                        finally {\n                            try {\n                                if (_c && !_c.done && (_a = _b.return))\n                                    _a.call(_b);\n                            }\n                            finally {\n                                if (e_2)\n                                    throw e_2.error;\n                            }\n                        }\n                    }\n                    if (h) {\n                        g = 2;\n                    }\n                }\n                this.no = new LabelCollisionManager(this.lz.right, this.lz.bottom, this.lz, this.m8.b4(), this.og, this.nq(), g, this.on(), this.om(), this.n0);\n                if (this.o2 != null) {\n                    this.no.ak = this.o2;\n                    this.no.ai = this;\n                }\n                var j = this.no;\n                j.labelsMoved = delegateCombine(j.labelsMoved, runOn(this, this.pr));\n            }\n        }\n        if (this.nx) {\n            this.nx = false;\n            if (this.no.ag > 2) {\n                this.nv = true;\n            }\n        }\n        if (this.ny) {\n            this.ny = false;\n            if (this.ob > 5) {\n                this.nv = true;\n            }\n        }\n        if (this.nw) {\n            this.nw = false;\n            this.no.ay(this.lz.right, this.lz.bottom, this.lz);\n            this.nv = true;\n        }\n        var k = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        var l = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        var m = new List$1(CalloutAnnotationWrapper.$, 0);\n        var n = new List$1(CalloutAnnotationWrapper.$, 0);\n        var o = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        for (var p = 0; p < b.count; p++) {\n            o.add_1(b._inner[p]);\n        }\n        for (var q = 0; q < c.count; q++) {\n            o.add_1(c._inner[q]);\n        }\n        var r = this.n6.c;\n        while (r != null) {\n            var s = r.a;\n            if (!o.contains(r.c)) {\n                n.add(r.c);\n                l.add_1(r.c);\n                var t = r.c.b;\n                t.propertyChanged = delegateRemove(t.propertyChanged, runOn(this, this.ps));\n                this.n6.h(r);\n                this.n3.removeItem(r.c);\n                this.no.ax(r.c.c);\n            }\n            r = s;\n        }\n        for (var u = 0; u < b.count; u++) {\n            if (!this.n3.containsKey(b._inner[u])) {\n                this.n6.f(b._inner[u]);\n                var v = b._inner[u].b;\n                v.propertyChanged = delegateCombine(v.propertyChanged, runOn(this, this.ps));\n                this.n3.addItem(b._inner[u], this.n6.d);\n                m.add(b._inner[u]);\n                k.add_1(b._inner[u]);\n                this.nv = true;\n            }\n        }\n        for (var w = 0; w < c.count; w++) {\n            if (!this.n3.containsKey(c._inner[w])) {\n                this.n6.f(c._inner[w]);\n                this.n3.addItem(c._inner[w], this.n6.d);\n                var x = c._inner[w].b;\n                x.propertyChanged = delegateCombine(x.propertyChanged, runOn(this, this.ps));\n                m.add(c._inner[w]);\n                k.add_1(c._inner[w]);\n                this.nv = true;\n            }\n        }\n        if (this.nt == true) {\n            this.nt = false;\n            this.nv = true;\n        }\n        if (this.n8.count > 0) {\n            this.nv = true;\n            this.n8.clear();\n            this.n5.clear();\n        }\n        r = this.n6.c;\n        while (r != null) {\n            var y = this.nr(r.c);\n            if (y == null) {\n                return;\n            }\n            if (!Base.equalsStatic(y, r.c.c.c)) {\n                var z = false;\n                if (r.c.c.c == null) {\n                    z = true;\n                }\n                var aa = r.c.c;\n                aa.o = y.b;\n                aa.p = y.c;\n                if (!isNaN_(aa.o) && !isNaN_(aa.p)) {\n                    aa.n = y.e;\n                    aa.m = y.d;\n                    if (aa.b == null) {\n                        this.no.p(aa);\n                    }\n                    if (z) {\n                        this.no.al(aa);\n                    }\n                    else {\n                        this.no.au(aa);\n                    }\n                }\n            }\n            r = r.a;\n        }\n        var ab = this.no.ah();\n        var ac = this.no.q();\n        if (this.nv && (ab != 0 || ac)) {\n            this.nv = false;\n            this.oj = 0x7FFFFFFF;\n            if (this.o2 != null) {\n                var ad = true;\n                for (var ae = 0; ae < this.bs.series.count; ae++) {\n                    var af = this.bs.series._inner[ae];\n                    if (af.cj && typeCast(CalloutLayer.$, af) !== null) {\n                        var ag = af;\n                        if (ag.o2 == this.o2) {\n                            if (!ag.qz.equals1(this.no.a0)) {\n                                ad = false;\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (ad) {\n                    this.no.az();\n                }\n                else {\n                    this.no.am();\n                    this.no.an();\n                }\n            }\n            else {\n                this.no.az();\n            }\n        }\n        else {\n            this.no.an();\n        }\n        var ah = this.n6.c;\n        while (ah != null) {\n            var ai = ah.c;\n            a.m.add1(ai);\n            a.f.add(ai.b.background);\n            a.h.add(ai.b.outline);\n            a.g.add(ai.b.leaderBrush);\n            a.j.add(ai.b.backgroundPadding.c);\n            a.l.add(ai.b.backgroundPadding.e);\n            a.k.add(ai.b.backgroundPadding.d);\n            a.i.add(ai.b.backgroundPadding.b);\n            a.n.add(ai.b.strokeThickness);\n            a.o.add(ai.b.textColor);\n            a.p.add1(ai.b.text);\n            a.q.add1(ai.b.content);\n            var aj = ai.c;\n            a.t.add(ai.c.o - (ai.c.g - ai.c.l));\n            a.u.add(ai.c.p - (ai.c.h - ai.c.k));\n            a.r.add(ai.c.g - ai.c.l);\n            a.s.add(ai.c.h - ai.c.k);\n            ah = ah.a;\n        }\n    };\n    CalloutLayer.prototype.pu = function () {\n        if (this.no != null) {\n            var a = this.n6.c;\n            while (a != null) {\n                var b = a.c.c;\n                if (b != null) {\n                    this.no.ax(b);\n                }\n                a = a.a;\n            }\n            var c = this.no;\n            c.labelsMoved = delegateRemove(c.labelsMoved, runOn(this, this.pr));\n            this.no = null;\n        }\n        this.pt();\n    };\n    CalloutLayer.prototype.np = function () {\n        if (this.bs == null) {\n            return null;\n        }\n        for (var a = 0; a < this.bs.series.count; a++) {\n            var b = this.bs.series._inner[a];\n            if (b.cj && typeCast(CalloutLayer.$, b) !== null) {\n                var c = b;\n                if (c != this) {\n                    if (c.o2 != null && c.o2 == this.o2) {\n                        if (c.no != null) {\n                            return c.no;\n                        }\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalloutLayer.prototype.om = function () {\n        return 20000;\n    };\n    CalloutLayer.prototype.on = function () {\n        return 300;\n    };\n    CalloutLayer.prototype.nq = function () {\n        switch (this.m5) {\n            case 0: return 2;\n            case 2: return 1;\n            case 3: return 2;\n            case 1: return 0;\n        }\n        return 2;\n    };\n    CalloutLayer.prototype.pr = function (a) {\n        var b = this.no.ah();\n        if (b < this.oj) {\n            this.oj = b;\n            this.je(false);\n        }\n    };\n    CalloutLayer.prototype.nr = function (a) {\n        var b = this.nb;\n        if (a.b.series != null) {\n            b = a.b.series;\n        }\n        if (b == null) {\n            for (var c = 0; c < this.bs.series.count; c++) {\n                var d = this.bs.series._inner[c];\n                if (!d.cj) {\n                    b = d;\n                    break;\n                }\n            }\n        }\n        if (b == null) {\n            return null;\n        }\n        var e = b.ag();\n        var f = b.eh();\n        var g = null;\n        var h = null;\n        for (var i = 0; i < e.length; i++) {\n            if (e[i].ch) {\n                h = e[i];\n            }\n            else {\n                g = e[i];\n            }\n        }\n        if (g == null || h == null) {\n            return null;\n        }\n        if (!g.cg() || !h.cg()) {\n            return null;\n        }\n        var j = 0;\n        var k = 0;\n        if (g.b4 && g.categoryMode != 0) {\n            if (b.cr) {\n                j = b.getOffsetValue();\n            }\n            else if (b.cl) {\n                j = b.getOffsetValue();\n            }\n        }\n        if (h.b4 && h.categoryMode != 0) {\n            if (b.cl) {\n                k = b.getOffsetValue();\n            }\n        }\n        var l = new ScalerParams(0, this.bs.mr, g.i8, g.ca, g.i3());\n        l.b = f;\n        var m = new ScalerParams(0, this.bs.mr, h.i8, h.ca, h.i3());\n        m.b = f;\n        var n = g.dy(this.oi(a.b.xValue), l) + j;\n        var o = h.dy(this.oi(a.b.yValue), m) + k;\n        var p = new QuadTreeBoundingBox();\n        p.b = n;\n        p.c = o;\n        p.e = 3;\n        p.d = 3;\n        p.g = a.b;\n        return p;\n    };\n    CalloutLayer.prototype.oi = function (a) {\n        if (typeCast(Date_$type, a) !== null) {\n            return a.getTime();\n        }\n        if (a == null) {\n            return 0;\n        }\n        return a;\n    };\n    CalloutLayer.prototype.oa = function () {\n        var a = new List$1(CalloutAnnotationWrapper.$, 0);\n        for (var b = 0; b < this.n9.count; b++) {\n            if (stringIsNullOrEmpty(this.n9._inner[b].b.text)) {\n                continue;\n            }\n            if (this.n9._inner[b].c == null) {\n                var c = new LabelCollisionInfo();\n                this.n9._inner[b].c = c;\n                var d = this.m8.cj(this.oo(this.n9._inner[b]), this.n9._inner[b].b.backgroundPadding);\n                c.k = d.height / 2;\n                c.l = d.width / 2;\n            }\n            var e = this.nr(this.n9._inner[b]);\n            if (e == null || e.b < this.lz.left || e.b > this.lz.right || e.c < this.lz.top || e.c > this.lz.bottom) {\n                continue;\n            }\n            a.add(this.n9._inner[b]);\n        }\n        return a;\n    };\n    CalloutLayer.prototype.oo = function (a) {\n        return a.b.text;\n    };\n    CalloutLayer.prototype.l9 = function (a) {\n        if (!_super.prototype.l9.call(this, a)) {\n            return false;\n        }\n        return true;\n    };\n    CalloutLayer.prototype.ip = function () {\n        _super.prototype.ip.call(this);\n        if (!this.aq.c && !this.ca()) {\n            return;\n        }\n        if (this.ns) {\n            this.ns = false;\n            this.pw();\n        }\n        if (this.ca()) {\n            this.p1(this.l4, false);\n        }\n        else {\n            this.p1(this.l2, false);\n        }\n    };\n    CalloutLayer.prototype.px = function () {\n        if (!this.nu) {\n            this.nu = true;\n            this.je(true);\n        }\n    };\n    CalloutLayer.prototype.pz = function (a, b, c) {\n        if (a.ch(this.n7, this.n2, this.ok)) {\n            var d = this.n7;\n            var _loop_1 = function (e) {\n                var f = d._inner[e];\n                var g = f.a.item != null ? f.a.item : f.a;\n                var h = a;\n                var i = new CalloutKey(g, h);\n                var j = new CalloutAnnotationWrapper();\n                var k = new CalloutAnnotation();\n                j.b = k;\n                k.key = i;\n                var l = false;\n                var m = false;\n                if (this_1.nu) {\n                    this_1.nu = false;\n                    m = true;\n                }\n                if (this_1.n3.containsKey(j)) {\n                    j = this_1.n3.item(j).c;\n                    k = j.b;\n                }\n                else {\n                    if (!m) {\n                        l = true;\n                    }\n                }\n                var n = k.xValue;\n                var o = k.yValue;\n                if (this_1.oi(n) != this_1.oi(f.b)) {\n                    k.xValue = f.b;\n                }\n                if (this_1.oi(o) != this_1.oi(f.c)) {\n                    k.yValue = f.c;\n                }\n                k.series = a;\n                if (l && this_1.calloutLabelUpdating != null) {\n                    var p = ((function () {\n                        var $ret = new CalloutLabelUpdatingEventArgs();\n                        $ret.c = k.xValue;\n                        $ret.d = k.yValue;\n                        $ret.item = g;\n                        return $ret;\n                    })());\n                    this_1.calloutLabelUpdating(this_1, p);\n                    if (p.b != null && !Base.equalsStatic(p.b, j.b.text)) {\n                        var q = p.b;\n                        j.b.text = q != null ? q.toString() : \"\";\n                    }\n                }\n                else {\n                    if (f.d != null) {\n                        k.text = f.d;\n                    }\n                }\n                if (k.text == null) {\n                    return \"continue\";\n                }\n                if (l) {\n                    if (this_1.calloutContentUpdating != null) {\n                        var r = ((function () {\n                            var $ret = new CalloutContentUpdatingEventArgs();\n                            $ret.c = k.xValue;\n                            $ret.d = k.yValue;\n                            $ret.item = g;\n                            $ret.a = g;\n                            return $ret;\n                        })());\n                        this_1.calloutContentUpdating(this_1, r);\n                        if (r.a != null && r.a != j.b.content) {\n                            j.b.content = r.a;\n                        }\n                    }\n                    else {\n                        if (g != null && g != j.b.content) {\n                            j.b.content = g;\n                        }\n                    }\n                }\n                if (l) {\n                    this_1.p3(j);\n                }\n                if (j.c == null) {\n                    var s = new LabelCollisionInfo();\n                    j.c = s;\n                    var t = this_1.m8.cj(this_1.oo(j), j.b.backgroundPadding);\n                    s.k = t.height / 2;\n                    s.l = t.width / 2;\n                }\n                var u = this_1.nr(j);\n                if (u == null || u.b < this_1.lz.left || u.b > this_1.lz.right || u.c < this_1.lz.top || u.c > this_1.lz.bottom) {\n                    return \"continue\";\n                }\n                c.add(j);\n            };\n            var this_1 = this;\n            for (var e = 0; e < this.n7.count; e++) {\n                _loop_1(e);\n            }\n        }\n    };\n    CalloutLayer.prototype.bd = function () {\n        return 1;\n    };\n    CalloutLayer.prototype.ar = function (a, b) {\n        var c = this.no.d(a, b);\n        if (c == null) {\n            return null;\n        }\n        return c.u;\n    };\n    CalloutLayer.prototype.dh = function (a, b) {\n        if (this.no == null) {\n            return false;\n        }\n        return this.no.d(a, b) != null;\n    };\n    CalloutLayer.prototype.p1 = function (a, b) {\n        var e_3, _a;\n        var c = 0;\n        var d = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        for (c = 0; c < a.p.count; c++) {\n            var e = a.m._inner[c];\n            if (isNaN_(a.t._inner[c]) || isNaN_(a.u._inner[c])) {\n                continue;\n            }\n            var f = this.m8.b6.item(e);\n            d.add_1(e);\n            if (f.f != a.p._inner[c]) {\n                f.f = a.p._inner[c];\n                var g = f.s();\n            }\n            f.c = a.n._inner[c];\n            f.k = a.f._inner[c];\n            f.n = a.o._inner[c];\n            f.m = f.c > 0 ? a.h._inner[c] : this.bi.bn();\n            f.l = a.g._inner[c];\n            f.v = new Thickness(1, a.j._inner[c], a.l._inner[c], a.k._inner[c], a.i._inner[c]);\n            this.m8.cc(f, Math.min(a.r._inner[c], a.r._inner[c] + a.t._inner[c]), Math.min(a.s._inner[c], a.s._inner[c] + a.u._inner[c]));\n            this.m8.cd(f, e, a.q._inner[c]);\n            f.p = { $type: Point_$type, x: a.t._inner[c], y: a.u._inner[c] };\n        }\n        var h = new List$1(CalloutAnnotationWrapper.$, 0);\n        try {\n            for (var _b = tslib_1.__values(fromEnum(this.m8.b6.c)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (!d.contains(i)) {\n                    h.add(i);\n                }\n            }\n        }\n        catch (e_3_1) {\n            e_3 = { error: e_3_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_3)\n                    throw e_3.error;\n            }\n        }\n        for (var j = 0; j < h.count; j++) {\n            this.m8.b6.g(h._inner[j]);\n        }\n    };\n    CalloutLayer.prototype.mr = function (a, b) {\n        _super.prototype.mr.call(this, a, b);\n        if (this.ca()) {\n            this.p1(this.l4, true);\n        }\n        else {\n            this.p1(this.l2, false);\n        }\n    };\n    CalloutLayer.prototype.c8 = function () {\n        return true;\n    };\n    CalloutLayer.prototype.i0 = function (a, b, c, d) {\n        _super.prototype.i0.call(this, a, b, c, d);\n        switch (b) {\n            case CalloutLayer.$$p[21]:\n                this.nc = null;\n                this.je(true);\n                break;\n            case CalloutLayer.$$p[20]:\n                this.je(true);\n                break;\n            case CalloutLayer.$$p[13]:\n                this.je(true);\n                break;\n            case \"SeriesViewer\":\n                if (c != null) {\n                    var e = c;\n                    e.seriesAnimating = delegateRemove(e.seriesAnimating, runOn(this, this.p0));\n                }\n                if (d != null) {\n                    var f = d;\n                    f.seriesAnimating = delegateCombine(f.seriesAnimating, runOn(this, this.p0));\n                }\n                if (d == null) {\n                    this.pu();\n                }\n                break;\n            case CalloutLayer.$$p[15]:\n            case CalloutLayer.$$p[16]:\n            case CalloutLayer.$$p[1]:\n            case CalloutLayer.$$p[5]:\n            case CalloutLayer.$$p[4]:\n            case CalloutLayer.$$p[7]:\n            case CalloutLayer.$$p[9]:\n            case CalloutLayer.$$p[8]:\n            case CalloutLayer.$$p[6]:\n            case CalloutLayer.$$p[11]:\n            case CalloutLayer.$$p[12]:\n                this.pv();\n                break;\n            case CalloutLayer.$$p[19]:\n                if (this.bz != null) {\n                    this.bz.deregisterColumn(this.nl);\n                    this.nl = this.by(this.pe);\n                }\n                break;\n            case \"LabelColumn\":\n                this.pv();\n                break;\n            case CalloutLayer.$$p[14]:\n                if (this.bz != null) {\n                    this.bz.deregisterColumn(this.nj);\n                    this.nj = this.by(this.o5);\n                }\n                break;\n            case \"ContentColumn\":\n                this.pv();\n                break;\n            case CalloutLayer.$$p[23]:\n                if (this.bz != null) {\n                    this.bz.deregisterColumn(this.nm);\n                    this.nm = stringIsNullOrEmpty(this.pl) == false ? this.by(this.pl) : null;\n                }\n                break;\n            case \"XColumn\":\n                this.pv();\n                break;\n            case CalloutLayer.$$p[24]:\n                if (this.bz != null) {\n                    this.bz.deregisterColumn(this.nn);\n                    this.nn = this.by(this.po);\n                }\n                break;\n            case \"YColumn\":\n                this.pv();\n                break;\n            case CalloutLayer.$$p[18]:\n                if (this.bz != null) {\n                    this.bz.deregisterColumn(this.nk);\n                    this.nk = this.by(this.pb);\n                }\n                break;\n            case \"KeyColumn\":\n                this.pv();\n                break;\n            case \"FastItemsSource\":\n                this.nt = true;\n                if (typeCast(IFastItemsSource_$type, c) != null) {\n                    c.deregisterColumn(this.nl);\n                    c.deregisterColumn(this.nj);\n                    c.deregisterColumn(this.nm);\n                    c.deregisterColumn(this.nn);\n                    c.deregisterColumn(this.nk);\n                    this.nl = null;\n                    this.nj = null;\n                    this.nm = null;\n                    this.nn = null;\n                    this.nk = null;\n                    this.n9.clear();\n                }\n                if (typeCast(IFastItemsSource_$type, d) != null) {\n                    this.nl = this.by(this.pe);\n                    this.nj = this.by(this.o5);\n                    if (stringIsNullOrEmpty(this.pl) == false) {\n                        this.nm = this.by(this.pl);\n                    }\n                    this.nn = this.by(this.po);\n                    this.nk = this.by(this.pb);\n                }\n                this.pv();\n                break;\n        }\n    };\n    CalloutLayer.prototype.p0 = function (a) {\n        if (a.cj) {\n            return;\n        }\n        if ((a == this.nb || this.nb == null) && this.nz) {\n            this.je(false);\n        }\n    };\n    CalloutLayer.prototype.pv = function () {\n        if (this.ns == false) {\n            this.ns = true;\n            this.je(false);\n        }\n    };\n    CalloutLayer.prototype.pt = function () {\n        this.m8.b6.clear();\n        this.n6.g();\n        this.n3.clear();\n    };\n    CalloutLayer.prototype.pw = function () {\n        if (this.nn == null || this.nl == null) {\n            var a = this.n6.c;\n            while (a != null) {\n                this.p3(a.c);\n                a = a.a;\n            }\n            return;\n        }\n        var b = this.n4();\n        for (var c = 0; c < this.nn.count; c++) {\n            var d = void 0;\n            if (this.n9.count <= c) {\n                var e = new CalloutAnnotation();\n                d = new CalloutAnnotationWrapper();\n                d.b = e;\n                d.b.series = this.nb;\n                this.n9.add(d);\n            }\n            else {\n                d = this.n9._inner[c];\n            }\n            this.p2(c, b);\n        }\n    };\n    CalloutLayer.$t = markType(CalloutLayer, 'CalloutLayer', AnnotationLayer.$);\n    CalloutLayer.$$p = markDep(DependencyProperty, PropertyMetadata, CalloutLayer, 'raisePropertyChanged', ['AutoCalloutLabelPrecision:ok:p4', [1, 5], 'CalloutBackground:qt:p5', [Brush.$, null], 'CalloutCollisionMode:m5:p6', [CalloutCollisionMode_$type, enumGetBox(CalloutCollisionMode_$type, 3)], 'CalloutInterpolatedValuePrecision:ol:p7', [1, -1], 'CalloutLeaderBrush:qu:p8', [Brush.$, null], 'CalloutOutline:qv:p9', [Brush.$, null], 'CalloutPaddingBottom:oc:qa', [1, NaN], 'CalloutPaddingLeft:od:qb', [1, NaN], 'CalloutPaddingRight:oe:qc', [1, NaN], 'CalloutPaddingTop:of:qd', [1, NaN], 'CalloutPositionPadding:og:qe', [1, 10], 'CalloutStrokeThickness:oh:qf', [1, NaN], 'CalloutTextColor:qw:qg', [Brush.$, null], 'CollisionChannel:o2:qh', [2, null], 'ContentMemberPath:o5:qi', [2, null], 'IsAutoCalloutBehaviorEnabled:nz:qj', [0, false], 'IsCalloutOffsettingEnabled:n0:qk', [0, true], 'IsCustomCalloutStyleEnabled:n1:ql', [0, false], 'KeyMemberPath:pb:qm', [2, null], 'LabelMemberPath:pe:qn', [2, null], 'TargetSeries:nb:qo', [Series.$, null], 'TextStyle:ph:qp', [2, null], 'UseValueForAutoCalloutLabels:n2:qq', [0, true], 'XMemberPath:pl:qr', [2, null], 'YMemberPath:po:qs', [2, null]]);\n    return CalloutLayer;\n}(AnnotationLayer));\nexport { CalloutLayer };\n/**\n * @hidden\n */\nvar CalloutLayerView = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CalloutLayerView, _super);\n    function CalloutLayerView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.b1 = null;\n        _this.b7 = null;\n        _this.b6 = null;\n        _this.b8 = NaN;\n        _this.b2 = null;\n        _this.b1 = a;\n        _this.b7 = new List$1(CalloutView.$, 0);\n        return _this;\n    }\n    CalloutLayerView.prototype.ap = function () {\n        var _this = this;\n        _super.prototype.ap.call(this);\n        this.b6 = ((function () {\n            var $ret = new HashPool$2(CalloutAnnotationWrapper.$, CalloutView.$);\n            $ret.create = runOn(_this, _this.b3);\n            $ret.activate = runOn(_this, _this.b9);\n            $ret.disactivate = runOn(_this, _this.cb);\n            $ret.destroy = runOn(_this, _this.ca);\n            return $ret;\n        })());\n    };\n    CalloutLayerView.prototype.b3 = function () {\n        var a = new CalloutView(this);\n        this.b7.add(a);\n        return a;\n    };\n    CalloutLayerView.prototype.b9 = function (a) {\n        a.w = 0;\n    };\n    CalloutLayerView.prototype.cb = function (a) {\n        a.w = 1;\n    };\n    CalloutLayerView.prototype.ca = function (a) {\n        this.b7.remove(a);\n    };\n    CalloutLayerView.prototype.ci = function (a) {\n        if (a == null) {\n            return a;\n        }\n        return BrushUtil.l(a, 0.1);\n    };\n    CalloutLayerView.prototype.a3 = function (a, b) {\n        _super.prototype.a3.call(this, a, b);\n        a.ac(this.b5());\n        if (a.d && !b) {\n            for (var c = 0; c < this.b7.count; c++) {\n                var d = this.b7._inner[c];\n                if (d.w == 0) {\n                    d.h(a);\n                }\n            }\n        }\n    };\n    CalloutLayerView.prototype.b5 = function () {\n        if (this.b1.nd != null) {\n            return this.b1.nd;\n        }\n        return this.e.bs.getFontInfo();\n    };\n    CalloutLayerView.prototype.ai = function (a) {\n        _super.prototype.ai.call(this, a);\n        for (var b = 0; b < this.b7.count; b++) {\n            var c = this.b7._inner[b];\n            if (c.w != 0) {\n                continue;\n            }\n            c.g(this.b1, this.b5(), a);\n        }\n    };\n    CalloutLayerView.prototype.ck = function (a) {\n        if (isNaN_(this.b8)) {\n            this.b8 = this.e.bs.bn.a7;\n        }\n        return new Size(1, this.h.f(a.ak), this.b8);\n    };\n    CalloutLayerView.prototype.cj = function (a, b) {\n        if (this.b2 == null) {\n            this.b2 = new CalloutView(this);\n        }\n        this.b2.f = a;\n        this.b2.v = b;\n        var c = this.b2.s();\n        this.b2.f = null;\n        return c;\n    };\n    CalloutLayerView.prototype.b4 = function () {\n        return new DOMExecutionContext(this.e.bs.bn.i.ae);\n    };\n    CalloutLayerView.prototype.cc = function (a, b, c) {\n        a.d = b;\n        a.e = c;\n    };\n    CalloutLayerView.prototype.cd = function (a, b, c) {\n        a.i(this.e, b, c);\n    };\n    CalloutLayerView.prototype.ce = function (a) {\n        if (a != null) {\n            return this.ci(a.k4);\n        }\n        return this.e.k4;\n    };\n    CalloutLayerView.prototype.ch = function () {\n        return ((function () {\n            var $ret = new Brush();\n            $ret.color = Color.u(255, 255, 255, 255);\n            return $ret;\n        })());\n    };\n    CalloutLayerView.prototype.cg = function () {\n        return ((function () {\n            var $ret = new Brush();\n            $ret.color = Color.u(255, 255, 255, 255);\n            return $ret;\n        })());\n    };\n    CalloutLayerView.prototype.cf = function (a) {\n        if (a != null) {\n            return this.ci(a.k4);\n        }\n        return this.e.k4;\n    };\n    CalloutLayerView.$t = markType(CalloutLayerView, 'CalloutLayerView', AnnotationLayerView.$);\n    return CalloutLayerView;\n}(AnnotationLayerView));\nexport { CalloutLayerView };\n/**\n * @hidden\n */\nvar CalloutView = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CalloutView, _super);\n    function CalloutView(a) {\n        var _this = _super.call(this) || this;\n        _this.a = null;\n        _this.w = 0;\n        _this.j = null;\n        _this.r = null;\n        _this.o = { $type: Point_$type, x: 0, y: 0 };\n        _this.q = null;\n        _this.u = new Thickness(0, 0);\n        _this.t = null;\n        _this.d = 0;\n        _this.e = 0;\n        _this.b = null;\n        _this.q = new Line();\n        _this.q.ab = false;\n        _this.q._stroke = ((function () {\n            var $ret = new Brush();\n            $ret.color = Color.u(255, 0, 0, 0);\n            return $ret;\n        })());\n        _this.q.ac = 2;\n        _this.j = new TextBlock();\n        _this.r = new Rectangle();\n        _this.r.ac = 0;\n        _this.a = a;\n        _this.w = 0;\n        return _this;\n    }\n    CalloutView.prototype.h = function (a) {\n        a.z();\n        a.af(this.d, this.e);\n        var b = new TranslateTransform();\n        b.j = this.t.c;\n        b.k = this.t.e;\n        this.r.j = b;\n        a.r(this.q);\n        a.z();\n        this.r.width = this.j.m + this.u.c + this.u.d;\n        this.r.height = this.j.l + this.u.e + this.u.b;\n        a.j(this.r.j);\n        a.v(this.r);\n        this.j.o = this.u.e;\n        this.j.n = this.u.c;\n        a.w(this.j);\n        a.y();\n        a.y();\n    };\n    Object.defineProperty(CalloutView.prototype, \"p\", {\n        get: function () {\n            return this.o;\n        },\n        set: function (a) {\n            if (this.o.x != a.x || this.o.y != a.y) {\n                var b = this.s();\n                var c = b.height;\n                var d = b.width;\n                this.o = a;\n                var e = CalloutViewHelper.b(this.p, d, c, this.q);\n                this.t = e;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"n\", {\n        get: function () {\n            return this.j.am;\n        },\n        set: function (a) {\n            this.j.am = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"m\", {\n        get: function () {\n            return this.r._stroke;\n        },\n        set: function (a) {\n            this.r._stroke = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"l\", {\n        get: function () {\n            return this.q._stroke;\n        },\n        set: function (a) {\n            this.q._stroke = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"k\", {\n        get: function () {\n            return this.r._fill;\n        },\n        set: function (a) {\n            this.r._fill = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"c\", {\n        get: function () {\n            return this.r.ac;\n        },\n        set: function (a) {\n            this.r.ac = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"v\", {\n        get: function () {\n            return this.u;\n        },\n        set: function (a) {\n            this.u = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"f\", {\n        get: function () {\n            return this.j.ak;\n        },\n        set: function (a) {\n            if (a == null) {\n                this.j.ak = \"\";\n            }\n            else {\n                this.j.ak = a.toString();\n            }\n            var b = this.s();\n            var c = b.height;\n            var d = b.width;\n            var e = CalloutViewHelper.b(this.p, d, c, this.q);\n            this.t = e;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CalloutView.prototype.s = function () {\n        var a = this.a.ck(this.j);\n        this.j.m = a.width;\n        this.j.l = a.height;\n        return new Size(1, a.width + this.u.c + this.u.d, a.height + this.u.e + this.u.b);\n    };\n    CalloutView.prototype.i = function (a, b, c) {\n        if (this.b == null) {\n            this.b = new DataContext();\n        }\n        this.b.series = a;\n        this.b.item = c;\n        if (b.c != null) {\n            b.c.u = this.b;\n        }\n    };\n    CalloutView.prototype.g = function (a, b, c) {\n        a.a2.exportCalloutData(this.d, this.e, this.t.c, this.t.e, c, this.r, this.j, b, this.q, \"callout\", [\"Main\", \"Callout\"]);\n    };\n    CalloutView.$t = markType(CalloutView, 'CalloutView');\n    return CalloutView;\n}(Base));\nexport { CalloutView };\n//# sourceMappingURL=CalloutLayer_combined.js.map\n"]},"metadata":{},"sourceType":"module"}