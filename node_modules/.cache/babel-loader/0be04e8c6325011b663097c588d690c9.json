{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { StackedColumnBucketCalculator } from \"./StackedColumnBucketCalculator\";\nimport { StackedSeriesBase } from \"./StackedSeriesBase\";\nimport { ColumnFragment } from \"./ColumnFragment\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { typeCast, markType } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar Stacked100ColumnBucketCalculator =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(Stacked100ColumnBucketCalculator, _super);\n\n  function Stacked100ColumnBucketCalculator(a) {\n    return _super.call(this, a) || this;\n  }\n\n  Stacked100ColumnBucketCalculator.prototype.getBucket = function (a) {\n    return _super.prototype.getBucket.call(this, a);\n  };\n\n  Stacked100ColumnBucketCalculator.prototype.getBucket1 = function (a, b, c, d, e, f) {\n    var g = typeCast(StackedSeriesBase.$, this.c.cp);\n    var h = [NaN, NaN, NaN];\n    var i = typeCast(ColumnFragment.$, a);\n\n    if (i == null || i.logicalSeriesLink == null) {\n      return h;\n    }\n\n    var j = g.getEffectiveViewport1(this.c);\n    var k = a.valueColumn.item(c);\n    var l = 0;\n    var m = NaN;\n    var n = NaN;\n    var o = Number.NEGATIVE_INFINITY;\n    var p = Number.POSITIVE_INFINITY;\n    var q = 0;\n    var r = Math.min(g.o0 != null ? g.o0.length : 0, g.oz != null ? g.oz.length : 0);\n    var s = c * this.d;\n    var t = Math.min(s + this.d - 1, r - 1);\n\n    for (var u = s; u <= t; ++u) {\n      k = a.valueColumn.item(u);\n      q = Math.abs(g.o0[u]) + g.oz[u];\n\n      if (k < l) {\n        p = Math.min(p, (i.logicalSeriesLink.ad._inner[u] + k) / q * 100);\n        o = Math.max(o, i.logicalSeriesLink.ad._inner[u] / q * 100);\n      } else {\n        p = Math.min(p, i.logicalSeriesLink.ac._inner[u] / q * 100);\n        o = Math.max(o, (i.logicalSeriesLink.ac._inner[u] + k) / q * 100);\n      }\n\n      if (!isNaN_(m)) {\n        if (!isNaN_(p)) {\n          m = Math.min(m, p);\n          n = Math.max(n, p);\n        }\n\n        if (!isNaN_(o)) {\n          m = Math.min(m, o);\n          n = Math.max(n, o);\n        }\n      } else {\n        m = p;\n        n = o;\n      }\n    }\n\n    var v = new ScalerParams(0, d, e, i.fragmentYAxis.ca, j);\n    h = [f.f._inner[b - this.e][0], i.fragmentYAxis.dy(n, v), i.fragmentYAxis.dy(m, v)];\n    return h;\n  };\n\n  Stacked100ColumnBucketCalculator.$t = markType(Stacked100ColumnBucketCalculator, 'Stacked100ColumnBucketCalculator', StackedColumnBucketCalculator.$);\n  return Stacked100ColumnBucketCalculator;\n}(StackedColumnBucketCalculator);\n\nexport { Stacked100ColumnBucketCalculator };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/Stacked100ColumnBucketCalculator.ts"],"names":[],"mappings":"AAAA;;;;;;;AAOA,SAAS,6BAAT,QAA8C,iCAA9C;AAKA,SAAS,iBAAT,QAAkC,qBAAlC;AACA,SAAS,cAAT,QAA+B,kBAA/B;AACA,SAAS,YAAT,QAA6B,gBAA7B;AAEA,SAAkD,QAAlD,EAAkE,QAAlE,QAAkF,qBAAlF;AAMA,SAAS,MAAT,QAAuB,qBAAvB;AAEA;;;;AAGA,IAAA,gCAAA;AAAA;;AAAA;AAAA,UAAA,MAAA,EAAA;AAAsD,EAAA,OAAA,CAAA,SAAA,CAAA,gCAAA,EAAA,MAAA;;AAErD,WAAA,gCAAA,CAAY,CAAZ,EAAiC;WAChC,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,CAAN,KAAQ,I;AACR;;AACD,EAAA,gCAAA,CAAA,SAAA,CAAA,SAAA,GAAA,UAAU,CAAV,EAAmB;AAClB,WAAO,MAAA,CAAA,SAAA,CAAM,SAAN,CAAe,IAAf,CAAe,IAAf,EAAgB,CAAhB,CAAP;AACA,GAFD;;AAGA,EAAA,gCAAA,CAAA,SAAA,CAAA,UAAA,GAAA,UAAW,CAAX,EAAsC,CAAtC,EAAiD,CAAjD,EAA4D,CAA5D,EAAqE,CAArE,EAA8E,CAA9E,EAA8F;AAC7F,QAAI,CAAC,GAAsB,QAAQ,CAA0B,iBAAkB,CAAC,CAA7C,EAAgD,KAAK,CAAL,CAAO,EAAvD,CAAnC;AACA,QAAI,CAAC,GAAuB,CAAE,GAAF,EAAO,GAAP,EAAY,GAAZ,CAA5B;AACA,QAAI,CAAC,GAAmB,QAAQ,CAAuB,cAAe,CAAC,CAAvC,EAA0C,CAA1C,CAAhC;;AACA,QAAI,CAAC,IAAI,IAAL,IAAa,CAAC,CAAC,iBAAF,IAAuB,IAAxC,EAA8C;AAC7C,aAAO,CAAP;AACA;;AACD,QAAI,CAAC,GAAS,CAAC,CAAC,qBAAF,CAAwB,KAAK,CAA7B,CAAd;AACA,QAAI,CAAC,GAAW,CAAC,CAAC,WAAF,CAAc,IAAd,CAAmB,CAAnB,CAAhB;AACA,QAAI,CAAC,GAAW,CAAhB;AACA,QAAI,CAAC,GAAW,GAAhB;AACA,QAAI,CAAC,GAAW,GAAhB;AACA,QAAI,CAAC,GAAW,MAAM,CAAC,iBAAvB;AACA,QAAI,CAAC,GAAW,MAAM,CAAC,iBAAvB;AACA,QAAI,CAAC,GAAW,CAAhB;AACA,QAAI,CAAC,GAAW,IAAI,CAAC,GAAL,CAAS,CAAC,CAAC,EAAF,IAAQ,IAAR,GAAe,CAAC,CAAC,EAAF,CAAK,MAApB,GAA6B,CAAtC,EAAyC,CAAC,CAAC,EAAF,IAAQ,IAAR,GAAe,CAAC,CAAC,EAAF,CAAK,MAApB,GAA6B,CAAtE,CAAhB;AACA,QAAI,CAAC,GAAW,CAAC,GAAG,KAAK,CAAzB;AACA,QAAI,CAAC,GAAW,IAAI,CAAC,GAAL,CAAS,CAAC,GAAG,KAAK,CAAT,GAAa,CAAtB,EAAyB,CAAC,GAAG,CAA7B,CAAhB;;AACA,SAAK,IAAI,CAAC,GAAW,CAArB,EAAwB,CAAC,IAAI,CAA7B,EAAgC,EAAE,CAAlC,EAAqC;AACpC,MAAA,CAAC,GAAG,CAAC,CAAC,WAAF,CAAc,IAAd,CAAmB,CAAnB,CAAJ;AACA,MAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAC,CAAC,EAAF,CAAK,CAAL,CAAT,IAAoB,CAAC,CAAC,EAAF,CAAK,CAAL,CAAxB;;AACA,UAAI,CAAC,GAAG,CAAR,EAAW;AACV,QAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAC,CAAC,CAAC,iBAAF,CAAoB,EAApB,CAAuB,MAAvB,CAA8B,CAA9B,IAAmC,CAApC,IAAyC,CAAzC,GAA6C,GAAzD,CAAJ;AACA,QAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAC,CAAC,iBAAF,CAAoB,EAApB,CAAuB,MAAvB,CAA8B,CAA9B,IAAmC,CAAnC,GAAuC,GAAnD,CAAJ;AACA,OAHD,MAGO;AACN,QAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAC,CAAC,iBAAF,CAAoB,EAApB,CAAuB,MAAvB,CAA8B,CAA9B,IAAmC,CAAnC,GAAuC,GAAnD,CAAJ;AACA,QAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAC,CAAC,CAAC,iBAAF,CAAoB,EAApB,CAAuB,MAAvB,CAA8B,CAA9B,IAAmC,CAApC,IAAyC,CAAzC,GAA6C,GAAzD,CAAJ;AACA;;AACD,UAAI,CAAC,MAAM,CAAC,CAAD,CAAX,EAAgB;AACf,YAAI,CAAC,MAAM,CAAC,CAAD,CAAX,EAAgB;AACf,UAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAJ;AACA,UAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAJ;AACA;;AACD,YAAI,CAAC,MAAM,CAAC,CAAD,CAAX,EAAgB;AACf,UAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAJ;AACA,UAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAJ;AACA;AACD,OATD,MASO;AACN,QAAA,CAAC,GAAG,CAAJ;AACA,QAAA,CAAC,GAAG,CAAJ;AACA;AACD;;AACD,QAAI,CAAC,GAAiB,IAAI,YAAJ,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAAC,CAAC,aAAF,CAAgB,EAA1C,EAA8C,CAA9C,CAAtB;AACA,IAAA,CAAC,GAAG,CAAE,CAAC,CAAC,CAAF,CAAI,MAAJ,CAAW,CAAC,GAAG,KAAK,CAApB,EAAuB,CAAvB,CAAF,EAA6B,CAAC,CAAC,aAAF,CAAgB,EAAhB,CAAmB,CAAnB,EAAsB,CAAtB,CAA7B,EAAuD,CAAC,CAAC,aAAF,CAAgB,EAAhB,CAAmB,CAAnB,EAAsB,CAAtB,CAAvD,CAAJ;AACA,WAAO,CAAP;AACA,GA7CD;;AAPO,EAAA,gCAAA,CAAA,EAAA,GAAW,QAAQ,CAAC,gCAAD,EAAmC,kCAAnC,EAA6E,6BAA8B,CAAC,CAA5G,CAAnB;AAqDR,SAAA,gCAAA;AAAC,CAtDD,CAAsD,6BAAtD,CAAA;;SAAa,gC","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { StackedColumnBucketCalculator } from \"./StackedColumnBucketCalculator\";\nimport { StackedSeriesBase } from \"./StackedSeriesBase\";\nimport { ColumnFragment } from \"./ColumnFragment\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { typeCast, markType } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar Stacked100ColumnBucketCalculator = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Stacked100ColumnBucketCalculator, _super);\n    function Stacked100ColumnBucketCalculator(a) {\n        return _super.call(this, a) || this;\n    }\n    Stacked100ColumnBucketCalculator.prototype.getBucket = function (a) {\n        return _super.prototype.getBucket.call(this, a);\n    };\n    Stacked100ColumnBucketCalculator.prototype.getBucket1 = function (a, b, c, d, e, f) {\n        var g = typeCast(StackedSeriesBase.$, this.c.cp);\n        var h = [NaN, NaN, NaN];\n        var i = typeCast(ColumnFragment.$, a);\n        if (i == null || i.logicalSeriesLink == null) {\n            return h;\n        }\n        var j = g.getEffectiveViewport1(this.c);\n        var k = a.valueColumn.item(c);\n        var l = 0;\n        var m = NaN;\n        var n = NaN;\n        var o = Number.NEGATIVE_INFINITY;\n        var p = Number.POSITIVE_INFINITY;\n        var q = 0;\n        var r = Math.min(g.o0 != null ? g.o0.length : 0, g.oz != null ? g.oz.length : 0);\n        var s = c * this.d;\n        var t = Math.min(s + this.d - 1, r - 1);\n        for (var u = s; u <= t; ++u) {\n            k = a.valueColumn.item(u);\n            q = Math.abs(g.o0[u]) + g.oz[u];\n            if (k < l) {\n                p = Math.min(p, (i.logicalSeriesLink.ad._inner[u] + k) / q * 100);\n                o = Math.max(o, i.logicalSeriesLink.ad._inner[u] / q * 100);\n            }\n            else {\n                p = Math.min(p, i.logicalSeriesLink.ac._inner[u] / q * 100);\n                o = Math.max(o, (i.logicalSeriesLink.ac._inner[u] + k) / q * 100);\n            }\n            if (!isNaN_(m)) {\n                if (!isNaN_(p)) {\n                    m = Math.min(m, p);\n                    n = Math.max(n, p);\n                }\n                if (!isNaN_(o)) {\n                    m = Math.min(m, o);\n                    n = Math.max(n, o);\n                }\n            }\n            else {\n                m = p;\n                n = o;\n            }\n        }\n        var v = new ScalerParams(0, d, e, i.fragmentYAxis.ca, j);\n        h = [f.f._inner[b - this.e][0], i.fragmentYAxis.dy(n, v), i.fragmentYAxis.dy(m, v)];\n        return h;\n    };\n    Stacked100ColumnBucketCalculator.$t = markType(Stacked100ColumnBucketCalculator, 'Stacked100ColumnBucketCalculator', StackedColumnBucketCalculator.$);\n    return Stacked100ColumnBucketCalculator;\n}(StackedColumnBucketCalculator));\nexport { Stacked100ColumnBucketCalculator };\n//# sourceMappingURL=Stacked100ColumnBucketCalculator.js.map\n"]},"metadata":{},"sourceType":"module"}