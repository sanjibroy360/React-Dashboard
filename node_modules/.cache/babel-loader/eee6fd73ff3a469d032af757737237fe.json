{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, String_$type, typeCast, markType } from \"./type\";\nimport { List$1 } from \"./List$1\";\nimport { FastReflectionHelper } from \"./FastReflectionHelper\";\nimport { FormatSpecifier } from \"./FormatSpecifier\";\nimport { NumberFormatSpecifier } from \"./NumberFormatSpecifier\";\nimport { DateTimeFormatSpecifier } from \"./DateTimeFormatSpecifier\";\n/**\n * @hidden\n */\n\nvar BindingFormatter =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(BindingFormatter, _super);\n\n  function BindingFormatter() {\n    var _this = _super.call(this) || this;\n\n    _this.h = null;\n    _this.a = null;\n    _this.f = null;\n    _this.g = null;\n    _this.b = null;\n    _this.c = null;\n    return _this;\n  }\n\n  Object.defineProperty(BindingFormatter.prototype, \"j\", {\n    get: function () {\n      return this.h;\n    },\n    set: function (a) {\n      this.h = a;\n      this.l();\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  BindingFormatter.prototype.l = function () {\n    var a = this.j;\n\n    if (a == null) {\n      return;\n    }\n\n    var b = 0;\n    var c = new List$1(String_$type, 0);\n    var d = new List$1(FastReflectionHelper.$, 0);\n    var e = new List$1(String_$type, 0);\n\n    for (var f = a.indexOf('{', b); f >= b; f = a.indexOf('{', b)) {\n      e.add(a.substr(b, f - b));\n      var g = a.indexOf('}', f);\n\n      if (g <= f) {\n        return;\n      }\n\n      var h = a.substr(f + 1, g - f - 1).trim();\n      var i = h.indexOf(':');\n\n      if (i == -1) {\n        c.add(h);\n\n        if (h == \"0\" || h == \".\") {\n          d.add(null);\n        } else {\n          d.add(new FastReflectionHelper(false, h));\n        }\n      } else {\n        var j = h.substr(0, i).trim();\n        d.add(new FastReflectionHelper(false, j));\n        c.add(j);\n\n        if (j == \"0\" || j == \".\") {\n          d.add(null);\n        } else {\n          d.add(new FastReflectionHelper(false, h));\n        }\n      }\n\n      b = g + 1;\n    }\n\n    e.add(a.substr(b));\n    this.f = e;\n    this.g = d;\n  };\n\n  Object.defineProperty(BindingFormatter.prototype, \"d\", {\n    get: function () {\n      return this.a;\n    },\n    set: function (a) {\n      this.a = a;\n      this.k();\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  BindingFormatter.prototype.k = function () {\n    if (this.a == null) {\n      this.b = null;\n      this.c = null;\n      return;\n    }\n\n    this.b = new Array(this.a.length);\n    this.c = new Array(this.a.length);\n\n    for (var a = 0; a < this.a.length; a++) {\n      var spec_ = this.a[a];\n\n      if (spec_._implementation) {\n        spec_ = spec_._implementation;\n      }\n\n      var b = this.e(spec_);\n      this.c[a] = b;\n\n      if (b != 0) {\n        if (typeCast(FormatSpecifier.$, spec_) !== null) {\n          this.b[a] = spec_.a();\n        } else {\n          this.b[a] = spec_;\n        }\n      }\n    }\n  };\n\n  BindingFormatter.prototype.e = function (a) {\n    if (a == null) {\n      return 0;\n    }\n\n    var v_ = a;\n\n    if (v_ instanceof Intl.NumberFormat || typeCast(NumberFormatSpecifier.$, v_) !== null) {\n      return 1;\n    }\n\n    if (v_ instanceof Intl.DateTimeFormat || typeCast(DateTimeFormatSpecifier.$, v_) !== null) {\n      return 2;\n    }\n\n    return 0;\n  };\n\n  BindingFormatter.prototype.i = function (a) {\n    var b = \"\";\n\n    if (this.f == null) {\n      return b;\n    }\n\n    for (var c = 0; c < this.f.count; c++) {\n      b += this.f._inner[c];\n\n      if (c < this.g.count) {\n        var obj_ = a;\n        var d = this.g._inner[c];\n\n        if (d != null) {\n          obj_ = d.getPropertyValue(obj_);\n        }\n\n        if (this.b != null && c < this.b.length && this.b[c] != null) {\n          var platformSpecifier_ = this.b[c];\n          var e = this.c[c];\n          var intlSpecifier_ = platformSpecifier_;\n          b += intlSpecifier_.format(obj_);\n        } else {\n          b += obj_ != null ? obj_.toString() : \"\";\n        }\n      }\n    }\n\n    return b;\n  };\n\n  BindingFormatter.$t = markType(BindingFormatter, 'BindingFormatter');\n  return BindingFormatter;\n}(Base);\n\nexport { BindingFormatter };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/BindingFormatter.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, String_$type, typeCast, markType } from \"./type\";\nimport { List$1 } from \"./List$1\";\nimport { FastReflectionHelper } from \"./FastReflectionHelper\";\nimport { FormatSpecifier } from \"./FormatSpecifier\";\nimport { NumberFormatSpecifier } from \"./NumberFormatSpecifier\";\nimport { DateTimeFormatSpecifier } from \"./DateTimeFormatSpecifier\";\n/**\n * @hidden\n */\nvar BindingFormatter = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BindingFormatter, _super);\n    function BindingFormatter() {\n        var _this = _super.call(this) || this;\n        _this.h = null;\n        _this.a = null;\n        _this.f = null;\n        _this.g = null;\n        _this.b = null;\n        _this.c = null;\n        return _this;\n    }\n    Object.defineProperty(BindingFormatter.prototype, \"j\", {\n        get: function () {\n            return this.h;\n        },\n        set: function (a) {\n            this.h = a;\n            this.l();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BindingFormatter.prototype.l = function () {\n        var a = this.j;\n        if (a == null) {\n            return;\n        }\n        var b = 0;\n        var c = new List$1(String_$type, 0);\n        var d = new List$1(FastReflectionHelper.$, 0);\n        var e = new List$1(String_$type, 0);\n        for (var f = a.indexOf('{', b); f >= b; f = a.indexOf('{', b)) {\n            e.add(a.substr(b, f - b));\n            var g = a.indexOf('}', f);\n            if (g <= f) {\n                return;\n            }\n            var h = a.substr(f + 1, g - f - 1).trim();\n            var i = h.indexOf(':');\n            if (i == -1) {\n                c.add(h);\n                if (h == \"0\" || h == \".\") {\n                    d.add(null);\n                }\n                else {\n                    d.add(new FastReflectionHelper(false, h));\n                }\n            }\n            else {\n                var j = h.substr(0, i).trim();\n                d.add(new FastReflectionHelper(false, j));\n                c.add(j);\n                if (j == \"0\" || j == \".\") {\n                    d.add(null);\n                }\n                else {\n                    d.add(new FastReflectionHelper(false, h));\n                }\n            }\n            b = g + 1;\n        }\n        e.add(a.substr(b));\n        this.f = e;\n        this.g = d;\n    };\n    Object.defineProperty(BindingFormatter.prototype, \"d\", {\n        get: function () {\n            return this.a;\n        },\n        set: function (a) {\n            this.a = a;\n            this.k();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BindingFormatter.prototype.k = function () {\n        if (this.a == null) {\n            this.b = null;\n            this.c = null;\n            return;\n        }\n        this.b = new Array(this.a.length);\n        this.c = new Array(this.a.length);\n        for (var a = 0; a < this.a.length; a++) {\n            var spec_ = this.a[a];\n            if ((spec_._implementation)) {\n                spec_ = (spec_._implementation);\n            }\n            var b = this.e(spec_);\n            this.c[a] = b;\n            if (b != 0) {\n                if (typeCast(FormatSpecifier.$, spec_) !== null) {\n                    this.b[a] = spec_.a();\n                }\n                else {\n                    this.b[a] = spec_;\n                }\n            }\n        }\n    };\n    BindingFormatter.prototype.e = function (a) {\n        if (a == null) {\n            return 0;\n        }\n        var v_ = a;\n        if ((v_ instanceof Intl.NumberFormat) || typeCast(NumberFormatSpecifier.$, v_) !== null) {\n            return 1;\n        }\n        if ((v_ instanceof Intl.DateTimeFormat) || typeCast(DateTimeFormatSpecifier.$, v_) !== null) {\n            return 2;\n        }\n        return 0;\n    };\n    BindingFormatter.prototype.i = function (a) {\n        var b = \"\";\n        if (this.f == null) {\n            return b;\n        }\n        for (var c = 0; c < this.f.count; c++) {\n            b += this.f._inner[c];\n            if (c < this.g.count) {\n                var obj_ = a;\n                var d = this.g._inner[c];\n                if (d != null) {\n                    obj_ = d.getPropertyValue(obj_);\n                }\n                if (this.b != null && c < this.b.length && this.b[c] != null) {\n                    var platformSpecifier_ = this.b[c];\n                    var e = this.c[c];\n                    var intlSpecifier_ = platformSpecifier_;\n                    b += intlSpecifier_.format(obj_);\n                }\n                else {\n                    b += obj_ != null ? obj_.toString() : \"\";\n                }\n            }\n        }\n        return b;\n    };\n    BindingFormatter.$t = markType(BindingFormatter, 'BindingFormatter');\n    return BindingFormatter;\n}(Base));\nexport { BindingFormatter };\n//# sourceMappingURL=BindingFormatter.js.map\n"]},"metadata":{},"sourceType":"module"}